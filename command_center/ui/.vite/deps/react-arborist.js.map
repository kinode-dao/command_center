{
  "version": 3,
  "sources": ["../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.development.js", "../../node_modules/use-sync-external-store/shim/index.js", "../../node_modules/react-is/cjs/react-is.development.js", "../../node_modules/react-is/index.js", "../../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js", "../../node_modules/fast-deep-equal/index.js", "../../node_modules/react-arborist/dist/module/components/tree.js", "../../node_modules/react-arborist/dist/module/components/provider.js", "../../node_modules/react-arborist/dist/module/context.js", "../../node_modules/react-arborist/dist/module/utils.js", "../../node_modules/react-arborist/dist/module/components/default-cursor.js", "../../node_modules/react-arborist/dist/module/components/default-row.js", "../../node_modules/react-arborist/dist/module/components/default-node.js", "../../node_modules/react-arborist/dist/module/state/edit-slice.js", "../../node_modules/react-arborist/dist/module/state/focus-slice.js", "../../node_modules/react-arborist/dist/module/interfaces/node-api.js", "../../node_modules/react-arborist/dist/module/data/create-root.js", "../../node_modules/react-arborist/dist/module/state/open-slice.js", "../../node_modules/react-arborist/dist/module/state/initial.js", "../../node_modules/react-arborist/dist/module/state/selection-slice.js", "../../node_modules/react-arborist/dist/module/state/dnd-slice.js", "../../node_modules/react-arborist/dist/module/components/default-drag-preview.js", "../../node_modules/react-arborist/dist/module/components/default-container.js", "../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js", "../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js", "../../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js", "../../node_modules/memoize-one/dist/memoize-one.esm.js", "../../node_modules/react-window/src/timer.js", "../../node_modules/react-window/src/domHelpers.js", "../../node_modules/react-window/src/createGridComponent.js", "../../node_modules/react-window/src/VariableSizeGrid.js", "../../node_modules/react-window/src/createListComponent.js", "../../node_modules/react-window/src/VariableSizeList.js", "../../node_modules/react-window/src/FixedSizeGrid.js", "../../node_modules/react-window/src/FixedSizeList.js", "../../node_modules/react-window/src/shallowDiffers.js", "../../node_modules/react-window/src/areEqual.js", "../../node_modules/react-window/src/shouldComponentUpdate.js", "../../node_modules/react-arborist/dist/module/components/list-outer-element.js", "../../node_modules/react-arborist/dist/module/components/cursor.js", "../../node_modules/react-arborist/dist/module/components/list-inner-element.js", "../../node_modules/react-arborist/dist/module/components/row-container.js", "../../node_modules/react-arborist/dist/module/dnd/drag-hook.js", "../../node_modules/react-dnd/dist/esm/core/DndContext.js", "../../node_modules/react-dnd/dist/esm/core/DndProvider.js", "../../node_modules/dnd-core/dist/esm/interfaces.js", "../../node_modules/@react-dnd/invariant/src/index.ts", "../../node_modules/dnd-core/dist/esm/actions/dragDrop/types.js", "../../node_modules/dnd-core/dist/esm/actions/dragDrop/local/setClientOffset.js", "../../node_modules/dnd-core/dist/esm/utils/js_utils.js", "../../node_modules/dnd-core/dist/esm/actions/dragDrop/beginDrag.js", "../../node_modules/dnd-core/dist/esm/actions/dragDrop/publishDragSource.js", "../../node_modules/dnd-core/dist/esm/utils/matchesType.js", "../../node_modules/dnd-core/dist/esm/actions/dragDrop/hover.js", "../../node_modules/dnd-core/dist/esm/actions/dragDrop/drop.js", "../../node_modules/dnd-core/dist/esm/actions/dragDrop/endDrag.js", "../../node_modules/dnd-core/dist/esm/actions/dragDrop/index.js", "../../node_modules/dnd-core/dist/esm/classes/DragDropManagerImpl.js", "../../node_modules/dnd-core/node_modules/redux/es/redux.js", "../../node_modules/dnd-core/dist/esm/utils/equality.js", "../../node_modules/dnd-core/dist/esm/reducers/dragOffset.js", "../../node_modules/dnd-core/dist/esm/actions/registry.js", "../../node_modules/dnd-core/dist/esm/reducers/dragOperation.js", "../../node_modules/dnd-core/dist/esm/reducers/refCount.js", "../../node_modules/dnd-core/dist/esm/utils/dirtiness.js", "../../node_modules/dnd-core/dist/esm/reducers/dirtyHandlerIds.js", "../../node_modules/dnd-core/dist/esm/reducers/stateId.js", "../../node_modules/dnd-core/dist/esm/reducers/index.js", "../../node_modules/dnd-core/dist/esm/utils/coords.js", "../../node_modules/dnd-core/dist/esm/classes/DragDropMonitorImpl.js", "../../node_modules/dnd-core/dist/esm/utils/getNextUniqueId.js", "../../node_modules/dnd-core/dist/esm/contracts.js", "../../node_modules/@react-dnd/asap/src/makeRequestCall.ts", "../../node_modules/@react-dnd/asap/src/AsapQueue.ts", "../../node_modules/@react-dnd/asap/src/RawTask.ts", "../../node_modules/@react-dnd/asap/src/TaskFactory.ts", "../../node_modules/@react-dnd/asap/src/asap.ts", "../../node_modules/dnd-core/dist/esm/classes/HandlerRegistryImpl.js", "../../node_modules/dnd-core/dist/esm/createDragDropManager.js", "../../node_modules/react-dnd/dist/esm/core/DragPreviewImage.js", "../../node_modules/react-dnd/dist/esm/internals/DragSourceMonitorImpl.js", "../../node_modules/react-dnd/dist/esm/internals/DropTargetMonitorImpl.js", "../../node_modules/react-dnd/dist/esm/internals/wrapConnectorHooks.js", "../../node_modules/react-dnd/dist/esm/internals/isRef.js", "../../node_modules/@react-dnd/shallowequal/src/index.ts", "../../node_modules/react-dnd/dist/esm/internals/SourceConnector.js", "../../node_modules/react-dnd/dist/esm/internals/TargetConnector.js", "../../node_modules/react-dnd/dist/esm/internals/registration.js", "../../node_modules/react-dnd/dist/esm/decorators/utils.js", "../../node_modules/react-dnd/dist/esm/decorators/decorateHandler.js", "../../node_modules/react-dnd/dist/esm/decorators/disposables.js", "../../node_modules/react-dnd/dist/esm/decorators/createSourceFactory.js", "../../node_modules/react-dnd/dist/esm/decorators/createTargetFactory.js", "../../node_modules/react-dnd/dist/esm/decorators/DragLayer.js", "../../node_modules/react-dnd/dist/esm/hooks/useIsomorphicLayoutEffect.js", "../../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSource.js", "../../node_modules/react-dnd/dist/esm/hooks/useDrag/DragSourceImpl.js", "../../node_modules/react-dnd/dist/esm/hooks/useDragDropManager.js", "../../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragType.js", "../../node_modules/react-dnd/dist/esm/hooks/useDrag/useRegisteredDragSource.js", "../../node_modules/react-dnd/dist/esm/hooks/useOptionalFactory.js", "../../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSourceMonitor.js", "../../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSourceConnector.js", "../../node_modules/react-dnd/dist/esm/hooks/useCollector.js", "../../node_modules/react-dnd/dist/esm/hooks/useMonitorOutput.js", "../../node_modules/react-dnd/dist/esm/hooks/useCollectedProps.js", "../../node_modules/react-dnd/dist/esm/hooks/useDrag/connectors.js", "../../node_modules/react-dnd/dist/esm/hooks/useDrag/useDrag.js", "../../node_modules/react-dnd/dist/esm/hooks/useDrop/useAccept.js", "../../node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTarget.js", "../../node_modules/react-dnd/dist/esm/hooks/useDrop/DropTargetImpl.js", "../../node_modules/react-dnd/dist/esm/hooks/useDrop/useRegisteredDropTarget.js", "../../node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTargetMonitor.js", "../../node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTargetConnector.js", "../../node_modules/react-dnd/dist/esm/hooks/useDrop/connectors.js", "../../node_modules/react-dnd/dist/esm/hooks/useDrop/useDrop.js", "../../node_modules/react-dnd/dist/esm/hooks/useDragLayer.js", "../../node_modules/react-dnd-html5-backend/dist/esm/utils/js_utils.js", "../../node_modules/react-dnd-html5-backend/dist/esm/EnterLeaveCounter.js", "../../node_modules/react-dnd-html5-backend/dist/esm/BrowserDetector.js", "../../node_modules/react-dnd-html5-backend/dist/esm/MonotonicInterpolant.js", "../../node_modules/react-dnd-html5-backend/dist/esm/OffsetUtils.js", "../../node_modules/react-dnd-html5-backend/dist/esm/NativeTypes.js", "../../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/getDataFromDataTransfer.js", "../../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/nativeTypesConfig.js", "../../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/NativeDragSource.js", "../../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/index.js", "../../node_modules/react-dnd-html5-backend/dist/esm/OptionsReader.js", "../../node_modules/react-dnd-html5-backend/dist/esm/HTML5BackendImpl.js", "../../node_modules/react-dnd-html5-backend/dist/esm/getEmptyImage.js", "../../node_modules/react-dnd-html5-backend/dist/esm/index.js", "../../node_modules/react-arborist/dist/module/dnd/compute-drop.js", "../../node_modules/react-arborist/dist/module/dnd/drop-hook.js", "../../node_modules/react-arborist/dist/module/hooks/use-fresh-node.js", "../../node_modules/react-arborist/dist/module/data/create-list.js", "../../node_modules/react-arborist/dist/module/data/create-index.js", "../../node_modules/react-arborist/dist/module/interfaces/tree-api.js", "../../node_modules/redux/src/utils/formatProdErrorMessage.ts", "../../node_modules/redux/src/utils/symbol-observable.ts", "../../node_modules/redux/src/utils/actionTypes.ts", "../../node_modules/redux/src/utils/isPlainObject.ts", "../../node_modules/redux/src/utils/kindOf.ts", "../../node_modules/redux/src/createStore.ts", "../../node_modules/redux/src/utils/warning.ts", "../../node_modules/redux/src/combineReducers.ts", "../../node_modules/redux/src/bindActionCreators.ts", "../../node_modules/redux/src/compose.ts", "../../node_modules/redux/src/applyMiddleware.ts", "../../node_modules/redux/src/utils/isAction.ts", "../../node_modules/react-arborist/dist/module/state/drag-slice.js", "../../node_modules/react-arborist/dist/module/state/root-reducer.js", "../../node_modules/react-arborist/dist/module/dnd/outer-drop-hook.js", "../../node_modules/react-arborist/dist/module/components/outer-drop.js", "../../node_modules/react-arborist/dist/module/components/tree-container.js", "../../node_modules/react-arborist/dist/module/components/drag-preview-container.js", "../../node_modules/react-arborist/dist/module/hooks/use-simple-tree.js", "../../node_modules/react-arborist/dist/module/data/simple-tree.js", "../../node_modules/react-arborist/dist/module/hooks/use-validated-props.js"],
  "sourcesContent": ["/**\n * @license React\n * use-sync-external-store-shim.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n\n          'use strict';\n\n/* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\nif (\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart ===\n    'function'\n) {\n  __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error());\n}\n          var React = require('react');\n\nvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x, y) {\n  return x === y && (x !== 0 || 1 / x === 1 / y) || x !== x && y !== y // eslint-disable-line no-self-compare\n  ;\n}\n\nvar objectIs = typeof Object.is === 'function' ? Object.is : is;\n\n// dispatch for CommonJS interop named imports.\n\nvar useState = React.useState,\n    useEffect = React.useEffect,\n    useLayoutEffect = React.useLayoutEffect,\n    useDebugValue = React.useDebugValue;\nvar didWarnOld18Alpha = false;\nvar didWarnUncachedGetSnapshot = false; // Disclaimer: This shim breaks many of the rules of React, and only works\n// because of a very particular set of implementation details and assumptions\n// -- change any one of them and it will break. The most important assumption\n// is that updates are always synchronous, because concurrent rendering is\n// only available in versions of React that also have a built-in\n// useSyncExternalStore API. And we only use this shim when the built-in API\n// does not exist.\n//\n// Do not assume that the clever hacks used by this hook also work in general.\n// The point of this shim is to replace the need for hacks by other libraries.\n\nfunction useSyncExternalStore(subscribe, getSnapshot, // Note: The shim does not use getServerSnapshot, because pre-18 versions of\n// React do not expose a way to check if we're hydrating. So users of the shim\n// will need to track that themselves and return the correct value\n// from `getSnapshot`.\ngetServerSnapshot) {\n  {\n    if (!didWarnOld18Alpha) {\n      if (React.startTransition !== undefined) {\n        didWarnOld18Alpha = true;\n\n        error('You are using an outdated, pre-release alpha of React 18 that ' + 'does not support useSyncExternalStore. The ' + 'use-sync-external-store shim will not work correctly. Upgrade ' + 'to a newer pre-release.');\n      }\n    }\n  } // Read the current snapshot from the store on every render. Again, this\n  // breaks the rules of React, and only works here because of specific\n  // implementation details, most importantly that updates are\n  // always synchronous.\n\n\n  var value = getSnapshot();\n\n  {\n    if (!didWarnUncachedGetSnapshot) {\n      var cachedValue = getSnapshot();\n\n      if (!objectIs(value, cachedValue)) {\n        error('The result of getSnapshot should be cached to avoid an infinite loop');\n\n        didWarnUncachedGetSnapshot = true;\n      }\n    }\n  } // Because updates are synchronous, we don't queue them. Instead we force a\n  // re-render whenever the subscribed state changes by updating an some\n  // arbitrary useState hook. Then, during render, we call getSnapshot to read\n  // the current value.\n  //\n  // Because we don't actually use the state returned by the useState hook, we\n  // can save a bit of memory by storing other stuff in that slot.\n  //\n  // To implement the early bailout, we need to track some things on a mutable\n  // object. Usually, we would put that in a useRef hook, but we can stash it in\n  // our useState hook instead.\n  //\n  // To force a re-render, we call forceUpdate({inst}). That works because the\n  // new object always fails an equality check.\n\n\n  var _useState = useState({\n    inst: {\n      value: value,\n      getSnapshot: getSnapshot\n    }\n  }),\n      inst = _useState[0].inst,\n      forceUpdate = _useState[1]; // Track the latest getSnapshot function with a ref. This needs to be updated\n  // in the layout phase so we can access it during the tearing check that\n  // happens on subscribe.\n\n\n  useLayoutEffect(function () {\n    inst.value = value;\n    inst.getSnapshot = getSnapshot; // Whenever getSnapshot or subscribe changes, we need to check in the\n    // commit phase if there was an interleaved mutation. In concurrent mode\n    // this can happen all the time, but even in synchronous mode, an earlier\n    // effect may have mutated the store.\n\n    if (checkIfSnapshotChanged(inst)) {\n      // Force a re-render.\n      forceUpdate({\n        inst: inst\n      });\n    }\n  }, [subscribe, value, getSnapshot]);\n  useEffect(function () {\n    // Check for changes right before subscribing. Subsequent changes will be\n    // detected in the subscription handler.\n    if (checkIfSnapshotChanged(inst)) {\n      // Force a re-render.\n      forceUpdate({\n        inst: inst\n      });\n    }\n\n    var handleStoreChange = function () {\n      // TODO: Because there is no cross-renderer API for batching updates, it's\n      // up to the consumer of this library to wrap their subscription event\n      // with unstable_batchedUpdates. Should we try to detect when this isn't\n      // the case and print a warning in development?\n      // The store changed. Check if the snapshot changed since the last time we\n      // read from the store.\n      if (checkIfSnapshotChanged(inst)) {\n        // Force a re-render.\n        forceUpdate({\n          inst: inst\n        });\n      }\n    }; // Subscribe to the store and return a clean-up function.\n\n\n    return subscribe(handleStoreChange);\n  }, [subscribe]);\n  useDebugValue(value);\n  return value;\n}\n\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  var prevValue = inst.value;\n\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(prevValue, nextValue);\n  } catch (error) {\n    return true;\n  }\n}\n\nfunction useSyncExternalStore$1(subscribe, getSnapshot, getServerSnapshot) {\n  // Note: The shim does not use getServerSnapshot, because pre-18 versions of\n  // React do not expose a way to check if we're hydrating. So users of the shim\n  // will need to track that themselves and return the correct value\n  // from `getSnapshot`.\n  return getSnapshot();\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined');\n\nvar isServerEnvironment = !canUseDOM;\n\nvar shim = isServerEnvironment ? useSyncExternalStore$1 : useSyncExternalStore;\nvar useSyncExternalStore$2 = React.useSyncExternalStore !== undefined ? React.useSyncExternalStore : shim;\n\nexports.useSyncExternalStore = useSyncExternalStore$2;\n          /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\nif (\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop ===\n    'function'\n) {\n  __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error());\n}\n        \n  })();\n}\n", "'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n", "/** @license React v16.13.1\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n// (unstable) APIs that have been removed. Can we remove the symbols?\n\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\nvar REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\nvar REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\nvar REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\nvar REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n}\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n\n              default:\n                return $$typeof;\n            }\n\n        }\n\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n} // AsyncMode is deprecated along with isAsyncMode\n\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\nvar hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\nexports.isValidElementType = isValidElementType;\nexports.typeOf = typeOf;\n  })();\n}\n", "'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n", "'use strict';\n\nvar reactIs = require('react-is');\n\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;\n", "'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n", "import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { forwardRef } from \"react\";\nimport { TreeProvider } from \"./provider\";\nimport { OuterDrop } from \"./outer-drop\";\nimport { TreeContainer } from \"./tree-container\";\nimport { DragPreviewContainer } from \"./drag-preview-container\";\nimport { useValidatedProps } from \"../hooks/use-validated-props\";\nfunction TreeComponent(props, ref) {\n    const treeProps = useValidatedProps(props);\n    return (_jsxs(TreeProvider, { treeProps: treeProps, imperativeHandle: ref, children: [_jsx(OuterDrop, { children: _jsx(TreeContainer, {}) }), _jsx(DragPreviewContainer, {})] }));\n}\nexport const Tree = forwardRef(TreeComponent);\n", "import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, useImperativeHandle, useMemo, useRef, } from \"react\";\nimport { useSyncExternalStore } from \"use-sync-external-store/shim\";\nimport { DataUpdatesContext, DndContext, NodesContext, TreeApiContext, } from \"../context\";\nimport { TreeApi } from \"../interfaces/tree-api\";\nimport { initialState } from \"../state/initial\";\nimport { rootReducer } from \"../state/root-reducer\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\nimport { DndProvider } from \"react-dnd\";\nimport { createStore } from \"redux\";\nimport { actions as visibility } from \"../state/open-slice\";\nconst SERVER_STATE = initialState();\nexport function TreeProvider({ treeProps, imperativeHandle, children, }) {\n    const list = useRef(null);\n    const listEl = useRef(null);\n    const store = useRef(\n    // @ts-ignore\n    createStore(rootReducer, initialState(treeProps)));\n    const state = useSyncExternalStore(store.current.subscribe, store.current.getState, () => SERVER_STATE);\n    /* The tree api object is stable. */\n    const api = useMemo(() => {\n        return new TreeApi(store.current, treeProps, list, listEl);\n    }, []);\n    /* Make sure the tree instance stays in sync */\n    const updateCount = useRef(0);\n    useMemo(() => {\n        updateCount.current += 1;\n        api.update(treeProps);\n    }, [...Object.values(treeProps), state.nodes.open]);\n    /* Expose the tree api */\n    useImperativeHandle(imperativeHandle, () => api);\n    /* Change selection based on props */\n    useEffect(() => {\n        if (api.props.selection) {\n            api.select(api.props.selection, { focus: false });\n        }\n        else {\n            api.deselectAll();\n        }\n    }, [api.props.selection]);\n    /* Clear visability for filtered nodes */\n    useEffect(() => {\n        if (!api.props.searchTerm) {\n            store.current.dispatch(visibility.clear(true));\n        }\n    }, [api.props.searchTerm]);\n    return (_jsx(TreeApiContext.Provider, { value: api, children: _jsx(DataUpdatesContext.Provider, { value: updateCount.current, children: _jsx(NodesContext.Provider, { value: state.nodes, children: _jsx(DndContext.Provider, { value: state.dnd, children: _jsx(DndProvider, Object.assign({ backend: HTML5Backend, options: { rootElement: api.props.dndRootElement || undefined } }, (treeProps.dndManager && { manager: treeProps.dndManager }), { children: children })) }) }) }) }));\n}\n", "import { createContext, useContext } from \"react\";\nexport const TreeApiContext = createContext(null);\nexport function useTreeApi() {\n    const value = useContext(TreeApiContext);\n    if (value === null)\n        throw new Error(\"No Tree Api Provided\");\n    return value;\n}\nexport const NodesContext = createContext(null);\nexport function useNodesContext() {\n    const value = useContext(NodesContext);\n    if (value === null)\n        throw new Error(\"Provide a NodesContext\");\n    return value;\n}\nexport const DndContext = createContext(null);\nexport function useDndContext() {\n    const value = useContext(DndContext);\n    if (value === null)\n        throw new Error(\"Provide a DnDContext\");\n    return value;\n}\nexport const DataUpdatesContext = createContext(0);\nexport function useDataUpdates() {\n    useContext(DataUpdatesContext);\n}\n", "export function bound(n, min, max) {\n    return Math.max(Math.min(n, max), min);\n}\nexport function isItem(node) {\n    return node && node.isLeaf;\n}\nexport function isClosed(node) {\n    return node && node.isInternal && !node.isOpen;\n}\nexport function isOpenWithEmptyChildren(node) {\n    var _a;\n    return node && node.isOpen && !((_a = node.children) === null || _a === void 0 ? void 0 : _a.length);\n}\n/**\n * Is first param a descendant of the second param\n */\nexport const isDescendant = (a, b) => {\n    let n = a;\n    while (n) {\n        if (n.id === b.id)\n            return true;\n        n = n.parent;\n    }\n    return false;\n};\nexport const indexOf = (node) => {\n    if (!node.parent)\n        throw Error(\"Node does not have a parent\");\n    return node.parent.children.findIndex((c) => c.id === node.id);\n};\nexport function noop() { }\nexport function dfs(node, id) {\n    if (!node)\n        return null;\n    if (node.id === id)\n        return node;\n    if (node.children) {\n        for (let child of node.children) {\n            const result = dfs(child, id);\n            if (result)\n                return result;\n        }\n    }\n    return null;\n}\nexport function walk(node, fn) {\n    fn(node);\n    if (node.children) {\n        for (let child of node.children) {\n            walk(child, fn);\n        }\n    }\n}\nexport function focusNextElement(target) {\n    const elements = getFocusable(target);\n    let next;\n    for (let i = 0; i < elements.length; ++i) {\n        const item = elements[i];\n        if (item === target) {\n            next = nextItem(elements, i);\n            break;\n        }\n    }\n    // @ts-ignore ??\n    next === null || next === void 0 ? void 0 : next.focus();\n}\nexport function focusPrevElement(target) {\n    const elements = getFocusable(target);\n    let next;\n    for (let i = 0; i < elements.length; ++i) {\n        const item = elements[i];\n        if (item === target) {\n            next = prevItem(elements, i);\n            break;\n        }\n    }\n    // @ts-ignore\n    next === null || next === void 0 ? void 0 : next.focus();\n}\nfunction nextItem(list, index) {\n    if (index + 1 < list.length) {\n        return list[index + 1];\n    }\n    else {\n        return list[0];\n    }\n}\nfunction prevItem(list, index) {\n    if (index - 1 >= 0) {\n        return list[index - 1];\n    }\n    else {\n        return list[list.length - 1];\n    }\n}\nfunction getFocusable(target) {\n    return Array.from(document.querySelectorAll('button:not([disabled]), [href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex=\"-1\"]):not([disabled]), details:not([disabled]), summary:not(:disabled)')).filter((e) => e === target || !target.contains(e));\n}\nexport function access(obj, accessor) {\n    if (typeof accessor === \"boolean\")\n        return accessor;\n    if (typeof accessor === \"string\")\n        return obj[accessor];\n    return accessor(obj);\n}\nexport function identifyNull(obj) {\n    if (obj === null)\n        return null;\n    else\n        return identify(obj);\n}\nexport function identify(obj) {\n    return typeof obj === \"string\" ? obj : obj.id;\n}\nexport function mergeRefs(...refs) {\n    return (instance) => {\n        refs.forEach((ref) => {\n            if (typeof ref === \"function\") {\n                ref(instance);\n            }\n            else if (ref != null) {\n                ref.current = instance;\n            }\n        });\n    };\n}\nexport function safeRun(fn, ...args) {\n    if (fn)\n        return fn(...args);\n}\nexport function waitFor(fn) {\n    return new Promise((resolve, reject) => {\n        let tries = 0;\n        function check() {\n            tries += 1;\n            if (tries === 100)\n                reject();\n            if (fn())\n                resolve();\n            else\n                setTimeout(check, 10);\n        }\n        check();\n    });\n}\nexport function getInsertIndex(tree) {\n    var _a, _b;\n    const focus = tree.focusedNode;\n    if (!focus)\n        return (_b = (_a = tree.root.children) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0;\n    if (focus.isOpen)\n        return 0;\n    if (focus.parent)\n        return focus.childIndex + 1;\n    return 0;\n}\nexport function getInsertParentId(tree) {\n    const focus = tree.focusedNode;\n    if (!focus)\n        return null;\n    if (focus.isOpen)\n        return focus.id;\n    if (focus.parent && !focus.parent.isRoot)\n        return focus.parent.id;\n    return null;\n}\n", "import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React from \"react\";\nconst placeholderStyle = {\n    display: \"flex\",\n    alignItems: \"center\",\n    zIndex: 1,\n};\nconst lineStyle = {\n    flex: 1,\n    height: \"2px\",\n    background: \"#4B91E2\",\n    borderRadius: \"1px\",\n};\nconst circleStyle = {\n    width: \"4px\",\n    height: \"4px\",\n    boxShadow: \"0 0 0 3px #4B91E2\",\n    borderRadius: \"50%\",\n};\nexport const DefaultCursor = React.memo(function DefaultCursor({ top, left, indent, }) {\n    const style = {\n        position: \"absolute\",\n        pointerEvents: \"none\",\n        top: top - 2 + \"px\",\n        left: left + \"px\",\n        right: indent + \"px\",\n    };\n    return (_jsxs(\"div\", { style: Object.assign(Object.assign({}, placeholderStyle), style), children: [_jsx(\"div\", { style: Object.assign({}, circleStyle) }), _jsx(\"div\", { style: Object.assign({}, lineStyle) })] }));\n});\n", "import { jsx as _jsx } from \"react/jsx-runtime\";\nexport function DefaultRow({ node, attrs, innerRef, children, }) {\n    return (_jsx(\"div\", Object.assign({}, attrs, { ref: innerRef, onFocus: (e) => e.stopPropagation(), onClick: node.handleClick, children: children })));\n}\n", "import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { useEffect, useRef } from \"react\";\nexport function DefaultNode(props) {\n    return (_jsxs(\"div\", { ref: props.dragHandle, style: props.style, children: [_jsx(\"span\", { onClick: (e) => {\n                    e.stopPropagation();\n                    props.node.toggle();\n                }, children: props.node.isLeaf ? \"ðŸŒ³\" : props.node.isOpen ? \"ðŸ—\" : \"ðŸ—€\" }), \" \", props.node.isEditing ? _jsx(Edit, Object.assign({}, props)) : _jsx(Show, Object.assign({}, props))] }));\n}\nfunction Show(props) {\n    return (_jsx(_Fragment, { children: _jsx(\"span\", { children: props.node.data.name }) }));\n}\nfunction Edit({ node }) {\n    const input = useRef();\n    useEffect(() => {\n        var _a, _b;\n        (_a = input.current) === null || _a === void 0 ? void 0 : _a.focus();\n        (_b = input.current) === null || _b === void 0 ? void 0 : _b.select();\n    }, []);\n    return (_jsx(\"input\", { ref: input, \n        // @ts-ignore\n        defaultValue: node.data.name, onBlur: () => node.reset(), onKeyDown: (e) => {\n            var _a;\n            if (e.key === \"Escape\")\n                node.reset();\n            if (e.key === \"Enter\")\n                node.submit(((_a = input.current) === null || _a === void 0 ? void 0 : _a.value) || \"\");\n        } }));\n}\n", "/* Actions */\nexport function edit(id) {\n    return { type: \"EDIT\", id };\n}\n/* Reducer */\nexport function reducer(state = { id: null }, action) {\n    if (action.type === \"EDIT\") {\n        return Object.assign(Object.assign({}, state), { id: action.id });\n    }\n    else {\n        return state;\n    }\n}\n", "/* Types */\n/* Actions */\nexport function focus(id) {\n    return { type: \"FOCUS\", id };\n}\nexport function treeBlur() {\n    return { type: \"TREE_BLUR\" };\n}\n/* Reducer */\nexport function reducer(state = { id: null, treeFocused: false }, action) {\n    if (action.type === \"FOCUS\") {\n        return Object.assign(Object.assign({}, state), { id: action.id, treeFocused: true });\n    }\n    else if (action.type === \"TREE_BLUR\") {\n        return Object.assign(Object.assign({}, state), { treeFocused: false });\n    }\n    else {\n        return state;\n    }\n}\n", "import { ROOT_ID } from \"../data/create-root\";\nexport class NodeApi {\n    constructor(params) {\n        this.handleClick = (e) => {\n            if (e.metaKey && !this.tree.props.disableMultiSelection) {\n                this.isSelected ? this.deselect() : this.selectMulti();\n            }\n            else if (e.shiftKey && !this.tree.props.disableMultiSelection) {\n                this.selectContiguous();\n            }\n            else {\n                this.select();\n                this.activate();\n            }\n        };\n        this.tree = params.tree;\n        this.id = params.id;\n        this.data = params.data;\n        this.level = params.level;\n        this.children = params.children;\n        this.parent = params.parent;\n        this.isDraggable = params.isDraggable;\n        this.rowIndex = params.rowIndex;\n    }\n    get isRoot() {\n        return this.id === ROOT_ID;\n    }\n    get isLeaf() {\n        return !Array.isArray(this.children);\n    }\n    get isInternal() {\n        return !this.isLeaf;\n    }\n    get isOpen() {\n        return this.isLeaf ? false : this.tree.isOpen(this.id);\n    }\n    get isClosed() {\n        return this.isLeaf ? false : !this.tree.isOpen(this.id);\n    }\n    get isEditable() {\n        return this.tree.isEditable(this.data);\n    }\n    get isEditing() {\n        return this.tree.editingId === this.id;\n    }\n    get isSelected() {\n        return this.tree.isSelected(this.id);\n    }\n    get isOnlySelection() {\n        return this.isSelected && this.tree.hasOneSelection;\n    }\n    get isSelectedStart() {\n        var _a;\n        return this.isSelected && !((_a = this.prev) === null || _a === void 0 ? void 0 : _a.isSelected);\n    }\n    get isSelectedEnd() {\n        var _a;\n        return this.isSelected && !((_a = this.next) === null || _a === void 0 ? void 0 : _a.isSelected);\n    }\n    get isFocused() {\n        return this.tree.isFocused(this.id);\n    }\n    get isDragging() {\n        return this.tree.isDragging(this.id);\n    }\n    get willReceiveDrop() {\n        return this.tree.willReceiveDrop(this.id);\n    }\n    get state() {\n        return {\n            isClosed: this.isClosed,\n            isDragging: this.isDragging,\n            isEditing: this.isEditing,\n            isFocused: this.isFocused,\n            isInternal: this.isInternal,\n            isLeaf: this.isLeaf,\n            isOpen: this.isOpen,\n            isSelected: this.isSelected,\n            isSelectedEnd: this.isSelectedEnd,\n            isSelectedStart: this.isSelectedStart,\n            willReceiveDrop: this.willReceiveDrop,\n        };\n    }\n    get childIndex() {\n        if (this.parent && this.parent.children) {\n            return this.parent.children.findIndex((child) => child.id === this.id);\n        }\n        else {\n            return -1;\n        }\n    }\n    get next() {\n        if (this.rowIndex === null)\n            return null;\n        return this.tree.at(this.rowIndex + 1);\n    }\n    get prev() {\n        if (this.rowIndex === null)\n            return null;\n        return this.tree.at(this.rowIndex - 1);\n    }\n    get nextSibling() {\n        var _a, _b;\n        const i = this.childIndex;\n        return (_b = (_a = this.parent) === null || _a === void 0 ? void 0 : _a.children[i + 1]) !== null && _b !== void 0 ? _b : null;\n    }\n    isAncestorOf(node) {\n        if (!node)\n            return false;\n        let ancestor = node;\n        while (ancestor) {\n            if (ancestor.id === this.id)\n                return true;\n            ancestor = ancestor.parent;\n        }\n        return false;\n    }\n    select() {\n        this.tree.select(this);\n    }\n    deselect() {\n        this.tree.deselect(this);\n    }\n    selectMulti() {\n        this.tree.selectMulti(this);\n    }\n    selectContiguous() {\n        this.tree.selectContiguous(this);\n    }\n    activate() {\n        this.tree.activate(this);\n    }\n    focus() {\n        this.tree.focus(this);\n    }\n    toggle() {\n        this.tree.toggle(this);\n    }\n    open() {\n        this.tree.open(this);\n    }\n    openParents() {\n        this.tree.openParents(this);\n    }\n    close() {\n        this.tree.close(this);\n    }\n    submit(value) {\n        this.tree.submit(this, value);\n    }\n    reset() {\n        this.tree.reset();\n    }\n    clone() {\n        return new NodeApi(Object.assign({}, this));\n    }\n    edit() {\n        return this.tree.edit(this);\n    }\n}\n", "import { NodeApi } from \"../interfaces/node-api\";\nexport const ROOT_ID = \"__REACT_ARBORIST_INTERNAL_ROOT__\";\nexport function createRoot(tree) {\n    var _a;\n    function visitSelfAndChildren(data, level, parent) {\n        const id = tree.accessId(data);\n        const node = new NodeApi({\n            tree,\n            data,\n            level,\n            parent,\n            id,\n            children: null,\n            isDraggable: tree.isDraggable(data),\n            rowIndex: null,\n        });\n        const children = tree.accessChildren(data);\n        if (children) {\n            node.children = children.map((child) => visitSelfAndChildren(child, level + 1, node));\n        }\n        return node;\n    }\n    const root = new NodeApi({\n        tree,\n        id: ROOT_ID,\n        // @ts-ignore\n        data: { id: ROOT_ID },\n        level: -1,\n        parent: null,\n        children: null,\n        isDraggable: true,\n        rowIndex: null,\n    });\n    const data = (_a = tree.props.data) !== null && _a !== void 0 ? _a : [];\n    root.children = data.map((child) => {\n        return visitSelfAndChildren(child, 0, root);\n    });\n    return root;\n}\n", "/* Actions */\nexport const actions = {\n    open(id, filtered) {\n        return { type: \"VISIBILITY_OPEN\", id, filtered };\n    },\n    close(id, filtered) {\n        return { type: \"VISIBILITY_CLOSE\", id, filtered };\n    },\n    toggle(id, filtered) {\n        return { type: \"VISIBILITY_TOGGLE\", id, filtered };\n    },\n    clear(filtered) {\n        return { type: \"VISIBILITY_CLEAR\", filtered };\n    },\n};\n/* Reducer */\nfunction openMapReducer(state = {}, action) {\n    if (action.type === \"VISIBILITY_OPEN\") {\n        return Object.assign(Object.assign({}, state), { [action.id]: true });\n    }\n    else if (action.type === \"VISIBILITY_CLOSE\") {\n        return Object.assign(Object.assign({}, state), { [action.id]: false });\n    }\n    else if (action.type === \"VISIBILITY_TOGGLE\") {\n        const prev = state[action.id];\n        return Object.assign(Object.assign({}, state), { [action.id]: !prev });\n    }\n    else if (action.type === \"VISIBILITY_CLEAR\") {\n        return {};\n    }\n    else {\n        return state;\n    }\n}\nexport function reducer(state = { filtered: {}, unfiltered: {} }, action) {\n    if (!action.type.startsWith(\"VISIBILITY\"))\n        return state;\n    if (action.filtered) {\n        return Object.assign(Object.assign({}, state), { filtered: openMapReducer(state.filtered, action) });\n    }\n    else {\n        return Object.assign(Object.assign({}, state), { unfiltered: openMapReducer(state.unfiltered, action) });\n    }\n}\n", "export const initialState = (props) => {\n    var _a;\n    return ({\n        nodes: {\n            // Changes together\n            open: { filtered: {}, unfiltered: (_a = props === null || props === void 0 ? void 0 : props.initialOpenState) !== null && _a !== void 0 ? _a : {} },\n            focus: { id: null, treeFocused: false },\n            edit: { id: null },\n            drag: {\n                id: null,\n                selectedIds: [],\n                destinationParentId: null,\n                destinationIndex: null,\n            },\n            selection: { ids: new Set(), anchor: null, mostRecent: null },\n        },\n        dnd: {\n            cursor: { type: \"none\" },\n            dragId: null,\n            dragIds: [],\n            parentId: null,\n            index: -1,\n        },\n    });\n};\n", "import { identify } from \"../utils\";\nimport { initialState } from \"./initial\";\n/* Actions */\nexport const actions = {\n    clear: () => ({ type: \"SELECTION_CLEAR\" }),\n    only: (id) => ({\n        type: \"SELECTION_ONLY\",\n        id: identify(id),\n    }),\n    add: (id) => ({\n        type: \"SELECTION_ADD\",\n        ids: (Array.isArray(id) ? id : [id]).map(identify),\n    }),\n    remove: (id) => ({\n        type: \"SELECTION_REMOVE\",\n        ids: (Array.isArray(id) ? id : [id]).map(identify),\n    }),\n    set: (args) => (Object.assign({ type: \"SELECTION_SET\" }, args)),\n    mostRecent: (id) => ({\n        type: \"SELECTION_MOST_RECENT\",\n        id: id === null ? null : identify(id),\n    }),\n    anchor: (id) => ({\n        type: \"SELECTION_ANCHOR\",\n        id: id === null ? null : identify(id),\n    }),\n};\n/* Reducer */\nexport function reducer(state = initialState()[\"nodes\"][\"selection\"], action) {\n    const ids = state.ids;\n    switch (action.type) {\n        case \"SELECTION_CLEAR\":\n            return Object.assign(Object.assign({}, state), { ids: new Set() });\n        case \"SELECTION_ONLY\":\n            return Object.assign(Object.assign({}, state), { ids: new Set([action.id]) });\n        case \"SELECTION_ADD\":\n            if (action.ids.length === 0)\n                return state;\n            action.ids.forEach((id) => ids.add(id));\n            return Object.assign(Object.assign({}, state), { ids: new Set(ids) });\n        case \"SELECTION_REMOVE\":\n            if (action.ids.length === 0)\n                return state;\n            action.ids.forEach((id) => ids.delete(id));\n            return Object.assign(Object.assign({}, state), { ids: new Set(ids) });\n        case \"SELECTION_SET\":\n            return Object.assign(Object.assign({}, state), { ids: action.ids, mostRecent: action.mostRecent, anchor: action.anchor });\n        case \"SELECTION_MOST_RECENT\":\n            return Object.assign(Object.assign({}, state), { mostRecent: action.id });\n        case \"SELECTION_ANCHOR\":\n            return Object.assign(Object.assign({}, state), { anchor: action.id });\n        default:\n            return state;\n    }\n}\n", "import { initialState } from \"./initial\";\n/* Actions */\nexport const actions = {\n    cursor(cursor) {\n        return { type: \"DND_CURSOR\", cursor };\n    },\n    dragStart(id, dragIds) {\n        return { type: \"DND_DRAG_START\", id, dragIds };\n    },\n    dragEnd() {\n        return { type: \"DND_DRAG_END\" };\n    },\n    hovering(parentId, index) {\n        return { type: \"DND_HOVERING\", parentId, index };\n    },\n};\n/* Reducer */\nexport function reducer(state = initialState()[\"dnd\"], action) {\n    switch (action.type) {\n        case \"DND_CURSOR\":\n            return Object.assign(Object.assign({}, state), { cursor: action.cursor });\n        case \"DND_DRAG_START\":\n            return Object.assign(Object.assign({}, state), { dragId: action.id, dragIds: action.dragIds });\n        case \"DND_DRAG_END\":\n            return initialState()[\"dnd\"];\n        case \"DND_HOVERING\":\n            return Object.assign(Object.assign({}, state), { parentId: action.parentId, index: action.index });\n        default:\n            return state;\n    }\n}\n", "import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { memo } from \"react\";\nimport { useTreeApi } from \"../context\";\nconst layerStyles = {\n    position: \"fixed\",\n    pointerEvents: \"none\",\n    zIndex: 100,\n    left: 0,\n    top: 0,\n    width: \"100%\",\n    height: \"100%\",\n};\nconst getStyle = (offset) => {\n    if (!offset)\n        return { display: \"none\" };\n    const { x, y } = offset;\n    return { transform: `translate(${x}px, ${y}px)` };\n};\nconst getCountStyle = (offset) => {\n    if (!offset)\n        return { display: \"none\" };\n    const { x, y } = offset;\n    return { transform: `translate(${x + 10}px, ${y + 10}px)` };\n};\nexport function DefaultDragPreview({ offset, mouse, id, dragIds, isDragging, }) {\n    return (_jsxs(Overlay, { isDragging: isDragging, children: [_jsx(Position, { offset: offset, children: _jsx(PreviewNode, { id: id, dragIds: dragIds }) }), _jsx(Count, { mouse: mouse, count: dragIds.length })] }));\n}\nconst Overlay = memo(function Overlay(props) {\n    if (!props.isDragging)\n        return null;\n    return _jsx(\"div\", { style: layerStyles, children: props.children });\n});\nfunction Position(props) {\n    return (_jsx(\"div\", { className: \"row preview\", style: getStyle(props.offset), children: props.children }));\n}\nfunction Count(props) {\n    const { count, mouse } = props;\n    if (count > 1)\n        return (_jsx(\"div\", { className: \"selected-count\", style: getCountStyle(mouse), children: count }));\n    else\n        return null;\n}\nconst PreviewNode = memo(function PreviewNode(props) {\n    const tree = useTreeApi();\n    const node = tree.get(props.id);\n    if (!node)\n        return null;\n    return (_jsx(tree.renderNode, { preview: true, node: node, style: {\n            paddingLeft: node.level * tree.indent,\n            opacity: 0.2,\n            background: \"transparent\",\n        }, tree: tree }));\n});\n", "import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { FixedSizeList } from \"react-window\";\nimport { useDataUpdates, useTreeApi } from \"../context\";\nimport { focusNextElement, focusPrevElement } from \"../utils\";\nimport { ListOuterElement } from \"./list-outer-element\";\nimport { ListInnerElement } from \"./list-inner-element\";\nimport { RowContainer } from \"./row-container\";\nlet focusSearchTerm = \"\";\nlet timeoutId = null;\n/**\n * All these keyboard shortcuts seem like they should be configurable.\n * Each operation should be a given a name and separated from\n * the event handler. Future clean up welcome.\n */\nexport function DefaultContainer() {\n    useDataUpdates();\n    const tree = useTreeApi();\n    return (_jsx(\"div\", { role: \"tree\", style: {\n            height: tree.height,\n            width: tree.width,\n            minHeight: 0,\n            minWidth: 0,\n        }, onContextMenu: tree.props.onContextMenu, onClick: tree.props.onClick, tabIndex: 0, onFocus: (e) => {\n            if (!e.currentTarget.contains(e.relatedTarget)) {\n                tree.onFocus();\n            }\n        }, onBlur: (e) => {\n            if (!e.currentTarget.contains(e.relatedTarget)) {\n                tree.onBlur();\n            }\n        }, onKeyDown: (e) => {\n            var _a;\n            if (tree.isEditing) {\n                return;\n            }\n            if (e.key === \"Backspace\") {\n                if (!tree.props.onDelete)\n                    return;\n                const ids = Array.from(tree.selectedIds);\n                if (ids.length > 1) {\n                    let nextFocus = tree.mostRecentNode;\n                    while (nextFocus && nextFocus.isSelected) {\n                        nextFocus = nextFocus.nextSibling;\n                    }\n                    if (!nextFocus)\n                        nextFocus = tree.lastNode;\n                    tree.focus(nextFocus, { scroll: false });\n                    tree.delete(Array.from(ids));\n                }\n                else {\n                    const node = tree.focusedNode;\n                    if (node) {\n                        const sib = node.nextSibling;\n                        const parent = node.parent;\n                        tree.focus(sib || parent, { scroll: false });\n                        tree.delete(node);\n                    }\n                }\n                return;\n            }\n            if (e.key === \"Tab\" && !e.shiftKey) {\n                e.preventDefault();\n                focusNextElement(e.currentTarget);\n                return;\n            }\n            if (e.key === \"Tab\" && e.shiftKey) {\n                e.preventDefault();\n                focusPrevElement(e.currentTarget);\n                return;\n            }\n            if (e.key === \"ArrowDown\") {\n                e.preventDefault();\n                const next = tree.nextNode;\n                if (e.metaKey) {\n                    tree.select(tree.focusedNode);\n                    tree.activate(tree.focusedNode);\n                    return;\n                }\n                else if (!e.shiftKey || tree.props.disableMultiSelection) {\n                    tree.focus(next);\n                    return;\n                }\n                else {\n                    if (!next)\n                        return;\n                    const current = tree.focusedNode;\n                    if (!current) {\n                        tree.focus(tree.firstNode);\n                    }\n                    else if (current.isSelected) {\n                        tree.selectContiguous(next);\n                    }\n                    else {\n                        tree.selectMulti(next);\n                    }\n                    return;\n                }\n            }\n            if (e.key === \"ArrowUp\") {\n                e.preventDefault();\n                const prev = tree.prevNode;\n                if (!e.shiftKey || tree.props.disableMultiSelection) {\n                    tree.focus(prev);\n                    return;\n                }\n                else {\n                    if (!prev)\n                        return;\n                    const current = tree.focusedNode;\n                    if (!current) {\n                        tree.focus(tree.lastNode); // ?\n                    }\n                    else if (current.isSelected) {\n                        tree.selectContiguous(prev);\n                    }\n                    else {\n                        tree.selectMulti(prev);\n                    }\n                    return;\n                }\n            }\n            if (e.key === \"ArrowRight\") {\n                const node = tree.focusedNode;\n                if (!node)\n                    return;\n                if (node.isInternal && node.isOpen) {\n                    tree.focus(tree.nextNode);\n                }\n                else if (node.isInternal)\n                    tree.open(node.id);\n                return;\n            }\n            if (e.key === \"ArrowLeft\") {\n                const node = tree.focusedNode;\n                if (!node || node.isRoot)\n                    return;\n                if (node.isInternal && node.isOpen)\n                    tree.close(node.id);\n                else if (!((_a = node.parent) === null || _a === void 0 ? void 0 : _a.isRoot)) {\n                    tree.focus(node.parent);\n                }\n                return;\n            }\n            if (e.key === \"a\" && e.metaKey && !tree.props.disableMultiSelection) {\n                e.preventDefault();\n                tree.selectAll();\n                return;\n            }\n            if (e.key === \"a\" && !e.metaKey && tree.props.onCreate) {\n                tree.createLeaf();\n                return;\n            }\n            if (e.key === \"A\" && !e.metaKey) {\n                if (!tree.props.onCreate)\n                    return;\n                tree.createInternal();\n                return;\n            }\n            if (e.key === \"Home\") {\n                // add shift keys\n                e.preventDefault();\n                tree.focus(tree.firstNode);\n                return;\n            }\n            if (e.key === \"End\") {\n                // add shift keys\n                e.preventDefault();\n                tree.focus(tree.lastNode);\n                return;\n            }\n            if (e.key === \"Enter\") {\n                const node = tree.focusedNode;\n                if (!node)\n                    return;\n                if (!node.isEditable || !tree.props.onRename)\n                    return;\n                setTimeout(() => {\n                    if (node)\n                        tree.edit(node);\n                });\n                return;\n            }\n            if (e.key === \" \") {\n                e.preventDefault();\n                const node = tree.focusedNode;\n                if (!node)\n                    return;\n                if (node.isLeaf) {\n                    node.select();\n                    node.activate();\n                }\n                else {\n                    node.toggle();\n                }\n                return;\n            }\n            if (e.key === \"*\") {\n                const node = tree.focusedNode;\n                if (!node)\n                    return;\n                tree.openSiblings(node);\n                return;\n            }\n            if (e.key === \"PageUp\") {\n                e.preventDefault();\n                tree.pageUp();\n                return;\n            }\n            if (e.key === \"PageDown\") {\n                e.preventDefault();\n                tree.pageDown();\n            }\n            // If they type a sequence of characters\n            // collect them. Reset them after a timeout.\n            // Use it to search the tree for a node, then focus it.\n            // Clean this up a bit later\n            clearTimeout(timeoutId);\n            focusSearchTerm += e.key;\n            timeoutId = setTimeout(() => {\n                focusSearchTerm = \"\";\n            }, 600);\n            const node = tree.visibleNodes.find((n) => {\n                // @ts-ignore\n                const name = n.data.name;\n                if (typeof name === \"string\") {\n                    return name.toLowerCase().startsWith(focusSearchTerm);\n                }\n                else\n                    return false;\n            });\n            if (node)\n                tree.focus(node.id);\n        }, children: _jsx(FixedSizeList, { className: tree.props.className, outerRef: tree.listEl, itemCount: tree.visibleNodes.length, height: tree.height, width: tree.width, itemSize: tree.rowHeight, overscanCount: tree.overscanCount, itemKey: (index) => { var _a; return ((_a = tree.visibleNodes[index]) === null || _a === void 0 ? void 0 : _a.id) || index; }, outerElementType: ListOuterElement, innerElementType: ListInnerElement, onScroll: tree.props.onScroll, onItemsRendered: tree.onItemsRendered.bind(tree), ref: tree.list, children: RowContainer }) }));\n}\n", "function _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\nexport { _assertThisInitialized as default };", "function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };", "import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };", "var safeIsNaN = Number.isNaN ||\n    function ponyfill(value) {\n        return typeof value === 'number' && value !== value;\n    };\nfunction isEqual(first, second) {\n    if (first === second) {\n        return true;\n    }\n    if (safeIsNaN(first) && safeIsNaN(second)) {\n        return true;\n    }\n    return false;\n}\nfunction areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (!isEqual(newInputs[i], lastInputs[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var lastThis;\n    var lastArgs = [];\n    var lastResult;\n    var calledOnce = false;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n            return lastResult;\n        }\n        lastResult = resultFn.apply(this, newArgs);\n        calledOnce = true;\n        lastThis = this;\n        lastArgs = newArgs;\n        return lastResult;\n    }\n    return memoized;\n}\n\nexport default memoizeOne;\n", "// @flow\n\n// Animation frame based implementation of setTimeout.\n// Inspired by Joe Lambert, https://gist.github.com/joelambert/1002116#file-requesttimeout-js\n\nconst hasNativePerformanceNow =\n  typeof performance === 'object' && typeof performance.now === 'function';\n\nconst now = hasNativePerformanceNow\n  ? () => performance.now()\n  : () => Date.now();\n\nexport type TimeoutID = {|\n  id: AnimationFrameID,\n|};\n\nexport function cancelTimeout(timeoutID: TimeoutID) {\n  cancelAnimationFrame(timeoutID.id);\n}\n\nexport function requestTimeout(callback: Function, delay: number): TimeoutID {\n  const start = now();\n\n  function tick() {\n    if (now() - start >= delay) {\n      callback.call(null);\n    } else {\n      timeoutID.id = requestAnimationFrame(tick);\n    }\n  }\n\n  const timeoutID: TimeoutID = {\n    id: requestAnimationFrame(tick),\n  };\n\n  return timeoutID;\n}\n", "// @flow\n\nlet size: number = -1;\n\n// This utility copied from \"dom-helpers\" package.\nexport function getScrollbarSize(recalculate?: boolean = false): number {\n  if (size === -1 || recalculate) {\n    const div = document.createElement('div');\n    const style = div.style;\n    style.width = '50px';\n    style.height = '50px';\n    style.overflow = 'scroll';\n\n    ((document.body: any): HTMLBodyElement).appendChild(div);\n\n    size = div.offsetWidth - div.clientWidth;\n\n    ((document.body: any): HTMLBodyElement).removeChild(div);\n  }\n\n  return size;\n}\n\nexport type RTLOffsetType =\n  | 'negative'\n  | 'positive-descending'\n  | 'positive-ascending';\n\nlet cachedRTLResult: RTLOffsetType | null = null;\n\n// TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n// Chrome does not seem to adhere; its scrollLeft values are positive (measured relative to the left).\n// Safari's elastic bounce makes detecting this even more complicated wrt potential false positives.\n// The safest way to check this is to intentionally set a negative offset,\n// and then verify that the subsequent \"scroll\" event matches the negative offset.\n// If it does not match, then we can assume a non-standard RTL scroll implementation.\nexport function getRTLOffsetType(recalculate?: boolean = false): RTLOffsetType {\n  if (cachedRTLResult === null || recalculate) {\n    const outerDiv = document.createElement('div');\n    const outerStyle = outerDiv.style;\n    outerStyle.width = '50px';\n    outerStyle.height = '50px';\n    outerStyle.overflow = 'scroll';\n    outerStyle.direction = 'rtl';\n\n    const innerDiv = document.createElement('div');\n    const innerStyle = innerDiv.style;\n    innerStyle.width = '100px';\n    innerStyle.height = '100px';\n\n    outerDiv.appendChild(innerDiv);\n\n    ((document.body: any): HTMLBodyElement).appendChild(outerDiv);\n\n    if (outerDiv.scrollLeft > 0) {\n      cachedRTLResult = 'positive-descending';\n    } else {\n      outerDiv.scrollLeft = 1;\n      if (outerDiv.scrollLeft === 0) {\n        cachedRTLResult = 'negative';\n      } else {\n        cachedRTLResult = 'positive-ascending';\n      }\n    }\n\n    ((document.body: any): HTMLBodyElement).removeChild(outerDiv);\n\n    return cachedRTLResult;\n  }\n\n  return cachedRTLResult;\n}\n", "// @flow\n\nimport memoizeOne from 'memoize-one';\nimport { createElement, PureComponent } from 'react';\nimport { cancelTimeout, requestTimeout } from './timer';\nimport { getScrollbarSize, getRTLOffsetType } from './domHelpers';\n\nimport type { TimeoutID } from './timer';\n\ntype Direction = 'ltr' | 'rtl';\nexport type ScrollToAlign = 'auto' | 'smart' | 'center' | 'start' | 'end';\n\ntype itemSize = number | ((index: number) => number);\n\ntype RenderComponentProps<T> = {|\n  columnIndex: number,\n  data: T,\n  isScrolling?: boolean,\n  rowIndex: number,\n  style: Object,\n|};\nexport type RenderComponent<T> = React$ComponentType<\n  $Shape<RenderComponentProps<T>>\n>;\n\ntype ScrollDirection = 'forward' | 'backward';\n\ntype OnItemsRenderedCallback = ({\n  overscanColumnStartIndex: number,\n  overscanColumnStopIndex: number,\n  overscanRowStartIndex: number,\n  overscanRowStopIndex: number,\n  visibleColumnStartIndex: number,\n  visibleColumnStopIndex: number,\n  visibleRowStartIndex: number,\n  visibleRowStopIndex: number,\n}) => void;\ntype OnScrollCallback = ({\n  horizontalScrollDirection: ScrollDirection,\n  scrollLeft: number,\n  scrollTop: number,\n  scrollUpdateWasRequested: boolean,\n  verticalScrollDirection: ScrollDirection,\n}) => void;\n\ntype ScrollEvent = SyntheticEvent<HTMLDivElement>;\ntype ItemStyleCache = { [key: string]: Object };\n\ntype OuterProps = {|\n  children: React$Node,\n  className: string | void,\n  onScroll: ScrollEvent => void,\n  style: {\n    [string]: mixed,\n  },\n|};\n\ntype InnerProps = {|\n  children: React$Node,\n  style: {\n    [string]: mixed,\n  },\n|};\n\nexport type Props<T> = {|\n  children: RenderComponent<T>,\n  className?: string,\n  columnCount: number,\n  columnWidth: itemSize,\n  direction: Direction,\n  height: number,\n  initialScrollLeft?: number,\n  initialScrollTop?: number,\n  innerRef?: any,\n  innerElementType?: string | React$AbstractComponent<InnerProps, any>,\n  innerTagName?: string, // deprecated\n  itemData: T,\n  itemKey?: (params: {|\n    columnIndex: number,\n    data: T,\n    rowIndex: number,\n  |}) => any,\n  onItemsRendered?: OnItemsRenderedCallback,\n  onScroll?: OnScrollCallback,\n  outerRef?: any,\n  outerElementType?: string | React$AbstractComponent<OuterProps, any>,\n  outerTagName?: string, // deprecated\n  overscanColumnCount?: number,\n  overscanColumnsCount?: number, // deprecated\n  overscanCount?: number, // deprecated\n  overscanRowCount?: number,\n  overscanRowsCount?: number, // deprecated\n  rowCount: number,\n  rowHeight: itemSize,\n  style?: Object,\n  useIsScrolling: boolean,\n  width: number,\n|};\n\ntype State = {|\n  instance: any,\n  isScrolling: boolean,\n  horizontalScrollDirection: ScrollDirection,\n  scrollLeft: number,\n  scrollTop: number,\n  scrollUpdateWasRequested: boolean,\n  verticalScrollDirection: ScrollDirection,\n|};\n\ntype getItemOffset = (\n  props: Props<any>,\n  index: number,\n  instanceProps: any\n) => number;\ntype getItemSize = (\n  props: Props<any>,\n  index: number,\n  instanceProps: any\n) => number;\ntype getEstimatedTotalSize = (props: Props<any>, instanceProps: any) => number;\ntype GetOffsetForItemAndAlignment = (\n  props: Props<any>,\n  index: number,\n  align: ScrollToAlign,\n  scrollOffset: number,\n  instanceProps: any,\n  scrollbarSize: number\n) => number;\ntype GetStartIndexForOffset = (\n  props: Props<any>,\n  offset: number,\n  instanceProps: any\n) => number;\ntype GetStopIndexForStartIndex = (\n  props: Props<any>,\n  startIndex: number,\n  scrollOffset: number,\n  instanceProps: any\n) => number;\ntype InitInstanceProps = (props: Props<any>, instance: any) => any;\ntype ValidateProps = (props: Props<any>) => void;\n\nconst IS_SCROLLING_DEBOUNCE_INTERVAL = 150;\n\nconst defaultItemKey = ({ columnIndex, data, rowIndex }) =>\n  `${rowIndex}:${columnIndex}`;\n\n// In DEV mode, this Set helps us only log a warning once per component instance.\n// This avoids spamming the console every time a render happens.\nlet devWarningsOverscanCount = null;\nlet devWarningsOverscanRowsColumnsCount = null;\nlet devWarningsTagName = null;\nif (process.env.NODE_ENV !== 'production') {\n  if (typeof window !== 'undefined' && typeof window.WeakSet !== 'undefined') {\n    devWarningsOverscanCount = new WeakSet();\n    devWarningsOverscanRowsColumnsCount = new WeakSet();\n    devWarningsTagName = new WeakSet();\n  }\n}\n\nexport default function createGridComponent({\n  getColumnOffset,\n  getColumnStartIndexForOffset,\n  getColumnStopIndexForStartIndex,\n  getColumnWidth,\n  getEstimatedTotalHeight,\n  getEstimatedTotalWidth,\n  getOffsetForColumnAndAlignment,\n  getOffsetForRowAndAlignment,\n  getRowHeight,\n  getRowOffset,\n  getRowStartIndexForOffset,\n  getRowStopIndexForStartIndex,\n  initInstanceProps,\n  shouldResetStyleCacheOnItemSizeChange,\n  validateProps,\n}: {|\n  getColumnOffset: getItemOffset,\n  getColumnStartIndexForOffset: GetStartIndexForOffset,\n  getColumnStopIndexForStartIndex: GetStopIndexForStartIndex,\n  getColumnWidth: getItemSize,\n  getEstimatedTotalHeight: getEstimatedTotalSize,\n  getEstimatedTotalWidth: getEstimatedTotalSize,\n  getOffsetForColumnAndAlignment: GetOffsetForItemAndAlignment,\n  getOffsetForRowAndAlignment: GetOffsetForItemAndAlignment,\n  getRowOffset: getItemOffset,\n  getRowHeight: getItemSize,\n  getRowStartIndexForOffset: GetStartIndexForOffset,\n  getRowStopIndexForStartIndex: GetStopIndexForStartIndex,\n  initInstanceProps: InitInstanceProps,\n  shouldResetStyleCacheOnItemSizeChange: boolean,\n  validateProps: ValidateProps,\n|}) {\n  return class Grid<T> extends PureComponent<Props<T>, State> {\n    _instanceProps: any = initInstanceProps(this.props, this);\n    _resetIsScrollingTimeoutId: TimeoutID | null = null;\n    _outerRef: ?HTMLDivElement;\n\n    static defaultProps = {\n      direction: 'ltr',\n      itemData: undefined,\n      useIsScrolling: false,\n    };\n\n    state: State = {\n      instance: this,\n      isScrolling: false,\n      horizontalScrollDirection: 'forward',\n      scrollLeft:\n        typeof this.props.initialScrollLeft === 'number'\n          ? this.props.initialScrollLeft\n          : 0,\n      scrollTop:\n        typeof this.props.initialScrollTop === 'number'\n          ? this.props.initialScrollTop\n          : 0,\n      scrollUpdateWasRequested: false,\n      verticalScrollDirection: 'forward',\n    };\n\n    // Always use explicit constructor for React components.\n    // It produces less code after transpilation. (#26)\n    // eslint-disable-next-line no-useless-constructor\n    constructor(props: Props<T>) {\n      super(props);\n    }\n\n    static getDerivedStateFromProps(\n      nextProps: Props<T>,\n      prevState: State\n    ): $Shape<State> | null {\n      validateSharedProps(nextProps, prevState);\n      validateProps(nextProps);\n      return null;\n    }\n\n    scrollTo({\n      scrollLeft,\n      scrollTop,\n    }: {\n      scrollLeft: number,\n      scrollTop: number,\n    }): void {\n      if (scrollLeft !== undefined) {\n        scrollLeft = Math.max(0, scrollLeft);\n      }\n      if (scrollTop !== undefined) {\n        scrollTop = Math.max(0, scrollTop);\n      }\n\n      this.setState(prevState => {\n        if (scrollLeft === undefined) {\n          scrollLeft = prevState.scrollLeft;\n        }\n        if (scrollTop === undefined) {\n          scrollTop = prevState.scrollTop;\n        }\n\n        if (\n          prevState.scrollLeft === scrollLeft &&\n          prevState.scrollTop === scrollTop\n        ) {\n          return null;\n        }\n\n        return {\n          horizontalScrollDirection:\n            prevState.scrollLeft < scrollLeft ? 'forward' : 'backward',\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          scrollUpdateWasRequested: true,\n          verticalScrollDirection:\n            prevState.scrollTop < scrollTop ? 'forward' : 'backward',\n        };\n      }, this._resetIsScrollingDebounced);\n    }\n\n    scrollToItem({\n      align = 'auto',\n      columnIndex,\n      rowIndex,\n    }: {\n      align: ScrollToAlign,\n      columnIndex?: number,\n      rowIndex?: number,\n    }): void {\n      const { columnCount, height, rowCount, width } = this.props;\n      const { scrollLeft, scrollTop } = this.state;\n      const scrollbarSize = getScrollbarSize();\n\n      if (columnIndex !== undefined) {\n        columnIndex = Math.max(0, Math.min(columnIndex, columnCount - 1));\n      }\n      if (rowIndex !== undefined) {\n        rowIndex = Math.max(0, Math.min(rowIndex, rowCount - 1));\n      }\n\n      const estimatedTotalHeight = getEstimatedTotalHeight(\n        this.props,\n        this._instanceProps\n      );\n      const estimatedTotalWidth = getEstimatedTotalWidth(\n        this.props,\n        this._instanceProps\n      );\n\n      // The scrollbar size should be considered when scrolling an item into view,\n      // to ensure it's fully visible.\n      // But we only need to account for its size when it's actually visible.\n      const horizontalScrollbarSize =\n        estimatedTotalWidth > width ? scrollbarSize : 0;\n      const verticalScrollbarSize =\n        estimatedTotalHeight > height ? scrollbarSize : 0;\n\n      this.scrollTo({\n        scrollLeft:\n          columnIndex !== undefined\n            ? getOffsetForColumnAndAlignment(\n                this.props,\n                columnIndex,\n                align,\n                scrollLeft,\n                this._instanceProps,\n                verticalScrollbarSize\n              )\n            : scrollLeft,\n        scrollTop:\n          rowIndex !== undefined\n            ? getOffsetForRowAndAlignment(\n                this.props,\n                rowIndex,\n                align,\n                scrollTop,\n                this._instanceProps,\n                horizontalScrollbarSize\n              )\n            : scrollTop,\n      });\n    }\n\n    componentDidMount() {\n      const { initialScrollLeft, initialScrollTop } = this.props;\n\n      if (this._outerRef != null) {\n        const outerRef = ((this._outerRef: any): HTMLElement);\n        if (typeof initialScrollLeft === 'number') {\n          outerRef.scrollLeft = initialScrollLeft;\n        }\n        if (typeof initialScrollTop === 'number') {\n          outerRef.scrollTop = initialScrollTop;\n        }\n      }\n\n      this._callPropsCallbacks();\n    }\n\n    componentDidUpdate() {\n      const { direction } = this.props;\n      const { scrollLeft, scrollTop, scrollUpdateWasRequested } = this.state;\n\n      if (scrollUpdateWasRequested && this._outerRef != null) {\n        // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n        // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n        // So we need to determine which browser behavior we're dealing with, and mimic it.\n        const outerRef = ((this._outerRef: any): HTMLElement);\n        if (direction === 'rtl') {\n          switch (getRTLOffsetType()) {\n            case 'negative':\n              outerRef.scrollLeft = -scrollLeft;\n              break;\n            case 'positive-ascending':\n              outerRef.scrollLeft = scrollLeft;\n              break;\n            default:\n              const { clientWidth, scrollWidth } = outerRef;\n              outerRef.scrollLeft = scrollWidth - clientWidth - scrollLeft;\n              break;\n          }\n        } else {\n          outerRef.scrollLeft = Math.max(0, scrollLeft);\n        }\n\n        outerRef.scrollTop = Math.max(0, scrollTop);\n      }\n\n      this._callPropsCallbacks();\n    }\n\n    componentWillUnmount() {\n      if (this._resetIsScrollingTimeoutId !== null) {\n        cancelTimeout(this._resetIsScrollingTimeoutId);\n      }\n    }\n\n    render() {\n      const {\n        children,\n        className,\n        columnCount,\n        direction,\n        height,\n        innerRef,\n        innerElementType,\n        innerTagName,\n        itemData,\n        itemKey = defaultItemKey,\n        outerElementType,\n        outerTagName,\n        rowCount,\n        style,\n        useIsScrolling,\n        width,\n      } = this.props;\n      const { isScrolling } = this.state;\n\n      const [\n        columnStartIndex,\n        columnStopIndex,\n      ] = this._getHorizontalRangeToRender();\n      const [rowStartIndex, rowStopIndex] = this._getVerticalRangeToRender();\n\n      const items = [];\n      if (columnCount > 0 && rowCount) {\n        for (\n          let rowIndex = rowStartIndex;\n          rowIndex <= rowStopIndex;\n          rowIndex++\n        ) {\n          for (\n            let columnIndex = columnStartIndex;\n            columnIndex <= columnStopIndex;\n            columnIndex++\n          ) {\n            items.push(\n              createElement(children, {\n                columnIndex,\n                data: itemData,\n                isScrolling: useIsScrolling ? isScrolling : undefined,\n                key: itemKey({ columnIndex, data: itemData, rowIndex }),\n                rowIndex,\n                style: this._getItemStyle(rowIndex, columnIndex),\n              })\n            );\n          }\n        }\n      }\n\n      // Read this value AFTER items have been created,\n      // So their actual sizes (if variable) are taken into consideration.\n      const estimatedTotalHeight = getEstimatedTotalHeight(\n        this.props,\n        this._instanceProps\n      );\n      const estimatedTotalWidth = getEstimatedTotalWidth(\n        this.props,\n        this._instanceProps\n      );\n\n      return createElement(\n        outerElementType || outerTagName || 'div',\n        {\n          className,\n          onScroll: this._onScroll,\n          ref: this._outerRefSetter,\n          style: {\n            position: 'relative',\n            height,\n            width,\n            overflow: 'auto',\n            WebkitOverflowScrolling: 'touch',\n            willChange: 'transform',\n            direction,\n            ...style,\n          },\n        },\n        createElement(innerElementType || innerTagName || 'div', {\n          children: items,\n          ref: innerRef,\n          style: {\n            height: estimatedTotalHeight,\n            pointerEvents: isScrolling ? 'none' : undefined,\n            width: estimatedTotalWidth,\n          },\n        })\n      );\n    }\n\n    _callOnItemsRendered: (\n      overscanColumnStartIndex: number,\n      overscanColumnStopIndex: number,\n      overscanRowStartIndex: number,\n      overscanRowStopIndex: number,\n      visibleColumnStartIndex: number,\n      visibleColumnStopIndex: number,\n      visibleRowStartIndex: number,\n      visibleRowStopIndex: number\n    ) => void;\n    _callOnItemsRendered = memoizeOne(\n      (\n        overscanColumnStartIndex: number,\n        overscanColumnStopIndex: number,\n        overscanRowStartIndex: number,\n        overscanRowStopIndex: number,\n        visibleColumnStartIndex: number,\n        visibleColumnStopIndex: number,\n        visibleRowStartIndex: number,\n        visibleRowStopIndex: number\n      ) =>\n        ((this.props.onItemsRendered: any): OnItemsRenderedCallback)({\n          overscanColumnStartIndex,\n          overscanColumnStopIndex,\n          overscanRowStartIndex,\n          overscanRowStopIndex,\n          visibleColumnStartIndex,\n          visibleColumnStopIndex,\n          visibleRowStartIndex,\n          visibleRowStopIndex,\n        })\n    );\n\n    _callOnScroll: (\n      scrollLeft: number,\n      scrollTop: number,\n      horizontalScrollDirection: ScrollDirection,\n      verticalScrollDirection: ScrollDirection,\n      scrollUpdateWasRequested: boolean\n    ) => void;\n    _callOnScroll = memoizeOne(\n      (\n        scrollLeft: number,\n        scrollTop: number,\n        horizontalScrollDirection: ScrollDirection,\n        verticalScrollDirection: ScrollDirection,\n        scrollUpdateWasRequested: boolean\n      ) =>\n        ((this.props.onScroll: any): OnScrollCallback)({\n          horizontalScrollDirection,\n          scrollLeft,\n          scrollTop,\n          verticalScrollDirection,\n          scrollUpdateWasRequested,\n        })\n    );\n\n    _callPropsCallbacks() {\n      const { columnCount, onItemsRendered, onScroll, rowCount } = this.props;\n\n      if (typeof onItemsRendered === 'function') {\n        if (columnCount > 0 && rowCount > 0) {\n          const [\n            overscanColumnStartIndex,\n            overscanColumnStopIndex,\n            visibleColumnStartIndex,\n            visibleColumnStopIndex,\n          ] = this._getHorizontalRangeToRender();\n          const [\n            overscanRowStartIndex,\n            overscanRowStopIndex,\n            visibleRowStartIndex,\n            visibleRowStopIndex,\n          ] = this._getVerticalRangeToRender();\n          this._callOnItemsRendered(\n            overscanColumnStartIndex,\n            overscanColumnStopIndex,\n            overscanRowStartIndex,\n            overscanRowStopIndex,\n            visibleColumnStartIndex,\n            visibleColumnStopIndex,\n            visibleRowStartIndex,\n            visibleRowStopIndex\n          );\n        }\n      }\n\n      if (typeof onScroll === 'function') {\n        const {\n          horizontalScrollDirection,\n          scrollLeft,\n          scrollTop,\n          scrollUpdateWasRequested,\n          verticalScrollDirection,\n        } = this.state;\n        this._callOnScroll(\n          scrollLeft,\n          scrollTop,\n          horizontalScrollDirection,\n          verticalScrollDirection,\n          scrollUpdateWasRequested\n        );\n      }\n    }\n\n    // Lazily create and cache item styles while scrolling,\n    // So that pure component sCU will prevent re-renders.\n    // We maintain this cache, and pass a style prop rather than index,\n    // So that List can clear cached styles and force item re-render if necessary.\n    _getItemStyle: (rowIndex: number, columnIndex: number) => Object;\n    _getItemStyle = (rowIndex: number, columnIndex: number): Object => {\n      const { columnWidth, direction, rowHeight } = this.props;\n\n      const itemStyleCache = this._getItemStyleCache(\n        shouldResetStyleCacheOnItemSizeChange && columnWidth,\n        shouldResetStyleCacheOnItemSizeChange && direction,\n        shouldResetStyleCacheOnItemSizeChange && rowHeight\n      );\n\n      const key = `${rowIndex}:${columnIndex}`;\n\n      let style;\n      if (itemStyleCache.hasOwnProperty(key)) {\n        style = itemStyleCache[key];\n      } else {\n        const offset = getColumnOffset(\n          this.props,\n          columnIndex,\n          this._instanceProps\n        );\n        const isRtl = direction === 'rtl';\n        itemStyleCache[key] = style = {\n          position: 'absolute',\n          left: isRtl ? undefined : offset,\n          right: isRtl ? offset : undefined,\n          top: getRowOffset(this.props, rowIndex, this._instanceProps),\n          height: getRowHeight(this.props, rowIndex, this._instanceProps),\n          width: getColumnWidth(this.props, columnIndex, this._instanceProps),\n        };\n      }\n\n      return style;\n    };\n\n    _getItemStyleCache: (_: any, __: any, ___: any) => ItemStyleCache;\n    _getItemStyleCache = memoizeOne((_: any, __: any, ___: any) => ({}));\n\n    _getHorizontalRangeToRender(): [number, number, number, number] {\n      const {\n        columnCount,\n        overscanColumnCount,\n        overscanColumnsCount,\n        overscanCount,\n        rowCount,\n      } = this.props;\n      const { horizontalScrollDirection, isScrolling, scrollLeft } = this.state;\n\n      const overscanCountResolved: number =\n        overscanColumnCount || overscanColumnsCount || overscanCount || 1;\n\n      if (columnCount === 0 || rowCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      const startIndex = getColumnStartIndexForOffset(\n        this.props,\n        scrollLeft,\n        this._instanceProps\n      );\n      const stopIndex = getColumnStopIndexForStartIndex(\n        this.props,\n        startIndex,\n        scrollLeft,\n        this._instanceProps\n      );\n\n      // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n      const overscanBackward =\n        !isScrolling || horizontalScrollDirection === 'backward'\n          ? Math.max(1, overscanCountResolved)\n          : 1;\n      const overscanForward =\n        !isScrolling || horizontalScrollDirection === 'forward'\n          ? Math.max(1, overscanCountResolved)\n          : 1;\n\n      return [\n        Math.max(0, startIndex - overscanBackward),\n        Math.max(0, Math.min(columnCount - 1, stopIndex + overscanForward)),\n        startIndex,\n        stopIndex,\n      ];\n    }\n\n    _getVerticalRangeToRender(): [number, number, number, number] {\n      const {\n        columnCount,\n        overscanCount,\n        overscanRowCount,\n        overscanRowsCount,\n        rowCount,\n      } = this.props;\n      const { isScrolling, verticalScrollDirection, scrollTop } = this.state;\n\n      const overscanCountResolved: number =\n        overscanRowCount || overscanRowsCount || overscanCount || 1;\n\n      if (columnCount === 0 || rowCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      const startIndex = getRowStartIndexForOffset(\n        this.props,\n        scrollTop,\n        this._instanceProps\n      );\n      const stopIndex = getRowStopIndexForStartIndex(\n        this.props,\n        startIndex,\n        scrollTop,\n        this._instanceProps\n      );\n\n      // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n      const overscanBackward =\n        !isScrolling || verticalScrollDirection === 'backward'\n          ? Math.max(1, overscanCountResolved)\n          : 1;\n      const overscanForward =\n        !isScrolling || verticalScrollDirection === 'forward'\n          ? Math.max(1, overscanCountResolved)\n          : 1;\n\n      return [\n        Math.max(0, startIndex - overscanBackward),\n        Math.max(0, Math.min(rowCount - 1, stopIndex + overscanForward)),\n        startIndex,\n        stopIndex,\n      ];\n    }\n\n    _onScroll = (event: ScrollEvent): void => {\n      const {\n        clientHeight,\n        clientWidth,\n        scrollLeft,\n        scrollTop,\n        scrollHeight,\n        scrollWidth,\n      } = event.currentTarget;\n      this.setState(prevState => {\n        if (\n          prevState.scrollLeft === scrollLeft &&\n          prevState.scrollTop === scrollTop\n        ) {\n          // Scroll position may have been updated by cDM/cDU,\n          // In which case we don't need to trigger another render,\n          // And we don't want to update state.isScrolling.\n          return null;\n        }\n\n        const { direction } = this.props;\n\n        // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n        // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n        // It's also easier for this component if we convert offsets to the same format as they would be in for ltr.\n        // So the simplest solution is to determine which browser behavior we're dealing with, and convert based on it.\n        let calculatedScrollLeft = scrollLeft;\n        if (direction === 'rtl') {\n          switch (getRTLOffsetType()) {\n            case 'negative':\n              calculatedScrollLeft = -scrollLeft;\n              break;\n            case 'positive-descending':\n              calculatedScrollLeft = scrollWidth - clientWidth - scrollLeft;\n              break;\n          }\n        }\n\n        // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n        calculatedScrollLeft = Math.max(\n          0,\n          Math.min(calculatedScrollLeft, scrollWidth - clientWidth)\n        );\n        const calculatedScrollTop = Math.max(\n          0,\n          Math.min(scrollTop, scrollHeight - clientHeight)\n        );\n\n        return {\n          isScrolling: true,\n          horizontalScrollDirection:\n            prevState.scrollLeft < scrollLeft ? 'forward' : 'backward',\n          scrollLeft: calculatedScrollLeft,\n          scrollTop: calculatedScrollTop,\n          verticalScrollDirection:\n            prevState.scrollTop < scrollTop ? 'forward' : 'backward',\n          scrollUpdateWasRequested: false,\n        };\n      }, this._resetIsScrollingDebounced);\n    };\n\n    _outerRefSetter = (ref: any): void => {\n      const { outerRef } = this.props;\n\n      this._outerRef = ((ref: any): HTMLDivElement);\n\n      if (typeof outerRef === 'function') {\n        outerRef(ref);\n      } else if (\n        outerRef != null &&\n        typeof outerRef === 'object' &&\n        outerRef.hasOwnProperty('current')\n      ) {\n        outerRef.current = ref;\n      }\n    };\n\n    _resetIsScrollingDebounced = () => {\n      if (this._resetIsScrollingTimeoutId !== null) {\n        cancelTimeout(this._resetIsScrollingTimeoutId);\n      }\n\n      this._resetIsScrollingTimeoutId = requestTimeout(\n        this._resetIsScrolling,\n        IS_SCROLLING_DEBOUNCE_INTERVAL\n      );\n    };\n\n    _resetIsScrolling = () => {\n      this._resetIsScrollingTimeoutId = null;\n\n      this.setState({ isScrolling: false }, () => {\n        // Clear style cache after state update has been committed.\n        // This way we don't break pure sCU for items that don't use isScrolling param.\n        this._getItemStyleCache(-1);\n      });\n    };\n  };\n}\n\nconst validateSharedProps = (\n  {\n    children,\n    direction,\n    height,\n    innerTagName,\n    outerTagName,\n    overscanColumnsCount,\n    overscanCount,\n    overscanRowsCount,\n    width,\n  }: Props<any>,\n  { instance }: State\n): void => {\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof overscanCount === 'number') {\n      if (devWarningsOverscanCount && !devWarningsOverscanCount.has(instance)) {\n        devWarningsOverscanCount.add(instance);\n        console.warn(\n          'The overscanCount prop has been deprecated. ' +\n            'Please use the overscanColumnCount and overscanRowCount props instead.'\n        );\n      }\n    }\n\n    if (\n      typeof overscanColumnsCount === 'number' ||\n      typeof overscanRowsCount === 'number'\n    ) {\n      if (\n        devWarningsOverscanRowsColumnsCount &&\n        !devWarningsOverscanRowsColumnsCount.has(instance)\n      ) {\n        devWarningsOverscanRowsColumnsCount.add(instance);\n        console.warn(\n          'The overscanColumnsCount and overscanRowsCount props have been deprecated. ' +\n            'Please use the overscanColumnCount and overscanRowCount props instead.'\n        );\n      }\n    }\n\n    if (innerTagName != null || outerTagName != null) {\n      if (devWarningsTagName && !devWarningsTagName.has(instance)) {\n        devWarningsTagName.add(instance);\n        console.warn(\n          'The innerTagName and outerTagName props have been deprecated. ' +\n            'Please use the innerElementType and outerElementType props instead.'\n        );\n      }\n    }\n\n    if (children == null) {\n      throw Error(\n        'An invalid \"children\" prop has been specified. ' +\n          'Value should be a React component. ' +\n          `\"${children === null ? 'null' : typeof children}\" was specified.`\n      );\n    }\n\n    switch (direction) {\n      case 'ltr':\n      case 'rtl':\n        // Valid values\n        break;\n      default:\n        throw Error(\n          'An invalid \"direction\" prop has been specified. ' +\n            'Value should be either \"ltr\" or \"rtl\". ' +\n            `\"${direction}\" was specified.`\n        );\n    }\n\n    if (typeof width !== 'number') {\n      throw Error(\n        'An invalid \"width\" prop has been specified. ' +\n          'Grids must specify a number for width. ' +\n          `\"${width === null ? 'null' : typeof width}\" was specified.`\n      );\n    }\n\n    if (typeof height !== 'number') {\n      throw Error(\n        'An invalid \"height\" prop has been specified. ' +\n          'Grids must specify a number for height. ' +\n          `\"${height === null ? 'null' : typeof height}\" was specified.`\n      );\n    }\n  }\n};\n", "// @flow\n\nimport createGridComponent from './createGridComponent';\n\nimport type { Props, ScrollToAlign } from './createGridComponent';\n\nconst DEFAULT_ESTIMATED_ITEM_SIZE = 50;\n\ntype VariableSizeProps = {|\n  estimatedColumnWidth: number,\n  estimatedRowHeight: number,\n  ...Props<any>,\n|};\n\ntype itemSizeGetter = (index: number) => number;\ntype ItemType = 'column' | 'row';\n\ntype ItemMetadata = {|\n  offset: number,\n  size: number,\n|};\ntype ItemMetadataMap = { [index: number]: ItemMetadata };\ntype InstanceProps = {|\n  columnMetadataMap: ItemMetadataMap,\n  estimatedColumnWidth: number,\n  estimatedRowHeight: number,\n  lastMeasuredColumnIndex: number,\n  lastMeasuredRowIndex: number,\n  rowMetadataMap: ItemMetadataMap,\n|};\n\nconst getEstimatedTotalHeight = (\n  { rowCount }: Props<any>,\n  { rowMetadataMap, estimatedRowHeight, lastMeasuredRowIndex }: InstanceProps\n) => {\n  let totalSizeOfMeasuredRows = 0;\n\n  // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n  if (lastMeasuredRowIndex >= rowCount) {\n    lastMeasuredRowIndex = rowCount - 1;\n  }\n\n  if (lastMeasuredRowIndex >= 0) {\n    const itemMetadata = rowMetadataMap[lastMeasuredRowIndex];\n    totalSizeOfMeasuredRows = itemMetadata.offset + itemMetadata.size;\n  }\n\n  const numUnmeasuredItems = rowCount - lastMeasuredRowIndex - 1;\n  const totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedRowHeight;\n\n  return totalSizeOfMeasuredRows + totalSizeOfUnmeasuredItems;\n};\n\nconst getEstimatedTotalWidth = (\n  { columnCount }: Props<any>,\n  {\n    columnMetadataMap,\n    estimatedColumnWidth,\n    lastMeasuredColumnIndex,\n  }: InstanceProps\n) => {\n  let totalSizeOfMeasuredRows = 0;\n\n  // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n  if (lastMeasuredColumnIndex >= columnCount) {\n    lastMeasuredColumnIndex = columnCount - 1;\n  }\n\n  if (lastMeasuredColumnIndex >= 0) {\n    const itemMetadata = columnMetadataMap[lastMeasuredColumnIndex];\n    totalSizeOfMeasuredRows = itemMetadata.offset + itemMetadata.size;\n  }\n\n  const numUnmeasuredItems = columnCount - lastMeasuredColumnIndex - 1;\n  const totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedColumnWidth;\n\n  return totalSizeOfMeasuredRows + totalSizeOfUnmeasuredItems;\n};\n\nconst getItemMetadata = (\n  itemType: ItemType,\n  props: Props<any>,\n  index: number,\n  instanceProps: InstanceProps\n): ItemMetadata => {\n  let itemMetadataMap, itemSize, lastMeasuredIndex;\n  if (itemType === 'column') {\n    itemMetadataMap = instanceProps.columnMetadataMap;\n    itemSize = ((props.columnWidth: any): itemSizeGetter);\n    lastMeasuredIndex = instanceProps.lastMeasuredColumnIndex;\n  } else {\n    itemMetadataMap = instanceProps.rowMetadataMap;\n    itemSize = ((props.rowHeight: any): itemSizeGetter);\n    lastMeasuredIndex = instanceProps.lastMeasuredRowIndex;\n  }\n\n  if (index > lastMeasuredIndex) {\n    let offset = 0;\n    if (lastMeasuredIndex >= 0) {\n      const itemMetadata = itemMetadataMap[lastMeasuredIndex];\n      offset = itemMetadata.offset + itemMetadata.size;\n    }\n\n    for (let i = lastMeasuredIndex + 1; i <= index; i++) {\n      let size = itemSize(i);\n\n      itemMetadataMap[i] = {\n        offset,\n        size,\n      };\n\n      offset += size;\n    }\n\n    if (itemType === 'column') {\n      instanceProps.lastMeasuredColumnIndex = index;\n    } else {\n      instanceProps.lastMeasuredRowIndex = index;\n    }\n  }\n\n  return itemMetadataMap[index];\n};\n\nconst findNearestItem = (\n  itemType: ItemType,\n  props: Props<any>,\n  instanceProps: InstanceProps,\n  offset: number\n) => {\n  let itemMetadataMap, lastMeasuredIndex;\n  if (itemType === 'column') {\n    itemMetadataMap = instanceProps.columnMetadataMap;\n    lastMeasuredIndex = instanceProps.lastMeasuredColumnIndex;\n  } else {\n    itemMetadataMap = instanceProps.rowMetadataMap;\n    lastMeasuredIndex = instanceProps.lastMeasuredRowIndex;\n  }\n\n  const lastMeasuredItemOffset =\n    lastMeasuredIndex > 0 ? itemMetadataMap[lastMeasuredIndex].offset : 0;\n\n  if (lastMeasuredItemOffset >= offset) {\n    // If we've already measured items within this range just use a binary search as it's faster.\n    return findNearestItemBinarySearch(\n      itemType,\n      props,\n      instanceProps,\n      lastMeasuredIndex,\n      0,\n      offset\n    );\n  } else {\n    // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n    // The exponential search avoids pre-computing sizes for the full set of items as a binary search would.\n    // The overall complexity for this approach is O(log n).\n    return findNearestItemExponentialSearch(\n      itemType,\n      props,\n      instanceProps,\n      Math.max(0, lastMeasuredIndex),\n      offset\n    );\n  }\n};\n\nconst findNearestItemBinarySearch = (\n  itemType: ItemType,\n  props: Props<any>,\n  instanceProps: InstanceProps,\n  high: number,\n  low: number,\n  offset: number\n): number => {\n  while (low <= high) {\n    const middle = low + Math.floor((high - low) / 2);\n    const currentOffset = getItemMetadata(\n      itemType,\n      props,\n      middle,\n      instanceProps\n    ).offset;\n\n    if (currentOffset === offset) {\n      return middle;\n    } else if (currentOffset < offset) {\n      low = middle + 1;\n    } else if (currentOffset > offset) {\n      high = middle - 1;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nconst findNearestItemExponentialSearch = (\n  itemType: ItemType,\n  props: Props<any>,\n  instanceProps: InstanceProps,\n  index: number,\n  offset: number\n): number => {\n  const itemCount = itemType === 'column' ? props.columnCount : props.rowCount;\n  let interval = 1;\n\n  while (\n    index < itemCount &&\n    getItemMetadata(itemType, props, index, instanceProps).offset < offset\n  ) {\n    index += interval;\n    interval *= 2;\n  }\n\n  return findNearestItemBinarySearch(\n    itemType,\n    props,\n    instanceProps,\n    Math.min(index, itemCount - 1),\n    Math.floor(index / 2),\n    offset\n  );\n};\n\nconst getOffsetForIndexAndAlignment = (\n  itemType: ItemType,\n  props: Props<any>,\n  index: number,\n  align: ScrollToAlign,\n  scrollOffset: number,\n  instanceProps: InstanceProps,\n  scrollbarSize: number\n): number => {\n  const size = itemType === 'column' ? props.width : props.height;\n  const itemMetadata = getItemMetadata(itemType, props, index, instanceProps);\n\n  // Get estimated total size after ItemMetadata is computed,\n  // To ensure it reflects actual measurements instead of just estimates.\n  const estimatedTotalSize =\n    itemType === 'column'\n      ? getEstimatedTotalWidth(props, instanceProps)\n      : getEstimatedTotalHeight(props, instanceProps);\n\n  const maxOffset = Math.max(\n    0,\n    Math.min(estimatedTotalSize - size, itemMetadata.offset)\n  );\n  const minOffset = Math.max(\n    0,\n    itemMetadata.offset - size + scrollbarSize + itemMetadata.size\n  );\n\n  if (align === 'smart') {\n    if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n      align = 'auto';\n    } else {\n      align = 'center';\n    }\n  }\n\n  switch (align) {\n    case 'start':\n      return maxOffset;\n    case 'end':\n      return minOffset;\n    case 'center':\n      return Math.round(minOffset + (maxOffset - minOffset) / 2);\n    case 'auto':\n    default:\n      if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n        return scrollOffset;\n      } else if (minOffset > maxOffset) {\n        // Because we only take into account the scrollbar size when calculating minOffset\n        // this value can be larger than maxOffset when at the end of the list\n        return minOffset;\n      } else if (scrollOffset < minOffset) {\n        return minOffset;\n      } else {\n        return maxOffset;\n      }\n  }\n};\n\nconst VariableSizeGrid = createGridComponent({\n  getColumnOffset: (\n    props: Props<any>,\n    index: number,\n    instanceProps: InstanceProps\n  ): number => getItemMetadata('column', props, index, instanceProps).offset,\n\n  getColumnStartIndexForOffset: (\n    props: Props<any>,\n    scrollLeft: number,\n    instanceProps: InstanceProps\n  ): number => findNearestItem('column', props, instanceProps, scrollLeft),\n\n  getColumnStopIndexForStartIndex: (\n    props: Props<any>,\n    startIndex: number,\n    scrollLeft: number,\n    instanceProps: InstanceProps\n  ): number => {\n    const { columnCount, width } = props;\n\n    const itemMetadata = getItemMetadata(\n      'column',\n      props,\n      startIndex,\n      instanceProps\n    );\n    const maxOffset = scrollLeft + width;\n\n    let offset = itemMetadata.offset + itemMetadata.size;\n    let stopIndex = startIndex;\n\n    while (stopIndex < columnCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata('column', props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n\n  getColumnWidth: (\n    props: Props<any>,\n    index: number,\n    instanceProps: InstanceProps\n  ): number => instanceProps.columnMetadataMap[index].size,\n\n  getEstimatedTotalHeight,\n  getEstimatedTotalWidth,\n\n  getOffsetForColumnAndAlignment: (\n    props: Props<any>,\n    index: number,\n    align: ScrollToAlign,\n    scrollOffset: number,\n    instanceProps: InstanceProps,\n    scrollbarSize: number\n  ): number =>\n    getOffsetForIndexAndAlignment(\n      'column',\n      props,\n      index,\n      align,\n      scrollOffset,\n      instanceProps,\n      scrollbarSize\n    ),\n\n  getOffsetForRowAndAlignment: (\n    props: Props<any>,\n    index: number,\n    align: ScrollToAlign,\n    scrollOffset: number,\n    instanceProps: InstanceProps,\n    scrollbarSize: number\n  ): number =>\n    getOffsetForIndexAndAlignment(\n      'row',\n      props,\n      index,\n      align,\n      scrollOffset,\n      instanceProps,\n      scrollbarSize\n    ),\n\n  getRowOffset: (\n    props: Props<any>,\n    index: number,\n    instanceProps: InstanceProps\n  ): number => getItemMetadata('row', props, index, instanceProps).offset,\n\n  getRowHeight: (\n    props: Props<any>,\n    index: number,\n    instanceProps: InstanceProps\n  ): number => instanceProps.rowMetadataMap[index].size,\n\n  getRowStartIndexForOffset: (\n    props: Props<any>,\n    scrollTop: number,\n    instanceProps: InstanceProps\n  ): number => findNearestItem('row', props, instanceProps, scrollTop),\n\n  getRowStopIndexForStartIndex: (\n    props: Props<any>,\n    startIndex: number,\n    scrollTop: number,\n    instanceProps: InstanceProps\n  ): number => {\n    const { rowCount, height } = props;\n\n    const itemMetadata = getItemMetadata(\n      'row',\n      props,\n      startIndex,\n      instanceProps\n    );\n    const maxOffset = scrollTop + height;\n\n    let offset = itemMetadata.offset + itemMetadata.size;\n    let stopIndex = startIndex;\n\n    while (stopIndex < rowCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata('row', props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n\n  initInstanceProps(props: Props<any>, instance: any): InstanceProps {\n    const {\n      estimatedColumnWidth,\n      estimatedRowHeight,\n    } = ((props: any): VariableSizeProps);\n\n    const instanceProps = {\n      columnMetadataMap: {},\n      estimatedColumnWidth: estimatedColumnWidth || DEFAULT_ESTIMATED_ITEM_SIZE,\n      estimatedRowHeight: estimatedRowHeight || DEFAULT_ESTIMATED_ITEM_SIZE,\n      lastMeasuredColumnIndex: -1,\n      lastMeasuredRowIndex: -1,\n      rowMetadataMap: {},\n    };\n\n    instance.resetAfterColumnIndex = (\n      columnIndex: number,\n      shouldForceUpdate?: boolean = true\n    ) => {\n      instance.resetAfterIndices({ columnIndex, shouldForceUpdate });\n    };\n\n    instance.resetAfterRowIndex = (\n      rowIndex: number,\n      shouldForceUpdate?: boolean = true\n    ) => {\n      instance.resetAfterIndices({ rowIndex, shouldForceUpdate });\n    };\n\n    instance.resetAfterIndices = ({\n      columnIndex,\n      rowIndex,\n      shouldForceUpdate = true,\n    }: {\n      columnIndex?: number,\n      rowIndex?: number,\n      shouldForceUpdate: boolean,\n    }) => {\n      if (typeof columnIndex === 'number') {\n        instanceProps.lastMeasuredColumnIndex = Math.min(\n          instanceProps.lastMeasuredColumnIndex,\n          columnIndex - 1\n        );\n      }\n      if (typeof rowIndex === 'number') {\n        instanceProps.lastMeasuredRowIndex = Math.min(\n          instanceProps.lastMeasuredRowIndex,\n          rowIndex - 1\n        );\n      }\n\n      // We could potentially optimize further by only evicting styles after this index,\n      // But since styles are only cached while scrolling is in progress-\n      // It seems an unnecessary optimization.\n      // It's unlikely that resetAfterIndex() will be called while a user is scrolling.\n      instance._getItemStyleCache(-1);\n\n      if (shouldForceUpdate) {\n        instance.forceUpdate();\n      }\n    };\n\n    return instanceProps;\n  },\n\n  shouldResetStyleCacheOnItemSizeChange: false,\n\n  validateProps: ({ columnWidth, rowHeight }: Props<any>): void => {\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof columnWidth !== 'function') {\n        throw Error(\n          'An invalid \"columnWidth\" prop has been specified. ' +\n            'Value should be a function. ' +\n            `\"${\n              columnWidth === null ? 'null' : typeof columnWidth\n            }\" was specified.`\n        );\n      } else if (typeof rowHeight !== 'function') {\n        throw Error(\n          'An invalid \"rowHeight\" prop has been specified. ' +\n            'Value should be a function. ' +\n            `\"${rowHeight === null ? 'null' : typeof rowHeight}\" was specified.`\n        );\n      }\n    }\n  },\n});\n\nexport default VariableSizeGrid;\n", "// @flow\n\nimport memoizeOne from 'memoize-one';\nimport { createElement, PureComponent } from 'react';\nimport { cancelTimeout, requestTimeout } from './timer';\nimport { getScrollbarSize, getRTLOffsetType } from './domHelpers';\n\nimport type { TimeoutID } from './timer';\n\nexport type ScrollToAlign = 'auto' | 'smart' | 'center' | 'start' | 'end';\n\ntype itemSize = number | ((index: number) => number);\n// TODO Deprecate directions \"horizontal\" and \"vertical\"\ntype Direction = 'ltr' | 'rtl' | 'horizontal' | 'vertical';\ntype Layout = 'horizontal' | 'vertical';\n\ntype RenderComponentProps<T> = {|\n  data: T,\n  index: number,\n  isScrolling?: boolean,\n  style: Object,\n|};\ntype RenderComponent<T> = React$ComponentType<$Shape<RenderComponentProps<T>>>;\n\ntype ScrollDirection = 'forward' | 'backward';\n\ntype onItemsRenderedCallback = ({\n  overscanStartIndex: number,\n  overscanStopIndex: number,\n  visibleStartIndex: number,\n  visibleStopIndex: number,\n}) => void;\ntype onScrollCallback = ({\n  scrollDirection: ScrollDirection,\n  scrollOffset: number,\n  scrollUpdateWasRequested: boolean,\n}) => void;\n\ntype ScrollEvent = SyntheticEvent<HTMLDivElement>;\ntype ItemStyleCache = { [index: number]: Object };\n\ntype OuterProps = {|\n  children: React$Node,\n  className: string | void,\n  onScroll: ScrollEvent => void,\n  style: {\n    [string]: mixed,\n  },\n|};\n\ntype InnerProps = {|\n  children: React$Node,\n  style: {\n    [string]: mixed,\n  },\n|};\n\nexport type Props<T> = {|\n  children: RenderComponent<T>,\n  className?: string,\n  direction: Direction,\n  height: number | string,\n  initialScrollOffset?: number,\n  innerRef?: any,\n  innerElementType?: string | React$AbstractComponent<InnerProps, any>,\n  innerTagName?: string, // deprecated\n  itemCount: number,\n  itemData: T,\n  itemKey?: (index: number, data: T) => any,\n  itemSize: itemSize,\n  layout: Layout,\n  onItemsRendered?: onItemsRenderedCallback,\n  onScroll?: onScrollCallback,\n  outerRef?: any,\n  outerElementType?: string | React$AbstractComponent<OuterProps, any>,\n  outerTagName?: string, // deprecated\n  overscanCount: number,\n  style?: Object,\n  useIsScrolling: boolean,\n  width: number | string,\n|};\n\ntype State = {|\n  instance: any,\n  isScrolling: boolean,\n  scrollDirection: ScrollDirection,\n  scrollOffset: number,\n  scrollUpdateWasRequested: boolean,\n|};\n\ntype GetItemOffset = (\n  props: Props<any>,\n  index: number,\n  instanceProps: any\n) => number;\ntype GetItemSize = (\n  props: Props<any>,\n  index: number,\n  instanceProps: any\n) => number;\ntype GetEstimatedTotalSize = (props: Props<any>, instanceProps: any) => number;\ntype GetOffsetForIndexAndAlignment = (\n  props: Props<any>,\n  index: number,\n  align: ScrollToAlign,\n  scrollOffset: number,\n  instanceProps: any\n) => number;\ntype GetStartIndexForOffset = (\n  props: Props<any>,\n  offset: number,\n  instanceProps: any\n) => number;\ntype GetStopIndexForStartIndex = (\n  props: Props<any>,\n  startIndex: number,\n  scrollOffset: number,\n  instanceProps: any\n) => number;\ntype InitInstanceProps = (props: Props<any>, instance: any) => any;\ntype ValidateProps = (props: Props<any>) => void;\n\nconst IS_SCROLLING_DEBOUNCE_INTERVAL = 150;\n\nconst defaultItemKey = (index: number, data: any) => index;\n\n// In DEV mode, this Set helps us only log a warning once per component instance.\n// This avoids spamming the console every time a render happens.\nlet devWarningsDirection = null;\nlet devWarningsTagName = null;\nif (process.env.NODE_ENV !== 'production') {\n  if (typeof window !== 'undefined' && typeof window.WeakSet !== 'undefined') {\n    devWarningsDirection = new WeakSet();\n    devWarningsTagName = new WeakSet();\n  }\n}\n\nexport default function createListComponent({\n  getItemOffset,\n  getEstimatedTotalSize,\n  getItemSize,\n  getOffsetForIndexAndAlignment,\n  getStartIndexForOffset,\n  getStopIndexForStartIndex,\n  initInstanceProps,\n  shouldResetStyleCacheOnItemSizeChange,\n  validateProps,\n}: {|\n  getItemOffset: GetItemOffset,\n  getEstimatedTotalSize: GetEstimatedTotalSize,\n  getItemSize: GetItemSize,\n  getOffsetForIndexAndAlignment: GetOffsetForIndexAndAlignment,\n  getStartIndexForOffset: GetStartIndexForOffset,\n  getStopIndexForStartIndex: GetStopIndexForStartIndex,\n  initInstanceProps: InitInstanceProps,\n  shouldResetStyleCacheOnItemSizeChange: boolean,\n  validateProps: ValidateProps,\n|}) {\n  return class List<T> extends PureComponent<Props<T>, State> {\n    _instanceProps: any = initInstanceProps(this.props, this);\n    _outerRef: ?HTMLDivElement;\n    _resetIsScrollingTimeoutId: TimeoutID | null = null;\n\n    static defaultProps = {\n      direction: 'ltr',\n      itemData: undefined,\n      layout: 'vertical',\n      overscanCount: 2,\n      useIsScrolling: false,\n    };\n\n    state: State = {\n      instance: this,\n      isScrolling: false,\n      scrollDirection: 'forward',\n      scrollOffset:\n        typeof this.props.initialScrollOffset === 'number'\n          ? this.props.initialScrollOffset\n          : 0,\n      scrollUpdateWasRequested: false,\n    };\n\n    // Always use explicit constructor for React components.\n    // It produces less code after transpilation. (#26)\n    // eslint-disable-next-line no-useless-constructor\n    constructor(props: Props<T>) {\n      super(props);\n    }\n\n    static getDerivedStateFromProps(\n      nextProps: Props<T>,\n      prevState: State\n    ): $Shape<State> | null {\n      validateSharedProps(nextProps, prevState);\n      validateProps(nextProps);\n      return null;\n    }\n\n    scrollTo(scrollOffset: number): void {\n      scrollOffset = Math.max(0, scrollOffset);\n\n      this.setState(prevState => {\n        if (prevState.scrollOffset === scrollOffset) {\n          return null;\n        }\n        return {\n          scrollDirection:\n            prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n          scrollOffset: scrollOffset,\n          scrollUpdateWasRequested: true,\n        };\n      }, this._resetIsScrollingDebounced);\n    }\n\n    scrollToItem(index: number, align: ScrollToAlign = 'auto'): void {\n      const { itemCount, layout } = this.props;\n      const { scrollOffset } = this.state;\n\n      index = Math.max(0, Math.min(index, itemCount - 1));\n\n      // The scrollbar size should be considered when scrolling an item into view, to ensure it's fully visible.\n      // But we only need to account for its size when it's actually visible.\n      // This is an edge case for lists; normally they only scroll in the dominant direction.\n      let scrollbarSize = 0;\n      if (this._outerRef) {\n        const outerRef = ((this._outerRef: any): HTMLElement);\n        if (layout === 'vertical') {\n          scrollbarSize =\n            outerRef.scrollWidth > outerRef.clientWidth\n              ? getScrollbarSize()\n              : 0;\n        } else {\n          scrollbarSize =\n            outerRef.scrollHeight > outerRef.clientHeight\n              ? getScrollbarSize()\n              : 0;\n        }\n      }\n\n      this.scrollTo(\n        getOffsetForIndexAndAlignment(\n          this.props,\n          index,\n          align,\n          scrollOffset,\n          this._instanceProps,\n          scrollbarSize\n        )\n      );\n    }\n\n    componentDidMount() {\n      const { direction, initialScrollOffset, layout } = this.props;\n\n      if (typeof initialScrollOffset === 'number' && this._outerRef != null) {\n        const outerRef = ((this._outerRef: any): HTMLElement);\n        // TODO Deprecate direction \"horizontal\"\n        if (direction === 'horizontal' || layout === 'horizontal') {\n          outerRef.scrollLeft = initialScrollOffset;\n        } else {\n          outerRef.scrollTop = initialScrollOffset;\n        }\n      }\n\n      this._callPropsCallbacks();\n    }\n\n    componentDidUpdate() {\n      const { direction, layout } = this.props;\n      const { scrollOffset, scrollUpdateWasRequested } = this.state;\n\n      if (scrollUpdateWasRequested && this._outerRef != null) {\n        const outerRef = ((this._outerRef: any): HTMLElement);\n\n        // TODO Deprecate direction \"horizontal\"\n        if (direction === 'horizontal' || layout === 'horizontal') {\n          if (direction === 'rtl') {\n            // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n            // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n            // So we need to determine which browser behavior we're dealing with, and mimic it.\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                outerRef.scrollLeft = -scrollOffset;\n                break;\n              case 'positive-ascending':\n                outerRef.scrollLeft = scrollOffset;\n                break;\n              default:\n                const { clientWidth, scrollWidth } = outerRef;\n                outerRef.scrollLeft = scrollWidth - clientWidth - scrollOffset;\n                break;\n            }\n          } else {\n            outerRef.scrollLeft = scrollOffset;\n          }\n        } else {\n          outerRef.scrollTop = scrollOffset;\n        }\n      }\n\n      this._callPropsCallbacks();\n    }\n\n    componentWillUnmount() {\n      if (this._resetIsScrollingTimeoutId !== null) {\n        cancelTimeout(this._resetIsScrollingTimeoutId);\n      }\n    }\n\n    render() {\n      const {\n        children,\n        className,\n        direction,\n        height,\n        innerRef,\n        innerElementType,\n        innerTagName,\n        itemCount,\n        itemData,\n        itemKey = defaultItemKey,\n        layout,\n        outerElementType,\n        outerTagName,\n        style,\n        useIsScrolling,\n        width,\n      } = this.props;\n      const { isScrolling } = this.state;\n\n      // TODO Deprecate direction \"horizontal\"\n      const isHorizontal =\n        direction === 'horizontal' || layout === 'horizontal';\n\n      const onScroll = isHorizontal\n        ? this._onScrollHorizontal\n        : this._onScrollVertical;\n\n      const [startIndex, stopIndex] = this._getRangeToRender();\n\n      const items = [];\n      if (itemCount > 0) {\n        for (let index = startIndex; index <= stopIndex; index++) {\n          items.push(\n            createElement(children, {\n              data: itemData,\n              key: itemKey(index, itemData),\n              index,\n              isScrolling: useIsScrolling ? isScrolling : undefined,\n              style: this._getItemStyle(index),\n            })\n          );\n        }\n      }\n\n      // Read this value AFTER items have been created,\n      // So their actual sizes (if variable) are taken into consideration.\n      const estimatedTotalSize = getEstimatedTotalSize(\n        this.props,\n        this._instanceProps\n      );\n\n      return createElement(\n        outerElementType || outerTagName || 'div',\n        {\n          className,\n          onScroll,\n          ref: this._outerRefSetter,\n          style: {\n            position: 'relative',\n            height,\n            width,\n            overflow: 'auto',\n            WebkitOverflowScrolling: 'touch',\n            willChange: 'transform',\n            direction,\n            ...style,\n          },\n        },\n        createElement(innerElementType || innerTagName || 'div', {\n          children: items,\n          ref: innerRef,\n          style: {\n            height: isHorizontal ? '100%' : estimatedTotalSize,\n            pointerEvents: isScrolling ? 'none' : undefined,\n            width: isHorizontal ? estimatedTotalSize : '100%',\n          },\n        })\n      );\n    }\n\n    _callOnItemsRendered: (\n      overscanStartIndex: number,\n      overscanStopIndex: number,\n      visibleStartIndex: number,\n      visibleStopIndex: number\n    ) => void;\n    _callOnItemsRendered = memoizeOne(\n      (\n        overscanStartIndex: number,\n        overscanStopIndex: number,\n        visibleStartIndex: number,\n        visibleStopIndex: number\n      ) =>\n        ((this.props.onItemsRendered: any): onItemsRenderedCallback)({\n          overscanStartIndex,\n          overscanStopIndex,\n          visibleStartIndex,\n          visibleStopIndex,\n        })\n    );\n\n    _callOnScroll: (\n      scrollDirection: ScrollDirection,\n      scrollOffset: number,\n      scrollUpdateWasRequested: boolean\n    ) => void;\n    _callOnScroll = memoizeOne(\n      (\n        scrollDirection: ScrollDirection,\n        scrollOffset: number,\n        scrollUpdateWasRequested: boolean\n      ) =>\n        ((this.props.onScroll: any): onScrollCallback)({\n          scrollDirection,\n          scrollOffset,\n          scrollUpdateWasRequested,\n        })\n    );\n\n    _callPropsCallbacks() {\n      if (typeof this.props.onItemsRendered === 'function') {\n        const { itemCount } = this.props;\n        if (itemCount > 0) {\n          const [\n            overscanStartIndex,\n            overscanStopIndex,\n            visibleStartIndex,\n            visibleStopIndex,\n          ] = this._getRangeToRender();\n          this._callOnItemsRendered(\n            overscanStartIndex,\n            overscanStopIndex,\n            visibleStartIndex,\n            visibleStopIndex\n          );\n        }\n      }\n\n      if (typeof this.props.onScroll === 'function') {\n        const {\n          scrollDirection,\n          scrollOffset,\n          scrollUpdateWasRequested,\n        } = this.state;\n        this._callOnScroll(\n          scrollDirection,\n          scrollOffset,\n          scrollUpdateWasRequested\n        );\n      }\n    }\n\n    // Lazily create and cache item styles while scrolling,\n    // So that pure component sCU will prevent re-renders.\n    // We maintain this cache, and pass a style prop rather than index,\n    // So that List can clear cached styles and force item re-render if necessary.\n    _getItemStyle: (index: number) => Object;\n    _getItemStyle = (index: number): Object => {\n      const { direction, itemSize, layout } = this.props;\n\n      const itemStyleCache = this._getItemStyleCache(\n        shouldResetStyleCacheOnItemSizeChange && itemSize,\n        shouldResetStyleCacheOnItemSizeChange && layout,\n        shouldResetStyleCacheOnItemSizeChange && direction\n      );\n\n      let style;\n      if (itemStyleCache.hasOwnProperty(index)) {\n        style = itemStyleCache[index];\n      } else {\n        const offset = getItemOffset(this.props, index, this._instanceProps);\n        const size = getItemSize(this.props, index, this._instanceProps);\n\n        // TODO Deprecate direction \"horizontal\"\n        const isHorizontal =\n          direction === 'horizontal' || layout === 'horizontal';\n\n        const isRtl = direction === 'rtl';\n        const offsetHorizontal = isHorizontal ? offset : 0;\n        itemStyleCache[index] = style = {\n          position: 'absolute',\n          left: isRtl ? undefined : offsetHorizontal,\n          right: isRtl ? offsetHorizontal : undefined,\n          top: !isHorizontal ? offset : 0,\n          height: !isHorizontal ? size : '100%',\n          width: isHorizontal ? size : '100%',\n        };\n      }\n\n      return style;\n    };\n\n    _getItemStyleCache: (_: any, __: any, ___: any) => ItemStyleCache;\n    _getItemStyleCache = memoizeOne((_: any, __: any, ___: any) => ({}));\n\n    _getRangeToRender(): [number, number, number, number] {\n      const { itemCount, overscanCount } = this.props;\n      const { isScrolling, scrollDirection, scrollOffset } = this.state;\n\n      if (itemCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      const startIndex = getStartIndexForOffset(\n        this.props,\n        scrollOffset,\n        this._instanceProps\n      );\n      const stopIndex = getStopIndexForStartIndex(\n        this.props,\n        startIndex,\n        scrollOffset,\n        this._instanceProps\n      );\n\n      // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n      const overscanBackward =\n        !isScrolling || scrollDirection === 'backward'\n          ? Math.max(1, overscanCount)\n          : 1;\n      const overscanForward =\n        !isScrolling || scrollDirection === 'forward'\n          ? Math.max(1, overscanCount)\n          : 1;\n\n      return [\n        Math.max(0, startIndex - overscanBackward),\n        Math.max(0, Math.min(itemCount - 1, stopIndex + overscanForward)),\n        startIndex,\n        stopIndex,\n      ];\n    }\n\n    _onScrollHorizontal = (event: ScrollEvent): void => {\n      const { clientWidth, scrollLeft, scrollWidth } = event.currentTarget;\n      this.setState(prevState => {\n        if (prevState.scrollOffset === scrollLeft) {\n          // Scroll position may have been updated by cDM/cDU,\n          // In which case we don't need to trigger another render,\n          // And we don't want to update state.isScrolling.\n          return null;\n        }\n\n        const { direction } = this.props;\n\n        let scrollOffset = scrollLeft;\n        if (direction === 'rtl') {\n          // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n          // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n          // It's also easier for this component if we convert offsets to the same format as they would be in for ltr.\n          // So the simplest solution is to determine which browser behavior we're dealing with, and convert based on it.\n          switch (getRTLOffsetType()) {\n            case 'negative':\n              scrollOffset = -scrollLeft;\n              break;\n            case 'positive-descending':\n              scrollOffset = scrollWidth - clientWidth - scrollLeft;\n              break;\n          }\n        }\n\n        // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n        scrollOffset = Math.max(\n          0,\n          Math.min(scrollOffset, scrollWidth - clientWidth)\n        );\n\n        return {\n          isScrolling: true,\n          scrollDirection:\n            prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n          scrollOffset,\n          scrollUpdateWasRequested: false,\n        };\n      }, this._resetIsScrollingDebounced);\n    };\n\n    _onScrollVertical = (event: ScrollEvent): void => {\n      const { clientHeight, scrollHeight, scrollTop } = event.currentTarget;\n      this.setState(prevState => {\n        if (prevState.scrollOffset === scrollTop) {\n          // Scroll position may have been updated by cDM/cDU,\n          // In which case we don't need to trigger another render,\n          // And we don't want to update state.isScrolling.\n          return null;\n        }\n\n        // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n        const scrollOffset = Math.max(\n          0,\n          Math.min(scrollTop, scrollHeight - clientHeight)\n        );\n\n        return {\n          isScrolling: true,\n          scrollDirection:\n            prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n          scrollOffset,\n          scrollUpdateWasRequested: false,\n        };\n      }, this._resetIsScrollingDebounced);\n    };\n\n    _outerRefSetter = (ref: any): void => {\n      const { outerRef } = this.props;\n\n      this._outerRef = ((ref: any): HTMLDivElement);\n\n      if (typeof outerRef === 'function') {\n        outerRef(ref);\n      } else if (\n        outerRef != null &&\n        typeof outerRef === 'object' &&\n        outerRef.hasOwnProperty('current')\n      ) {\n        outerRef.current = ref;\n      }\n    };\n\n    _resetIsScrollingDebounced = () => {\n      if (this._resetIsScrollingTimeoutId !== null) {\n        cancelTimeout(this._resetIsScrollingTimeoutId);\n      }\n\n      this._resetIsScrollingTimeoutId = requestTimeout(\n        this._resetIsScrolling,\n        IS_SCROLLING_DEBOUNCE_INTERVAL\n      );\n    };\n\n    _resetIsScrolling = () => {\n      this._resetIsScrollingTimeoutId = null;\n\n      this.setState({ isScrolling: false }, () => {\n        // Clear style cache after state update has been committed.\n        // This way we don't break pure sCU for items that don't use isScrolling param.\n        this._getItemStyleCache(-1, null);\n      });\n    };\n  };\n}\n\n// NOTE: I considered further wrapping individual items with a pure ListItem component.\n// This would avoid ever calling the render function for the same index more than once,\n// But it would also add the overhead of a lot of components/fibers.\n// I assume people already do this (render function returning a class component),\n// So my doing it would just unnecessarily double the wrappers.\n\nconst validateSharedProps = (\n  {\n    children,\n    direction,\n    height,\n    layout,\n    innerTagName,\n    outerTagName,\n    width,\n  }: Props<any>,\n  { instance }: State\n): void => {\n  if (process.env.NODE_ENV !== 'production') {\n    if (innerTagName != null || outerTagName != null) {\n      if (devWarningsTagName && !devWarningsTagName.has(instance)) {\n        devWarningsTagName.add(instance);\n        console.warn(\n          'The innerTagName and outerTagName props have been deprecated. ' +\n            'Please use the innerElementType and outerElementType props instead.'\n        );\n      }\n    }\n\n    // TODO Deprecate direction \"horizontal\"\n    const isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n\n    switch (direction) {\n      case 'horizontal':\n      case 'vertical':\n        if (devWarningsDirection && !devWarningsDirection.has(instance)) {\n          devWarningsDirection.add(instance);\n          console.warn(\n            'The direction prop should be either \"ltr\" (default) or \"rtl\". ' +\n              'Please use the layout prop to specify \"vertical\" (default) or \"horizontal\" orientation.'\n          );\n        }\n        break;\n      case 'ltr':\n      case 'rtl':\n        // Valid values\n        break;\n      default:\n        throw Error(\n          'An invalid \"direction\" prop has been specified. ' +\n            'Value should be either \"ltr\" or \"rtl\". ' +\n            `\"${direction}\" was specified.`\n        );\n    }\n\n    switch (layout) {\n      case 'horizontal':\n      case 'vertical':\n        // Valid values\n        break;\n      default:\n        throw Error(\n          'An invalid \"layout\" prop has been specified. ' +\n            'Value should be either \"horizontal\" or \"vertical\". ' +\n            `\"${layout}\" was specified.`\n        );\n    }\n\n    if (children == null) {\n      throw Error(\n        'An invalid \"children\" prop has been specified. ' +\n          'Value should be a React component. ' +\n          `\"${children === null ? 'null' : typeof children}\" was specified.`\n      );\n    }\n\n    if (isHorizontal && typeof width !== 'number') {\n      throw Error(\n        'An invalid \"width\" prop has been specified. ' +\n          'Horizontal lists must specify a number for width. ' +\n          `\"${width === null ? 'null' : typeof width}\" was specified.`\n      );\n    } else if (!isHorizontal && typeof height !== 'number') {\n      throw Error(\n        'An invalid \"height\" prop has been specified. ' +\n          'Vertical lists must specify a number for height. ' +\n          `\"${height === null ? 'null' : typeof height}\" was specified.`\n      );\n    }\n  }\n};\n", "// @flow\n\nimport createListComponent from './createListComponent';\n\nimport type { Props, ScrollToAlign } from './createListComponent';\n\nconst DEFAULT_ESTIMATED_ITEM_SIZE = 50;\n\ntype VariableSizeProps = {|\n  estimatedItemSize: number,\n  ...Props<any>,\n|};\n\ntype itemSizeGetter = (index: number) => number;\n\ntype ItemMetadata = {|\n  offset: number,\n  size: number,\n|};\ntype InstanceProps = {|\n  itemMetadataMap: { [index: number]: ItemMetadata },\n  estimatedItemSize: number,\n  lastMeasuredIndex: number,\n|};\n\nconst getItemMetadata = (\n  props: Props<any>,\n  index: number,\n  instanceProps: InstanceProps\n): ItemMetadata => {\n  const { itemSize } = ((props: any): VariableSizeProps);\n  const { itemMetadataMap, lastMeasuredIndex } = instanceProps;\n\n  if (index > lastMeasuredIndex) {\n    let offset = 0;\n    if (lastMeasuredIndex >= 0) {\n      const itemMetadata = itemMetadataMap[lastMeasuredIndex];\n      offset = itemMetadata.offset + itemMetadata.size;\n    }\n\n    for (let i = lastMeasuredIndex + 1; i <= index; i++) {\n      let size = ((itemSize: any): itemSizeGetter)(i);\n\n      itemMetadataMap[i] = {\n        offset,\n        size,\n      };\n\n      offset += size;\n    }\n\n    instanceProps.lastMeasuredIndex = index;\n  }\n\n  return itemMetadataMap[index];\n};\n\nconst findNearestItem = (\n  props: Props<any>,\n  instanceProps: InstanceProps,\n  offset: number\n) => {\n  const { itemMetadataMap, lastMeasuredIndex } = instanceProps;\n\n  const lastMeasuredItemOffset =\n    lastMeasuredIndex > 0 ? itemMetadataMap[lastMeasuredIndex].offset : 0;\n\n  if (lastMeasuredItemOffset >= offset) {\n    // If we've already measured items within this range just use a binary search as it's faster.\n    return findNearestItemBinarySearch(\n      props,\n      instanceProps,\n      lastMeasuredIndex,\n      0,\n      offset\n    );\n  } else {\n    // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n    // The exponential search avoids pre-computing sizes for the full set of items as a binary search would.\n    // The overall complexity for this approach is O(log n).\n    return findNearestItemExponentialSearch(\n      props,\n      instanceProps,\n      Math.max(0, lastMeasuredIndex),\n      offset\n    );\n  }\n};\n\nconst findNearestItemBinarySearch = (\n  props: Props<any>,\n  instanceProps: InstanceProps,\n  high: number,\n  low: number,\n  offset: number\n): number => {\n  while (low <= high) {\n    const middle = low + Math.floor((high - low) / 2);\n    const currentOffset = getItemMetadata(props, middle, instanceProps).offset;\n\n    if (currentOffset === offset) {\n      return middle;\n    } else if (currentOffset < offset) {\n      low = middle + 1;\n    } else if (currentOffset > offset) {\n      high = middle - 1;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nconst findNearestItemExponentialSearch = (\n  props: Props<any>,\n  instanceProps: InstanceProps,\n  index: number,\n  offset: number\n): number => {\n  const { itemCount } = props;\n  let interval = 1;\n\n  while (\n    index < itemCount &&\n    getItemMetadata(props, index, instanceProps).offset < offset\n  ) {\n    index += interval;\n    interval *= 2;\n  }\n\n  return findNearestItemBinarySearch(\n    props,\n    instanceProps,\n    Math.min(index, itemCount - 1),\n    Math.floor(index / 2),\n    offset\n  );\n};\n\nconst getEstimatedTotalSize = (\n  { itemCount }: Props<any>,\n  { itemMetadataMap, estimatedItemSize, lastMeasuredIndex }: InstanceProps\n) => {\n  let totalSizeOfMeasuredItems = 0;\n\n  // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n  if (lastMeasuredIndex >= itemCount) {\n    lastMeasuredIndex = itemCount - 1;\n  }\n\n  if (lastMeasuredIndex >= 0) {\n    const itemMetadata = itemMetadataMap[lastMeasuredIndex];\n    totalSizeOfMeasuredItems = itemMetadata.offset + itemMetadata.size;\n  }\n\n  const numUnmeasuredItems = itemCount - lastMeasuredIndex - 1;\n  const totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedItemSize;\n\n  return totalSizeOfMeasuredItems + totalSizeOfUnmeasuredItems;\n};\n\nconst VariableSizeList = createListComponent({\n  getItemOffset: (\n    props: Props<any>,\n    index: number,\n    instanceProps: InstanceProps\n  ): number => getItemMetadata(props, index, instanceProps).offset,\n\n  getItemSize: (\n    props: Props<any>,\n    index: number,\n    instanceProps: InstanceProps\n  ): number => instanceProps.itemMetadataMap[index].size,\n\n  getEstimatedTotalSize,\n\n  getOffsetForIndexAndAlignment: (\n    props: Props<any>,\n    index: number,\n    align: ScrollToAlign,\n    scrollOffset: number,\n    instanceProps: InstanceProps,\n    scrollbarSize: number\n  ): number => {\n    const { direction, height, layout, width } = props;\n\n    // TODO Deprecate direction \"horizontal\"\n    const isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    const size = (((isHorizontal ? width : height): any): number);\n    const itemMetadata = getItemMetadata(props, index, instanceProps);\n\n    // Get estimated total size after ItemMetadata is computed,\n    // To ensure it reflects actual measurements instead of just estimates.\n    const estimatedTotalSize = getEstimatedTotalSize(props, instanceProps);\n\n    const maxOffset = Math.max(\n      0,\n      Math.min(estimatedTotalSize - size, itemMetadata.offset)\n    );\n    const minOffset = Math.max(\n      0,\n      itemMetadata.offset - size + itemMetadata.size + scrollbarSize\n    );\n\n    if (align === 'smart') {\n      if (\n        scrollOffset >= minOffset - size &&\n        scrollOffset <= maxOffset + size\n      ) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n      case 'end':\n        return minOffset;\n      case 'center':\n        return Math.round(minOffset + (maxOffset - minOffset) / 2);\n      case 'auto':\n      default:\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset;\n        } else if (scrollOffset < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n    }\n  },\n\n  getStartIndexForOffset: (\n    props: Props<any>,\n    offset: number,\n    instanceProps: InstanceProps\n  ): number => findNearestItem(props, instanceProps, offset),\n\n  getStopIndexForStartIndex: (\n    props: Props<any>,\n    startIndex: number,\n    scrollOffset: number,\n    instanceProps: InstanceProps\n  ): number => {\n    const { direction, height, itemCount, layout, width } = props;\n\n    // TODO Deprecate direction \"horizontal\"\n    const isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    const size = (((isHorizontal ? width : height): any): number);\n    const itemMetadata = getItemMetadata(props, startIndex, instanceProps);\n    const maxOffset = scrollOffset + size;\n\n    let offset = itemMetadata.offset + itemMetadata.size;\n    let stopIndex = startIndex;\n\n    while (stopIndex < itemCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata(props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n\n  initInstanceProps(props: Props<any>, instance: any): InstanceProps {\n    const { estimatedItemSize } = ((props: any): VariableSizeProps);\n\n    const instanceProps = {\n      itemMetadataMap: {},\n      estimatedItemSize: estimatedItemSize || DEFAULT_ESTIMATED_ITEM_SIZE,\n      lastMeasuredIndex: -1,\n    };\n\n    instance.resetAfterIndex = (\n      index: number,\n      shouldForceUpdate?: boolean = true\n    ) => {\n      instanceProps.lastMeasuredIndex = Math.min(\n        instanceProps.lastMeasuredIndex,\n        index - 1\n      );\n\n      // We could potentially optimize further by only evicting styles after this index,\n      // But since styles are only cached while scrolling is in progress-\n      // It seems an unnecessary optimization.\n      // It's unlikely that resetAfterIndex() will be called while a user is scrolling.\n      instance._getItemStyleCache(-1);\n\n      if (shouldForceUpdate) {\n        instance.forceUpdate();\n      }\n    };\n\n    return instanceProps;\n  },\n\n  shouldResetStyleCacheOnItemSizeChange: false,\n\n  validateProps: ({ itemSize }: Props<any>): void => {\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof itemSize !== 'function') {\n        throw Error(\n          'An invalid \"itemSize\" prop has been specified. ' +\n            'Value should be a function. ' +\n            `\"${itemSize === null ? 'null' : typeof itemSize}\" was specified.`\n        );\n      }\n    }\n  },\n});\n\nexport default VariableSizeList;\n", "// @flow\n\nimport createGridComponent from './createGridComponent';\n\nimport type { Props, ScrollToAlign } from './createGridComponent';\n\nconst FixedSizeGrid = createGridComponent({\n  getColumnOffset: ({ columnWidth }: Props<any>, index: number): number =>\n    index * ((columnWidth: any): number),\n\n  getColumnWidth: ({ columnWidth }: Props<any>, index: number): number =>\n    ((columnWidth: any): number),\n\n  getRowOffset: ({ rowHeight }: Props<any>, index: number): number =>\n    index * ((rowHeight: any): number),\n\n  getRowHeight: ({ rowHeight }: Props<any>, index: number): number =>\n    ((rowHeight: any): number),\n\n  getEstimatedTotalHeight: ({ rowCount, rowHeight }: Props<any>) =>\n    ((rowHeight: any): number) * rowCount,\n\n  getEstimatedTotalWidth: ({ columnCount, columnWidth }: Props<any>) =>\n    ((columnWidth: any): number) * columnCount,\n\n  getOffsetForColumnAndAlignment: (\n    { columnCount, columnWidth, width }: Props<any>,\n    columnIndex: number,\n    align: ScrollToAlign,\n    scrollLeft: number,\n    instanceProps: typeof undefined,\n    scrollbarSize: number\n  ): number => {\n    const lastColumnOffset = Math.max(\n      0,\n      columnCount * ((columnWidth: any): number) - width\n    );\n    const maxOffset = Math.min(\n      lastColumnOffset,\n      columnIndex * ((columnWidth: any): number)\n    );\n    const minOffset = Math.max(\n      0,\n      columnIndex * ((columnWidth: any): number) -\n        width +\n        scrollbarSize +\n        ((columnWidth: any): number)\n    );\n\n    if (align === 'smart') {\n      if (scrollLeft >= minOffset - width && scrollLeft <= maxOffset + width) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n      case 'end':\n        return minOffset;\n      case 'center':\n        // \"Centered\" offset is usually the average of the min and max.\n        // But near the edges of the list, this doesn't hold true.\n        const middleOffset = Math.round(\n          minOffset + (maxOffset - minOffset) / 2\n        );\n        if (middleOffset < Math.ceil(width / 2)) {\n          return 0; // near the beginning\n        } else if (middleOffset > lastColumnOffset + Math.floor(width / 2)) {\n          return lastColumnOffset; // near the end\n        } else {\n          return middleOffset;\n        }\n      case 'auto':\n      default:\n        if (scrollLeft >= minOffset && scrollLeft <= maxOffset) {\n          return scrollLeft;\n        } else if (minOffset > maxOffset) {\n          // Because we only take into account the scrollbar size when calculating minOffset\n          // this value can be larger than maxOffset when at the end of the list\n          return minOffset;\n        } else if (scrollLeft < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n    }\n  },\n\n  getOffsetForRowAndAlignment: (\n    { rowHeight, height, rowCount }: Props<any>,\n    rowIndex: number,\n    align: ScrollToAlign,\n    scrollTop: number,\n    instanceProps: typeof undefined,\n    scrollbarSize: number\n  ): number => {\n    const lastRowOffset = Math.max(\n      0,\n      rowCount * ((rowHeight: any): number) - height\n    );\n    const maxOffset = Math.min(\n      lastRowOffset,\n      rowIndex * ((rowHeight: any): number)\n    );\n    const minOffset = Math.max(\n      0,\n      rowIndex * ((rowHeight: any): number) -\n        height +\n        scrollbarSize +\n        ((rowHeight: any): number)\n    );\n\n    if (align === 'smart') {\n      if (scrollTop >= minOffset - height && scrollTop <= maxOffset + height) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n      case 'end':\n        return minOffset;\n      case 'center':\n        // \"Centered\" offset is usually the average of the min and max.\n        // But near the edges of the list, this doesn't hold true.\n        const middleOffset = Math.round(\n          minOffset + (maxOffset - minOffset) / 2\n        );\n        if (middleOffset < Math.ceil(height / 2)) {\n          return 0; // near the beginning\n        } else if (middleOffset > lastRowOffset + Math.floor(height / 2)) {\n          return lastRowOffset; // near the end\n        } else {\n          return middleOffset;\n        }\n      case 'auto':\n      default:\n        if (scrollTop >= minOffset && scrollTop <= maxOffset) {\n          return scrollTop;\n        } else if (minOffset > maxOffset) {\n          // Because we only take into account the scrollbar size when calculating minOffset\n          // this value can be larger than maxOffset when at the end of the list\n          return minOffset;\n        } else if (scrollTop < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n    }\n  },\n\n  getColumnStartIndexForOffset: (\n    { columnWidth, columnCount }: Props<any>,\n    scrollLeft: number\n  ): number =>\n    Math.max(\n      0,\n      Math.min(\n        columnCount - 1,\n        Math.floor(scrollLeft / ((columnWidth: any): number))\n      )\n    ),\n\n  getColumnStopIndexForStartIndex: (\n    { columnWidth, columnCount, width }: Props<any>,\n    startIndex: number,\n    scrollLeft: number\n  ): number => {\n    const left = startIndex * ((columnWidth: any): number);\n    const numVisibleColumns = Math.ceil(\n      (width + scrollLeft - left) / ((columnWidth: any): number)\n    );\n    return Math.max(\n      0,\n      Math.min(\n        columnCount - 1,\n        startIndex + numVisibleColumns - 1 // -1 is because stop index is inclusive\n      )\n    );\n  },\n\n  getRowStartIndexForOffset: (\n    { rowHeight, rowCount }: Props<any>,\n    scrollTop: number\n  ): number =>\n    Math.max(\n      0,\n      Math.min(rowCount - 1, Math.floor(scrollTop / ((rowHeight: any): number)))\n    ),\n\n  getRowStopIndexForStartIndex: (\n    { rowHeight, rowCount, height }: Props<any>,\n    startIndex: number,\n    scrollTop: number\n  ): number => {\n    const top = startIndex * ((rowHeight: any): number);\n    const numVisibleRows = Math.ceil(\n      (height + scrollTop - top) / ((rowHeight: any): number)\n    );\n    return Math.max(\n      0,\n      Math.min(\n        rowCount - 1,\n        startIndex + numVisibleRows - 1 // -1 is because stop index is inclusive\n      )\n    );\n  },\n\n  initInstanceProps(props: Props<any>): any {\n    // Noop\n  },\n\n  shouldResetStyleCacheOnItemSizeChange: true,\n\n  validateProps: ({ columnWidth, rowHeight }: Props<any>): void => {\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof columnWidth !== 'number') {\n        throw Error(\n          'An invalid \"columnWidth\" prop has been specified. ' +\n            'Value should be a number. ' +\n            `\"${\n              columnWidth === null ? 'null' : typeof columnWidth\n            }\" was specified.`\n        );\n      }\n\n      if (typeof rowHeight !== 'number') {\n        throw Error(\n          'An invalid \"rowHeight\" prop has been specified. ' +\n            'Value should be a number. ' +\n            `\"${rowHeight === null ? 'null' : typeof rowHeight}\" was specified.`\n        );\n      }\n    }\n  },\n});\n\nexport default FixedSizeGrid;\n", "// @flow\n\nimport createListComponent from './createListComponent';\n\nimport type { Props, ScrollToAlign } from './createListComponent';\n\ntype InstanceProps = any;\n\nconst FixedSizeList = createListComponent({\n  getItemOffset: ({ itemSize }: Props<any>, index: number): number =>\n    index * ((itemSize: any): number),\n\n  getItemSize: ({ itemSize }: Props<any>, index: number): number =>\n    ((itemSize: any): number),\n\n  getEstimatedTotalSize: ({ itemCount, itemSize }: Props<any>) =>\n    ((itemSize: any): number) * itemCount,\n\n  getOffsetForIndexAndAlignment: (\n    { direction, height, itemCount, itemSize, layout, width }: Props<any>,\n    index: number,\n    align: ScrollToAlign,\n    scrollOffset: number,\n    instanceProps: InstanceProps,\n    scrollbarSize: number\n  ): number => {\n    // TODO Deprecate direction \"horizontal\"\n    const isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    const size = (((isHorizontal ? width : height): any): number);\n    const lastItemOffset = Math.max(\n      0,\n      itemCount * ((itemSize: any): number) - size\n    );\n    const maxOffset = Math.min(\n      lastItemOffset,\n      index * ((itemSize: any): number)\n    );\n    const minOffset = Math.max(\n      0,\n      index * ((itemSize: any): number) -\n        size +\n        ((itemSize: any): number) +\n        scrollbarSize\n    );\n\n    if (align === 'smart') {\n      if (\n        scrollOffset >= minOffset - size &&\n        scrollOffset <= maxOffset + size\n      ) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n      case 'end':\n        return minOffset;\n      case 'center': {\n        // \"Centered\" offset is usually the average of the min and max.\n        // But near the edges of the list, this doesn't hold true.\n        const middleOffset = Math.round(\n          minOffset + (maxOffset - minOffset) / 2\n        );\n        if (middleOffset < Math.ceil(size / 2)) {\n          return 0; // near the beginning\n        } else if (middleOffset > lastItemOffset + Math.floor(size / 2)) {\n          return lastItemOffset; // near the end\n        } else {\n          return middleOffset;\n        }\n      }\n      case 'auto':\n      default:\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset;\n        } else if (scrollOffset < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n    }\n  },\n\n  getStartIndexForOffset: (\n    { itemCount, itemSize }: Props<any>,\n    offset: number\n  ): number =>\n    Math.max(\n      0,\n      Math.min(itemCount - 1, Math.floor(offset / ((itemSize: any): number)))\n    ),\n\n  getStopIndexForStartIndex: (\n    { direction, height, itemCount, itemSize, layout, width }: Props<any>,\n    startIndex: number,\n    scrollOffset: number\n  ): number => {\n    // TODO Deprecate direction \"horizontal\"\n    const isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    const offset = startIndex * ((itemSize: any): number);\n    const size = (((isHorizontal ? width : height): any): number);\n    const numVisibleItems = Math.ceil(\n      (size + scrollOffset - offset) / ((itemSize: any): number)\n    );\n    return Math.max(\n      0,\n      Math.min(\n        itemCount - 1,\n        startIndex + numVisibleItems - 1 // -1 is because stop index is inclusive\n      )\n    );\n  },\n\n  initInstanceProps(props: Props<any>): any {\n    // Noop\n  },\n\n  shouldResetStyleCacheOnItemSizeChange: true,\n\n  validateProps: ({ itemSize }: Props<any>): void => {\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof itemSize !== 'number') {\n        throw Error(\n          'An invalid \"itemSize\" prop has been specified. ' +\n            'Value should be a number. ' +\n            `\"${itemSize === null ? 'null' : typeof itemSize}\" was specified.`\n        );\n      }\n    }\n  },\n});\n\nexport default FixedSizeList;\n", "// @flow\n\n// Pulled from react-compat\n// https://github.com/developit/preact-compat/blob/7c5de00e7c85e2ffd011bf3af02899b63f699d3a/src/index.js#L349\nexport default function shallowDiffers(prev: Object, next: Object): boolean {\n  for (let attribute in prev) {\n    if (!(attribute in next)) {\n      return true;\n    }\n  }\n  for (let attribute in next) {\n    if (prev[attribute] !== next[attribute]) {\n      return true;\n    }\n  }\n  return false;\n}\n", "// @flow\n\nimport shallowDiffers from './shallowDiffers';\n\n// Custom comparison function for React.memo().\n// It knows to compare individual style props and ignore the wrapper object.\n// See https://reactjs.org/docs/react-api.html#reactmemo\nexport default function areEqual(\n  prevProps: Object,\n  nextProps: Object\n): boolean {\n  const { style: prevStyle, ...prevRest } = prevProps;\n  const { style: nextStyle, ...nextRest } = nextProps;\n\n  return (\n    !shallowDiffers(prevStyle, nextStyle) && !shallowDiffers(prevRest, nextRest)\n  );\n}\n", "// @flow\n\nimport areEqual from './areEqual';\nimport shallowDiffers from './shallowDiffers';\n\n// Custom shouldComponentUpdate for class components.\n// It knows to compare individual style props and ignore the wrapper object.\n// See https://reactjs.org/docs/react-component.html#shouldcomponentupdate\nexport default function shouldComponentUpdate(\n  nextProps: Object,\n  nextState: Object\n): boolean {\n  return (\n    !areEqual(this.props, nextProps) || shallowDiffers(this.state, nextState)\n  );\n}\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { forwardRef } from \"react\";\nimport { useTreeApi } from \"../context\";\nimport { Cursor } from \"./cursor\";\nexport const ListOuterElement = forwardRef(function Outer(props, ref) {\n    const { children } = props, rest = __rest(props, [\"children\"]);\n    const tree = useTreeApi();\n    return (_jsxs(\"div\", Object.assign({ \n        // @ts-ignore\n        ref: ref }, rest, { onClick: (e) => {\n            if (e.currentTarget === e.target)\n                tree.deselectAll();\n        }, children: [_jsx(DropContainer, {}), children] })));\n});\nconst DropContainer = () => {\n    const tree = useTreeApi();\n    return (_jsx(\"div\", { style: {\n            height: tree.visibleNodes.length * tree.rowHeight,\n            width: \"100%\",\n            position: \"absolute\",\n            left: \"0\",\n            right: \"0\",\n        }, children: _jsx(Cursor, {}) }));\n};\n", "import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useDndContext, useTreeApi } from \"../context\";\nexport function Cursor() {\n    var _a, _b;\n    const tree = useTreeApi();\n    const state = useDndContext();\n    const cursor = state.cursor;\n    if (!cursor || cursor.type !== \"line\")\n        return null;\n    const indent = tree.indent;\n    const top = tree.rowHeight * cursor.index +\n        ((_b = (_a = tree.props.padding) !== null && _a !== void 0 ? _a : tree.props.paddingTop) !== null && _b !== void 0 ? _b : 0);\n    const left = indent * cursor.level;\n    const Cursor = tree.renderCursor;\n    return _jsx(Cursor, { top, left, indent });\n}\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { forwardRef } from \"react\";\nimport { useTreeApi } from \"../context\";\nexport const ListInnerElement = forwardRef(function InnerElement(_a, ref) {\n    var _b, _c, _d, _e;\n    var { style } = _a, rest = __rest(_a, [\"style\"]);\n    const tree = useTreeApi();\n    const paddingTop = (_c = (_b = tree.props.padding) !== null && _b !== void 0 ? _b : tree.props.paddingTop) !== null && _c !== void 0 ? _c : 0;\n    const paddingBottom = (_e = (_d = tree.props.padding) !== null && _d !== void 0 ? _d : tree.props.paddingBottom) !== null && _e !== void 0 ? _e : 0;\n    return (_jsx(\"div\", Object.assign({ ref: ref, style: Object.assign(Object.assign({}, style), { height: `${parseFloat(style.height) + paddingTop + paddingBottom}px` }) }, rest)));\n});\n", "import { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useCallback, useEffect, useMemo, useRef } from \"react\";\nimport { useDataUpdates, useNodesContext, useTreeApi } from \"../context\";\nimport { useDragHook } from \"../dnd/drag-hook\";\nimport { useDropHook } from \"../dnd/drop-hook\";\nimport { useFreshNode } from \"../hooks/use-fresh-node\";\nexport const RowContainer = React.memo(function RowContainer({ index, style, }) {\n    /* When will the <Row> will re-render.\n     *\n     * The row component is memo'd so it will only render\n     * when a new instance of the NodeApi class is passed\n     * to it.\n     *\n     * The TreeApi instance is stable. It does not\n     * change when the internal state changes.\n     *\n     * The TreeApi has all the references to the nodes.\n     * We need to clone the nodes when their state\n     * changes. The node class contains no state itself,\n     * It always checks the tree for state. The tree's\n     * state will always be up to date.\n     */\n    useDataUpdates(); // Re-render when tree props or visability changes\n    const _ = useNodesContext(); // So that we re-render appropriately\n    const tree = useTreeApi(); // Tree already has the fresh state\n    const node = useFreshNode(index);\n    const el = useRef(null);\n    const dragRef = useDragHook(node);\n    const dropRef = useDropHook(el, node);\n    const innerRef = useCallback((n) => {\n        el.current = n;\n        dropRef(n);\n    }, [dropRef]);\n    const indent = tree.indent * node.level;\n    const nodeStyle = useMemo(() => ({ paddingLeft: indent }), [indent]);\n    const rowStyle = useMemo(() => {\n        var _a, _b;\n        return (Object.assign(Object.assign({}, style), { top: parseFloat(style.top) +\n                ((_b = (_a = tree.props.padding) !== null && _a !== void 0 ? _a : tree.props.paddingTop) !== null && _b !== void 0 ? _b : 0) }));\n    }, [style, tree.props.padding, tree.props.paddingTop]);\n    const rowAttrs = {\n        role: \"treeitem\",\n        \"aria-level\": node.level + 1,\n        \"aria-selected\": node.isSelected,\n        style: rowStyle,\n        tabIndex: -1,\n        className: tree.props.rowClassName,\n    };\n    useEffect(() => {\n        var _a;\n        if (!node.isEditing && node.isFocused) {\n            (_a = el.current) === null || _a === void 0 ? void 0 : _a.focus({ preventScroll: true });\n        }\n    }, [node.isEditing, node.isFocused, el.current]);\n    const Node = tree.renderNode;\n    const Row = tree.renderRow;\n    return (_jsx(Row, { node: node, innerRef: innerRef, attrs: rowAttrs, children: _jsx(Node, { node: node, tree: tree, style: nodeStyle, dragHandle: dragRef }) }));\n});\n", "import { useEffect } from \"react\";\nimport { useDrag } from \"react-dnd\";\nimport { getEmptyImage } from \"react-dnd-html5-backend\";\nimport { useTreeApi } from \"../context\";\nimport { actions as dnd } from \"../state/dnd-slice\";\nimport { safeRun } from \"../utils\";\nimport { ROOT_ID } from \"../data/create-root\";\nexport function useDragHook(node) {\n    const tree = useTreeApi();\n    const ids = tree.selectedIds;\n    const [_, ref, preview] = useDrag(() => ({\n        canDrag: () => node.isDraggable,\n        type: \"NODE\",\n        item: () => {\n            // This is fired once at the begging of a drag operation\n            const dragIds = tree.isSelected(node.id) ? Array.from(ids) : [node.id];\n            tree.dispatch(dnd.dragStart(node.id, dragIds));\n            return { id: node.id };\n        },\n        end: () => {\n            tree.hideCursor();\n            let { parentId, index, dragIds } = tree.state.dnd;\n            // If they held down meta, we need to create a copy\n            // if (drop.dropEffect === \"copy\")\n            if (tree.canDrop()) {\n                safeRun(tree.props.onMove, {\n                    dragIds,\n                    parentId: parentId === ROOT_ID ? null : parentId,\n                    index: index === null ? 0 : index, // When it's null it was dropped over a folder\n                    dragNodes: tree.dragNodes,\n                    parentNode: tree.get(parentId),\n                });\n                tree.open(parentId);\n            }\n            tree.dispatch(dnd.dragEnd());\n        },\n    }), [ids, node]);\n    useEffect(() => {\n        preview(getEmptyImage());\n    }, [preview]);\n    return ref;\n}\n", "import { createContext } from 'react';\n/**\n * Create the React Context\n */\n\nexport var DndContext = createContext({\n  dragDropManager: undefined\n});", "var _excluded = [\"children\"];\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, memo } from 'react';\nimport { createDragDropManager } from 'dnd-core';\nimport { DndContext } from './DndContext';\nvar refCount = 0;\nvar INSTANCE_SYM = Symbol.for('__REACT_DND_CONTEXT_INSTANCE__');\n/**\n * A React component that provides the React-DnD context\n */\n\nexport var DndProvider = memo(function DndProvider(_ref) {\n  var children = _ref.children,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _getDndContextValue = getDndContextValue(props),\n      _getDndContextValue2 = _slicedToArray(_getDndContextValue, 2),\n      manager = _getDndContextValue2[0],\n      isGlobalInstance = _getDndContextValue2[1]; // memoized from props\n\n  /**\n   * If the global context was used to store the DND context\n   * then where theres no more references to it we should\n   * clean it up to avoid memory leaks\n   */\n\n\n  useEffect(function () {\n    if (isGlobalInstance) {\n      var context = getGlobalContext();\n      ++refCount;\n      return function () {\n        if (--refCount === 0) {\n          context[INSTANCE_SYM] = null;\n        }\n      };\n    }\n  }, []);\n  return _jsx(DndContext.Provider, Object.assign({\n    value: manager\n  }, {\n    children: children\n  }), void 0);\n});\n\nfunction getDndContextValue(props) {\n  if ('manager' in props) {\n    var _manager = {\n      dragDropManager: props.manager\n    };\n    return [_manager, false];\n  }\n\n  var manager = createSingletonDndContext(props.backend, props.context, props.options, props.debugMode);\n  var isGlobalInstance = !props.context;\n  return [manager, isGlobalInstance];\n}\n\nfunction createSingletonDndContext(backend) {\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getGlobalContext();\n  var options = arguments.length > 2 ? arguments[2] : undefined;\n  var debugMode = arguments.length > 3 ? arguments[3] : undefined;\n  var ctx = context;\n\n  if (!ctx[INSTANCE_SYM]) {\n    ctx[INSTANCE_SYM] = {\n      dragDropManager: createDragDropManager(backend, context, options, debugMode)\n    };\n  }\n\n  return ctx[INSTANCE_SYM];\n}\n\nfunction getGlobalContext() {\n  return typeof global !== 'undefined' ? global : window;\n}", "export var HandlerRole;\n\n(function (HandlerRole) {\n  HandlerRole[\"SOURCE\"] = \"SOURCE\";\n  HandlerRole[\"TARGET\"] = \"TARGET\";\n})(HandlerRole || (HandlerRole = {}));", "/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nexport function invariant(condition: any, format: string, ...args: any[]) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    let error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n          'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      let argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() {\n          return args[argIndex++];\n        })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    (error as any).framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n", "export var INIT_COORDS = 'dnd-core/INIT_COORDS';\nexport var BEGIN_DRAG = 'dnd-core/BEGIN_DRAG';\nexport var PUBLISH_DRAG_SOURCE = 'dnd-core/PUBLISH_DRAG_SOURCE';\nexport var HOVER = 'dnd-core/HOVER';\nexport var DROP = 'dnd-core/DROP';\nexport var END_DRAG = 'dnd-core/END_DRAG';", "import { INIT_COORDS } from '../types';\nexport function setClientOffset(clientOffset, sourceClientOffset) {\n  return {\n    type: INIT_COORDS,\n    payload: {\n      sourceClientOffset: sourceClientOffset || null,\n      clientOffset: clientOffset || null\n    }\n  };\n}", "function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// cheap lodash replacements\n\n/**\n * drop-in replacement for _.get\n * @param obj\n * @param path\n * @param defaultValue\n */\nexport function get(obj, path, defaultValue) {\n  return path.split('.').reduce(function (a, c) {\n    return a && a[c] ? a[c] : defaultValue || null;\n  }, obj);\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isString(input) {\n  return typeof input === 'string';\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isObject(input) {\n  return _typeof(input) === 'object';\n}\n/**\n * repalcement for _.xor\n * @param itemsA\n * @param itemsB\n */\n\nexport function xor(itemsA, itemsB) {\n  var map = new Map();\n\n  var insertItem = function insertItem(item) {\n    map.set(item, map.has(item) ? map.get(item) + 1 : 1);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  map.forEach(function (count, key) {\n    if (count === 1) {\n      result.push(key);\n    }\n  });\n  return result;\n}\n/**\n * replacement for _.intersection\n * @param itemsA\n * @param itemsB\n */\n\nexport function intersection(itemsA, itemsB) {\n  return itemsA.filter(function (t) {\n    return itemsB.indexOf(t) > -1;\n  });\n}", "import { invariant } from '@react-dnd/invariant';\nimport { setClientOffset } from './local/setClientOffset';\nimport { isObject } from '../../utils/js_utils';\nimport { BEGIN_DRAG, INIT_COORDS } from './types';\nvar ResetCoordinatesAction = {\n  type: INIT_COORDS,\n  payload: {\n    clientOffset: null,\n    sourceClientOffset: null\n  }\n};\nexport function createBeginDrag(manager) {\n  return function beginDrag() {\n    var sourceIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      publishSource: true\n    };\n    var _options$publishSourc = options.publishSource,\n        publishSource = _options$publishSourc === void 0 ? true : _options$publishSourc,\n        clientOffset = options.clientOffset,\n        getSourceClientOffset = options.getSourceClientOffset;\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry(); // Initialize the coordinates using the client offset\n\n    manager.dispatch(setClientOffset(clientOffset));\n    verifyInvariants(sourceIds, monitor, registry); // Get the draggable source\n\n    var sourceId = getDraggableSource(sourceIds, monitor);\n\n    if (sourceId === null) {\n      manager.dispatch(ResetCoordinatesAction);\n      return;\n    } // Get the source client offset\n\n\n    var sourceClientOffset = null;\n\n    if (clientOffset) {\n      if (!getSourceClientOffset) {\n        throw new Error('getSourceClientOffset must be defined');\n      }\n\n      verifyGetSourceClientOffsetIsFunction(getSourceClientOffset);\n      sourceClientOffset = getSourceClientOffset(sourceId);\n    } // Initialize the full coordinates\n\n\n    manager.dispatch(setClientOffset(clientOffset, sourceClientOffset));\n    var source = registry.getSource(sourceId);\n    var item = source.beginDrag(monitor, sourceId); // If source.beginDrag returns null, this is an indicator to cancel the drag\n\n    if (item == null) {\n      return undefined;\n    }\n\n    verifyItemIsObject(item);\n    registry.pinSource(sourceId);\n    var itemType = registry.getSourceType(sourceId);\n    return {\n      type: BEGIN_DRAG,\n      payload: {\n        itemType: itemType,\n        item: item,\n        sourceId: sourceId,\n        clientOffset: clientOffset || null,\n        sourceClientOffset: sourceClientOffset || null,\n        isSourcePublic: !!publishSource\n      }\n    };\n  };\n}\n\nfunction verifyInvariants(sourceIds, monitor, registry) {\n  invariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.');\n  sourceIds.forEach(function (sourceId) {\n    invariant(registry.getSource(sourceId), 'Expected sourceIds to be registered.');\n  });\n}\n\nfunction verifyGetSourceClientOffsetIsFunction(getSourceClientOffset) {\n  invariant(typeof getSourceClientOffset === 'function', 'When clientOffset is provided, getSourceClientOffset must be a function.');\n}\n\nfunction verifyItemIsObject(item) {\n  invariant(isObject(item), 'Item must be an object.');\n}\n\nfunction getDraggableSource(sourceIds, monitor) {\n  var sourceId = null;\n\n  for (var i = sourceIds.length - 1; i >= 0; i--) {\n    if (monitor.canDragSource(sourceIds[i])) {\n      sourceId = sourceIds[i];\n      break;\n    }\n  }\n\n  return sourceId;\n}", "import { PUBLISH_DRAG_SOURCE } from './types';\nexport function createPublishDragSource(manager) {\n  return function publishDragSource() {\n    var monitor = manager.getMonitor();\n\n    if (monitor.isDragging()) {\n      return {\n        type: PUBLISH_DRAG_SOURCE\n      };\n    }\n  };\n}", "export function matchesType(targetType, draggedItemType) {\n  if (draggedItemType === null) {\n    return targetType === null;\n  }\n\n  return Array.isArray(targetType) ? targetType.some(function (t) {\n    return t === draggedItemType;\n  }) : targetType === draggedItemType;\n}", "import { invariant } from '@react-dnd/invariant';\nimport { matchesType } from '../../utils/matchesType';\nimport { HOVER } from './types';\nexport function createHover(manager) {\n  return function hover(targetIdsArg) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        clientOffset = _ref.clientOffset;\n\n    verifyTargetIdsIsArray(targetIdsArg);\n    var targetIds = targetIdsArg.slice(0);\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    checkInvariants(targetIds, monitor, registry);\n    var draggedItemType = monitor.getItemType();\n    removeNonMatchingTargetIds(targetIds, registry, draggedItemType);\n    hoverAllTargets(targetIds, monitor, registry);\n    return {\n      type: HOVER,\n      payload: {\n        targetIds: targetIds,\n        clientOffset: clientOffset || null\n      }\n    };\n  };\n}\n\nfunction verifyTargetIdsIsArray(targetIdsArg) {\n  invariant(Array.isArray(targetIdsArg), 'Expected targetIds to be an array.');\n}\n\nfunction checkInvariants(targetIds, monitor, registry) {\n  invariant(monitor.isDragging(), 'Cannot call hover while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call hover after drop.');\n\n  for (var i = 0; i < targetIds.length; i++) {\n    var targetId = targetIds[i];\n    invariant(targetIds.lastIndexOf(targetId) === i, 'Expected targetIds to be unique in the passed array.');\n    var target = registry.getTarget(targetId);\n    invariant(target, 'Expected targetIds to be registered.');\n  }\n}\n\nfunction removeNonMatchingTargetIds(targetIds, registry, draggedItemType) {\n  // Remove those targetIds that don't match the targetType.  This\n  // fixes shallow isOver which would only be non-shallow because of\n  // non-matching targets.\n  for (var i = targetIds.length - 1; i >= 0; i--) {\n    var targetId = targetIds[i];\n    var targetType = registry.getTargetType(targetId);\n\n    if (!matchesType(targetType, draggedItemType)) {\n      targetIds.splice(i, 1);\n    }\n  }\n}\n\nfunction hoverAllTargets(targetIds, monitor, registry) {\n  // Finally call hover on all matching targets.\n  targetIds.forEach(function (targetId) {\n    var target = registry.getTarget(targetId);\n    target.hover(monitor, targetId);\n  });\n}", "function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { DROP } from './types';\nimport { isObject } from '../../utils/js_utils';\nexport function createDrop(manager) {\n  return function drop() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyInvariants(monitor);\n    var targetIds = getDroppableTargets(monitor); // Multiple actions are dispatched here, which is why this doesn't return an action\n\n    targetIds.forEach(function (targetId, index) {\n      var dropResult = determineDropResult(targetId, index, registry, monitor);\n      var action = {\n        type: DROP,\n        payload: {\n          dropResult: _objectSpread(_objectSpread({}, options), dropResult)\n        }\n      };\n      manager.dispatch(action);\n    });\n  };\n}\n\nfunction verifyInvariants(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call drop while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call drop twice during one drag operation.');\n}\n\nfunction determineDropResult(targetId, index, registry, monitor) {\n  var target = registry.getTarget(targetId);\n  var dropResult = target ? target.drop(monitor, targetId) : undefined;\n  verifyDropResultType(dropResult);\n\n  if (typeof dropResult === 'undefined') {\n    dropResult = index === 0 ? {} : monitor.getDropResult();\n  }\n\n  return dropResult;\n}\n\nfunction verifyDropResultType(dropResult) {\n  invariant(typeof dropResult === 'undefined' || isObject(dropResult), 'Drop result must either be an object or undefined.');\n}\n\nfunction getDroppableTargets(monitor) {\n  var targetIds = monitor.getTargetIds().filter(monitor.canDropOnTarget, monitor);\n  targetIds.reverse();\n  return targetIds;\n}", "import { invariant } from '@react-dnd/invariant';\nimport { END_DRAG } from './types';\nexport function createEndDrag(manager) {\n  return function endDrag() {\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyIsDragging(monitor);\n    var sourceId = monitor.getSourceId();\n\n    if (sourceId != null) {\n      var source = registry.getSource(sourceId, true);\n      source.endDrag(monitor, sourceId);\n      registry.unpinSource();\n    }\n\n    return {\n      type: END_DRAG\n    };\n  };\n}\n\nfunction verifyIsDragging(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call endDrag while not dragging.');\n}", "import { createBeginDrag } from './beginDrag';\nimport { createPublishDragSource } from './publishDragSource';\nimport { createHover } from './hover';\nimport { createDrop } from './drop';\nimport { createEndDrag } from './endDrag';\nexport * from './types';\nexport function createDragDropActions(manager) {\n  return {\n    beginDrag: createBeginDrag(manager),\n    publishDragSource: createPublishDragSource(manager),\n    hover: createHover(manager),\n    drop: createDrop(manager),\n    endDrag: createEndDrag(manager)\n  };\n}", "function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { createDragDropActions } from '../actions/dragDrop';\nexport var DragDropManagerImpl = /*#__PURE__*/function () {\n  function DragDropManagerImpl(store, monitor) {\n    var _this = this;\n\n    _classCallCheck(this, DragDropManagerImpl);\n\n    _defineProperty(this, \"store\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    _defineProperty(this, \"isSetUp\", false);\n\n    _defineProperty(this, \"handleRefCountChange\", function () {\n      var shouldSetUp = _this.store.getState().refCount > 0;\n\n      if (_this.backend) {\n        if (shouldSetUp && !_this.isSetUp) {\n          _this.backend.setup();\n\n          _this.isSetUp = true;\n        } else if (!shouldSetUp && _this.isSetUp) {\n          _this.backend.teardown();\n\n          _this.isSetUp = false;\n        }\n      }\n    });\n\n    this.store = store;\n    this.monitor = monitor;\n    store.subscribe(this.handleRefCountChange);\n  }\n\n  _createClass(DragDropManagerImpl, [{\n    key: \"receiveBackend\",\n    value: function receiveBackend(backend) {\n      this.backend = backend;\n    }\n  }, {\n    key: \"getMonitor\",\n    value: function getMonitor() {\n      return this.monitor;\n    }\n  }, {\n    key: \"getBackend\",\n    value: function getBackend() {\n      return this.backend;\n    }\n  }, {\n    key: \"getRegistry\",\n    value: function getRegistry() {\n      return this.monitor.registry;\n    }\n  }, {\n    key: \"getActions\",\n    value: function getActions() {\n      /* eslint-disable-next-line @typescript-eslint/no-this-alias */\n      var manager = this;\n      var dispatch = this.store.dispatch;\n\n      function bindActionCreator(actionCreator) {\n        return function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          var action = actionCreator.apply(manager, args);\n\n          if (typeof action !== 'undefined') {\n            dispatch(action);\n          }\n        };\n      }\n\n      var actions = createDragDropActions(this);\n      return Object.keys(actions).reduce(function (boundActions, key) {\n        var action = actions[key];\n        boundActions[key] = bindActionCreator(action);\n        return boundActions;\n      }, {});\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(action) {\n      this.store.dispatch(action);\n    }\n  }]);\n\n  return DragDropManagerImpl;\n}();", "import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n\n/**\n * @deprecated\n *\n * **We recommend using the `configureStore` method\n * of the `@reduxjs/toolkit` package**, which replaces `createStore`.\n *\n * Redux Toolkit is our recommended approach for writing Redux logic today,\n * including store setup, reducers, data fetching, and more.\n *\n * **For more details, please read this Redux docs page:**\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * `configureStore` from Redux Toolkit is an improved version of `createStore` that\n * simplifies setup and helps avoid common bugs.\n *\n * You should not be using the `redux` core package by itself today, except for learning purposes.\n * The `createStore` method from the core `redux` package will not be removed, but we encourage\n * all users to migrate to using Redux Toolkit for all Redux code.\n *\n * If you want to use `createStore` without this visual deprecation warning, use\n * the `legacy_createStore` import instead:\n *\n * `import { legacy_createStore as createStore} from 'redux'`\n *\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing â€œwhat changedâ€. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Creates a Redux store that holds the state tree.\n *\n * **We recommend using `configureStore` from the\n * `@reduxjs/toolkit` package**, which replaces `createStore`:\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nvar legacy_createStore = createStore;\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(12) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(13) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle '\" + ActionTypes.INIT + \"' or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(14) : \"When called with an action of type \" + (actionType ? \"\\\"\" + String(actionType) + \"\\\"\" : '(unknown type)') + \", the slice reducer for key \\\"\" + _key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\");\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(16) : \"bindActionCreators expected an object or a function, but instead received: '\" + kindOf(actionCreators) + \"'. \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(15) : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread(_objectSpread({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore, legacy_createStore };\n", "export var strictEquality = function strictEquality(a, b) {\n  return a === b;\n};\n/**\n * Determine if two cartesian coordinate offsets are equal\n * @param offsetA\n * @param offsetB\n */\n\nexport function areCoordsEqual(offsetA, offsetB) {\n  if (!offsetA && !offsetB) {\n    return true;\n  } else if (!offsetA || !offsetB) {\n    return false;\n  } else {\n    return offsetA.x === offsetB.x && offsetA.y === offsetB.y;\n  }\n}\n/**\n * Determines if two arrays of items are equal\n * @param a The first array of items\n * @param b The second array of items\n */\n\nexport function areArraysEqual(a, b) {\n  var isEqual = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : strictEquality;\n\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (var i = 0; i < a.length; ++i) {\n    if (!isEqual(a[i], b[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}", "function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { INIT_COORDS, BEGIN_DRAG, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { areCoordsEqual } from '../utils/equality';\nvar initialState = {\n  initialSourceClientOffset: null,\n  initialClientOffset: null,\n  clientOffset: null\n};\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case INIT_COORDS:\n    case BEGIN_DRAG:\n      return {\n        initialSourceClientOffset: payload.sourceClientOffset,\n        initialClientOffset: payload.clientOffset,\n        clientOffset: payload.clientOffset\n      };\n\n    case HOVER:\n      if (areCoordsEqual(state.clientOffset, payload.clientOffset)) {\n        return state;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        clientOffset: payload.clientOffset\n      });\n\n    case END_DRAG:\n    case DROP:\n      return initialState;\n\n    default:\n      return state;\n  }\n}", "export var ADD_SOURCE = 'dnd-core/ADD_SOURCE';\nexport var ADD_TARGET = 'dnd-core/ADD_TARGET';\nexport var REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE';\nexport var REMOVE_TARGET = 'dnd-core/REMOVE_TARGET';\nexport function addSource(sourceId) {\n  return {\n    type: ADD_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function addTarget(targetId) {\n  return {\n    type: ADD_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}\nexport function removeSource(sourceId) {\n  return {\n    type: REMOVE_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function removeTarget(targetId) {\n  return {\n    type: REMOVE_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}", "function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { REMOVE_TARGET } from '../actions/registry';\nimport { without } from '../utils/js_utils';\nvar initialState = {\n  itemType: null,\n  item: null,\n  sourceId: null,\n  targetIds: [],\n  dropResult: null,\n  didDrop: false,\n  isSourcePublic: null\n};\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case BEGIN_DRAG:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemType: payload.itemType,\n        item: payload.item,\n        sourceId: payload.sourceId,\n        isSourcePublic: payload.isSourcePublic,\n        dropResult: null,\n        didDrop: false\n      });\n\n    case PUBLISH_DRAG_SOURCE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isSourcePublic: true\n      });\n\n    case HOVER:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        targetIds: payload.targetIds\n      });\n\n    case REMOVE_TARGET:\n      if (state.targetIds.indexOf(payload.targetId) === -1) {\n        return state;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        targetIds: without(state.targetIds, payload.targetId)\n      });\n\n    case DROP:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        dropResult: payload.dropResult,\n        didDrop: true,\n        targetIds: []\n      });\n\n    case END_DRAG:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemType: null,\n        item: null,\n        sourceId: null,\n        dropResult: null,\n        didDrop: false,\n        isSourcePublic: null,\n        targetIds: []\n      });\n\n    default:\n      return state;\n  }\n}", "import { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_SOURCE:\n    case ADD_TARGET:\n      return state + 1;\n\n    case REMOVE_SOURCE:\n    case REMOVE_TARGET:\n      return state - 1;\n\n    default:\n      return state;\n  }\n}", "import { intersection } from './js_utils';\nexport var NONE = [];\nexport var ALL = [];\nNONE.__IS_NONE__ = true;\nALL.__IS_ALL__ = true;\n/**\n * Determines if the given handler IDs are dirty or not.\n *\n * @param dirtyIds The set of dirty handler ids\n * @param handlerIds The set of handler ids to check\n */\n\nexport function areDirty(dirtyIds, handlerIds) {\n  if (dirtyIds === NONE) {\n    return false;\n  }\n\n  if (dirtyIds === ALL || typeof handlerIds === 'undefined') {\n    return true;\n  }\n\n  var commonIds = intersection(handlerIds, dirtyIds);\n  return commonIds.length > 0;\n}", "import { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nimport { areArraysEqual } from '../utils/equality';\nimport { NONE, ALL } from '../utils/dirtiness';\nimport { xor } from '../utils/js_utils';\nexport function reduce() {\n  var _state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : NONE;\n\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case HOVER:\n      break;\n\n    case ADD_SOURCE:\n    case ADD_TARGET:\n    case REMOVE_TARGET:\n    case REMOVE_SOURCE:\n      return NONE;\n\n    case BEGIN_DRAG:\n    case PUBLISH_DRAG_SOURCE:\n    case END_DRAG:\n    case DROP:\n    default:\n      return ALL;\n  }\n\n  var _action$payload = action.payload,\n      _action$payload$targe = _action$payload.targetIds,\n      targetIds = _action$payload$targe === void 0 ? [] : _action$payload$targe,\n      _action$payload$prevT = _action$payload.prevTargetIds,\n      prevTargetIds = _action$payload$prevT === void 0 ? [] : _action$payload$prevT;\n  var result = xor(targetIds, prevTargetIds);\n  var didChange = result.length > 0 || !areArraysEqual(targetIds, prevTargetIds);\n\n  if (!didChange) {\n    return NONE;\n  } // Check the target ids at the innermost position. If they are valid, add them\n  // to the result\n\n\n  var prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1];\n  var innermostTargetId = targetIds[targetIds.length - 1];\n\n  if (prevInnermostTargetId !== innermostTargetId) {\n    if (prevInnermostTargetId) {\n      result.push(prevInnermostTargetId);\n    }\n\n    if (innermostTargetId) {\n      result.push(innermostTargetId);\n    }\n  }\n\n  return result;\n}", "export function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return state + 1;\n}", "function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { reduce as dragOffset } from './dragOffset';\nimport { reduce as dragOperation } from './dragOperation';\nimport { reduce as refCount } from './refCount';\nimport { reduce as dirtyHandlerIds } from './dirtyHandlerIds';\nimport { reduce as stateId } from './stateId';\nimport { get } from '../utils/js_utils';\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return {\n    dirtyHandlerIds: dirtyHandlerIds(state.dirtyHandlerIds, {\n      type: action.type,\n      payload: _objectSpread(_objectSpread({}, action.payload), {}, {\n        prevTargetIds: get(state, 'dragOperation.targetIds', [])\n      })\n    }),\n    dragOffset: dragOffset(state.dragOffset, action),\n    refCount: refCount(state.refCount, action),\n    dragOperation: dragOperation(state.dragOperation, action),\n    stateId: stateId(state.stateId)\n  };\n}", "/**\n * Coordinate addition\n * @param a The first coordinate\n * @param b The second coordinate\n */\nexport function add(a, b) {\n  return {\n    x: a.x + b.x,\n    y: a.y + b.y\n  };\n}\n/**\n * Coordinate subtraction\n * @param a The first coordinate\n * @param b The second coordinate\n */\n\nexport function subtract(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\n/**\n * Returns the cartesian distance of the drag source component's position, based on its position\n * at the time when the current drag operation has started, and the movement difference.\n *\n * Returns null if no item is being dragged.\n *\n * @param state The offset state to compute from\n */\n\nexport function getSourceClientOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset,\n      initialSourceClientOffset = state.initialSourceClientOffset;\n\n  if (!clientOffset || !initialClientOffset || !initialSourceClientOffset) {\n    return null;\n  }\n\n  return subtract(add(clientOffset, initialSourceClientOffset), initialClientOffset);\n}\n/**\n * Determines the x,y offset between the client offset and the initial client offset\n *\n * @param state The offset state to compute from\n */\n\nexport function getDifferenceFromInitialOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset;\n\n  if (!clientOffset || !initialClientOffset) {\n    return null;\n  }\n\n  return subtract(clientOffset, initialClientOffset);\n}", "function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { matchesType } from '../utils/matchesType';\nimport { getSourceClientOffset as _getSourceClientOffset, getDifferenceFromInitialOffset as _getDifferenceFromInitialOffset } from '../utils/coords';\nimport { areDirty } from '../utils/dirtiness';\nexport var DragDropMonitorImpl = /*#__PURE__*/function () {\n  function DragDropMonitorImpl(store, registry) {\n    _classCallCheck(this, DragDropMonitorImpl);\n\n    _defineProperty(this, \"store\", void 0);\n\n    _defineProperty(this, \"registry\", void 0);\n\n    this.store = store;\n    this.registry = registry;\n  }\n\n  _createClass(DragDropMonitorImpl, [{\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        handlerIds: undefined\n      };\n      var handlerIds = options.handlerIds;\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      invariant(typeof handlerIds === 'undefined' || Array.isArray(handlerIds), 'handlerIds, when specified, must be an array of strings.');\n      var prevStateId = this.store.getState().stateId;\n\n      var handleChange = function handleChange() {\n        var state = _this.store.getState();\n\n        var currentStateId = state.stateId;\n\n        try {\n          var canSkipListener = currentStateId === prevStateId || currentStateId === prevStateId + 1 && !areDirty(state.dirtyHandlerIds, handlerIds);\n\n          if (!canSkipListener) {\n            listener();\n          }\n        } finally {\n          prevStateId = currentStateId;\n        }\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      var _this2 = this;\n\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      var previousState = this.store.getState().dragOffset;\n\n      var handleChange = function handleChange() {\n        var nextState = _this2.store.getState().dragOffset;\n\n        if (nextState === previousState) {\n          return;\n        }\n\n        previousState = nextState;\n        listener();\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId);\n      invariant(source, \"Expected to find a valid source. sourceId=\".concat(sourceId));\n\n      if (this.isDragging()) {\n        return false;\n      }\n\n      return source.canDrag(this, sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var target = this.registry.getTarget(targetId);\n      invariant(target, \"Expected to find a valid target. targetId=\".concat(targetId));\n\n      if (!this.isDragging() || this.didDrop()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n      return matchesType(targetType, draggedItemType) && target.canDrop(this, targetId);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return Boolean(this.getItemType());\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      // undefined on initial render\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId, true);\n      invariant(source, \"Expected to find a valid source. sourceId=\".concat(sourceId));\n\n      if (!this.isDragging() || !this.isSourcePublic()) {\n        return false;\n      }\n\n      var sourceType = this.registry.getSourceType(sourceId);\n      var draggedItemType = this.getItemType();\n\n      if (sourceType !== draggedItemType) {\n        return false;\n      }\n\n      return source.isDragging(this, sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        shallow: false\n      };\n\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var shallow = options.shallow;\n\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n\n      if (draggedItemType && !matchesType(targetType, draggedItemType)) {\n        return false;\n      }\n\n      var targetIds = this.getTargetIds();\n\n      if (!targetIds.length) {\n        return false;\n      }\n\n      var index = targetIds.indexOf(targetId);\n\n      if (shallow) {\n        return index === targetIds.length - 1;\n      } else {\n        return index > -1;\n      }\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.store.getState().dragOperation.itemType;\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.store.getState().dragOperation.item;\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.store.getState().dragOperation.sourceId;\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.store.getState().dragOperation.targetIds;\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.store.getState().dragOperation.dropResult;\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.store.getState().dragOperation.didDrop;\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return Boolean(this.store.getState().dragOperation.isSourcePublic);\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.store.getState().dragOffset.initialClientOffset;\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.store.getState().dragOffset.initialSourceClientOffset;\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.store.getState().dragOffset.clientOffset;\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return _getSourceClientOffset(this.store.getState().dragOffset);\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return _getDifferenceFromInitialOffset(this.store.getState().dragOffset);\n    }\n  }]);\n\n  return DragDropMonitorImpl;\n}();", "var nextUniqueId = 0;\nexport function getNextUniqueId() {\n  return nextUniqueId++;\n}", "function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { invariant } from '@react-dnd/invariant';\nexport function validateSourceContract(source) {\n  invariant(typeof source.canDrag === 'function', 'Expected canDrag to be a function.');\n  invariant(typeof source.beginDrag === 'function', 'Expected beginDrag to be a function.');\n  invariant(typeof source.endDrag === 'function', 'Expected endDrag to be a function.');\n}\nexport function validateTargetContract(target) {\n  invariant(typeof target.canDrop === 'function', 'Expected canDrop to be a function.');\n  invariant(typeof target.hover === 'function', 'Expected hover to be a function.');\n  invariant(typeof target.drop === 'function', 'Expected beginDrag to be a function.');\n}\nexport function validateType(type, allowArray) {\n  if (allowArray && Array.isArray(type)) {\n    type.forEach(function (t) {\n      return validateType(t, false);\n    });\n    return;\n  }\n\n  invariant(typeof type === 'string' || _typeof(type) === 'symbol', allowArray ? 'Type can only be a string, a symbol, or an array of either.' : 'Type can only be a string or a symbol.');\n}", "// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nconst scope = typeof global !== 'undefined' ? global : self\nconst BrowserMutationObserver =\n\t(scope as any).MutationObserver || (scope as any).WebKitMutationObserver\n\nexport function makeRequestCallFromTimer(callback: () => void) {\n\treturn function requestCall() {\n\t\t// We dispatch a timeout with a specified delay of 0 for engines that\n\t\t// can reliably accommodate that request. This will usually be snapped\n\t\t// to a 4 milisecond delay, but once we're flushing, there's no delay\n\t\t// between events.\n\t\tconst timeoutHandle = setTimeout(handleTimer, 0)\n\t\t// However, since this timer gets frequently dropped in Firefox\n\t\t// workers, we enlist an interval handle that will try to fire\n\t\t// an event 20 times per second until it succeeds.\n\t\tconst intervalHandle = setInterval(handleTimer, 50)\n\n\t\tfunction handleTimer() {\n\t\t\t// Whichever timer succeeds will cancel both timers and\n\t\t\t// execute the callback.\n\t\t\tclearTimeout(timeoutHandle)\n\t\t\tclearInterval(intervalHandle)\n\t\t\tcallback()\n\t\t}\n\t}\n}\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nexport function makeRequestCallFromMutationObserver(callback: () => void) {\n\tlet toggle = 1\n\tconst observer = new BrowserMutationObserver(callback)\n\tconst node = document.createTextNode('')\n\tobserver.observe(node, { characterData: true })\n\treturn function requestCall() {\n\t\ttoggle = -toggle\n\t\t;(node as any).data = toggle\n\t}\n}\n\nexport const makeRequestCall =\n\ttypeof BrowserMutationObserver === 'function'\n\t\t? // MutationObservers are desirable because they have high priority and work\n\t\t  // reliably everywhere they are implemented.\n\t\t  // They are implemented in all modern browsers.\n\t\t  //\n\t\t  // - Android 4-4.3\n\t\t  // - Chrome 26-34\n\t\t  // - Firefox 14-29\n\t\t  // - Internet Explorer 11\n\t\t  // - iPad Safari 6-7.1\n\t\t  // - iPhone Safari 7-7.1\n\t\t  // - Safari 6-7\n\t\t  makeRequestCallFromMutationObserver\n\t\t: // MessageChannels are desirable because they give direct access to the HTML\n\t\t  // task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n\t\t  // 11-12, and in web workers in many engines.\n\t\t  // Although message channels yield to any queued rendering and IO tasks, they\n\t\t  // would be better than imposing the 4ms delay of timers.\n\t\t  // However, they do not work reliably in Internet Explorer or Safari.\n\n\t\t  // Internet Explorer 10 is the only browser that has setImmediate but does\n\t\t  // not have MutationObservers.\n\t\t  // Although setImmediate yields to the browser's renderer, it would be\n\t\t  // preferrable to falling back to setTimeout since it does not have\n\t\t  // the minimum 4ms penalty.\n\t\t  // Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n\t\t  // Desktop to a lesser extent) that renders both setImmediate and\n\t\t  // MessageChannel useless for the purposes of ASAP.\n\t\t  // https://github.com/kriskowal/q/issues/396\n\n\t\t  // Timers are implemented universally.\n\t\t  // We fall back to timers in workers in most engines, and in foreground\n\t\t  // contexts in the following browsers.\n\t\t  // However, note that even this simple case requires nuances to operate in a\n\t\t  // broad spectrum of browsers.\n\t\t  //\n\t\t  // - Firefox 3-13\n\t\t  // - Internet Explorer 6-9\n\t\t  // - iPad Safari 4.3\n\t\t  // - Lynx 2.8.7\n\t\t  makeRequestCallFromTimer\n", "/* eslint-disable no-restricted-globals, @typescript-eslint/ban-ts-comment, @typescript-eslint/no-unused-vars, @typescript-eslint/no-non-null-assertion */\nimport type { Task } from './types.js'\nimport { makeRequestCall, makeRequestCallFromTimer } from './makeRequestCall.js'\n\nexport class AsapQueue {\n\tprivate queue: Task[] = []\n\t// We queue errors to ensure they are thrown in right order (FIFO).\n\t// Array-as-queue is good enough here, since we are just dealing with exceptions.\n\tprivate pendingErrors: any[] = []\n\t// Once a flush has been requested, no further calls to `requestFlush` are\n\t// necessary until the next `flush` completes.\n\t// @ts-ignore\n\tprivate flushing = false\n\t// `requestFlush` is an implementation-specific method that attempts to kick\n\t// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n\t// the event queue before yielding to the browser's own event loop.\n\tprivate requestFlush: () => void\n\n\tprivate requestErrorThrow: () => void\n\t// The position of the next task to execute in the task queue. This is\n\t// preserved between calls to `flush` so that it can be resumed if\n\t// a task throws an exception.\n\tprivate index = 0\n\t// If a task schedules additional tasks recursively, the task queue can grow\n\t// unbounded. To prevent memory exhaustion, the task queue will periodically\n\t// truncate already-completed tasks.\n\tprivate capacity = 1024\n\n\tpublic constructor() {\n\t\t// `requestFlush` requests that the high priority event queue be flushed as\n\t\t// soon as possible.\n\t\t// This is useful to prevent an error thrown in a task from stalling the event\n\t\t// queue if the exception handled by Node.jsâ€™s\n\t\t// `process.on(\"uncaughtException\")` or by a domain.\n\n\t\t// `requestFlush` is implemented using a strategy based on data collected from\n\t\t// every available SauceLabs Selenium web driver worker at time of writing.\n\t\t// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\t\tthis.requestFlush = makeRequestCall(this.flush)\n\t\tthis.requestErrorThrow = makeRequestCallFromTimer(() => {\n\t\t\t// Throw first error\n\t\t\tif (this.pendingErrors.length) {\n\t\t\t\tthrow this.pendingErrors.shift()\n\t\t\t}\n\t\t})\n\t}\n\n\t// Use the fastest means possible to execute a task in its own turn, with\n\t// priority over other events including IO, animation, reflow, and redraw\n\t// events in browsers.\n\t//\n\t// An exception thrown by a task will permanently interrupt the processing of\n\t// subsequent tasks. The higher level `asap` function ensures that if an\n\t// exception is thrown by a task, that the task queue will continue flushing as\n\t// soon as possible, but if you use `rawAsap` directly, you are responsible to\n\t// either ensure that no exceptions are thrown from your task, or to manually\n\t// call `rawAsap.requestFlush` if an exception is thrown.\n\tpublic enqueueTask(task: Task): void {\n\t\tconst { queue: q, requestFlush } = this\n\t\tif (!q.length) {\n\t\t\trequestFlush()\n\t\t\tthis.flushing = true\n\t\t}\n\t\t// Equivalent to push, but avoids a function call.\n\t\tq[q.length] = task\n\t}\n\n\t// The flush function processes all tasks that have been scheduled with\n\t// `rawAsap` unless and until one of those tasks throws an exception.\n\t// If a task throws an exception, `flush` ensures that its state will remain\n\t// consistent and will resume where it left off when called again.\n\t// However, `flush` does not make any arrangements to be called again if an\n\t// exception is thrown.\n\tprivate flush = () => {\n\t\tconst { queue: q } = this\n\t\twhile (this.index < q.length) {\n\t\t\tconst currentIndex = this.index\n\t\t\t// Advance the index before calling the task. This ensures that we will\n\t\t\t// begin flushing on the next task the task throws an error.\n\t\t\tthis.index++\n\t\t\tq[currentIndex]!.call()\n\t\t\t// Prevent leaking memory for long chains of recursive calls to `asap`.\n\t\t\t// If we call `asap` within tasks scheduled by `asap`, the queue will\n\t\t\t// grow, but to avoid an O(n) walk for every task we execute, we don't\n\t\t\t// shift tasks off the queue after they have been executed.\n\t\t\t// Instead, we periodically shift 1024 tasks off the queue.\n\t\t\tif (this.index > this.capacity) {\n\t\t\t\t// Manually shift all values starting at the index back to the\n\t\t\t\t// beginning of the queue.\n\t\t\t\tfor (\n\t\t\t\t\tlet scan = 0, newLength = q.length - this.index;\n\t\t\t\t\tscan < newLength;\n\t\t\t\t\tscan++\n\t\t\t\t) {\n\t\t\t\t\tq[scan] = q[scan + this.index]!\n\t\t\t\t}\n\t\t\t\tq.length -= this.index\n\t\t\t\tthis.index = 0\n\t\t\t}\n\t\t}\n\t\tq.length = 0\n\t\tthis.index = 0\n\t\tthis.flushing = false\n\t}\n\n\t// In a web browser, exceptions are not fatal. However, to avoid\n\t// slowing down the queue of pending tasks, we rethrow the error in a\n\t// lower priority turn.\n\tpublic registerPendingError = (err: any) => {\n\t\tthis.pendingErrors.push(err)\n\t\tthis.requestErrorThrow()\n\t}\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// // its existence.\n// rawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n", "// We wrap tasks with recyclable task objects.  A task object implements\n\nimport type { TaskFn, Task } from 'types'\n\n// `call`, just like a function.\nexport class RawTask implements Task {\n\tpublic task: TaskFn | null = null\n\n\tpublic constructor(\n\t\tprivate onError: (err: any) => void,\n\t\tprivate release: (t: RawTask) => void,\n\t) {}\n\n\tpublic call() {\n\t\ttry {\n\t\t\tthis.task && this.task()\n\t\t} catch (error) {\n\t\t\tthis.onError(error)\n\t\t} finally {\n\t\t\tthis.task = null\n\t\t\tthis.release(this)\n\t\t}\n\t}\n}\n", "import type { Task } from './types.js'\nimport { RawTask } from './RawTask.js'\n\nexport class TaskFactory {\n\tprivate freeTasks: RawTask[] = []\n\n\tpublic constructor(private onError: (err: any) => void) {}\n\n\tpublic create(task: () => void): Task {\n\t\tconst tasks = this.freeTasks\n\t\tconst t = tasks.length\n\t\t\t? (tasks.pop() as RawTask)\n\t\t\t: new RawTask(this.onError, (t) => (tasks[tasks.length] = t))\n\t\tt.task = task\n\t\treturn t\n\t}\n}\n", "import { AsapQueue } from './AsapQueue.js'\nimport { TaskFactory } from './TaskFactory.js'\nimport type { TaskFn } from './types.js'\n\nconst asapQueue = new AsapQueue()\nconst taskFactory = new TaskFactory(asapQueue.registerPendingError)\n\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\nexport function asap(task: TaskFn) {\n\tasapQueue.enqueueTask(taskFactory.create(task))\n}\n", "function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { addSource as _addSource, addTarget as _addTarget, removeSource as _removeSource, removeTarget as _removeTarget } from '../actions/registry';\nimport { getNextUniqueId } from '../utils/getNextUniqueId';\nimport { HandlerRole } from '../interfaces';\nimport { validateSourceContract, validateTargetContract, validateType } from '../contracts';\nimport { asap } from '@react-dnd/asap';\n\nfunction getNextHandlerId(role) {\n  var id = getNextUniqueId().toString();\n\n  switch (role) {\n    case HandlerRole.SOURCE:\n      return \"S\".concat(id);\n\n    case HandlerRole.TARGET:\n      return \"T\".concat(id);\n\n    default:\n      throw new Error(\"Unknown Handler Role: \".concat(role));\n  }\n}\n\nfunction parseRoleFromHandlerId(handlerId) {\n  switch (handlerId[0]) {\n    case 'S':\n      return HandlerRole.SOURCE;\n\n    case 'T':\n      return HandlerRole.TARGET;\n\n    default:\n      invariant(false, \"Cannot parse handler ID: \".concat(handlerId));\n  }\n}\n\nfunction mapContainsValue(map, searchValue) {\n  var entries = map.entries();\n  var isDone = false;\n\n  do {\n    var _entries$next = entries.next(),\n        done = _entries$next.done,\n        _entries$next$value = _slicedToArray(_entries$next.value, 2),\n        value = _entries$next$value[1];\n\n    if (value === searchValue) {\n      return true;\n    }\n\n    isDone = !!done;\n  } while (!isDone);\n\n  return false;\n}\n\nexport var HandlerRegistryImpl = /*#__PURE__*/function () {\n  function HandlerRegistryImpl(store) {\n    _classCallCheck(this, HandlerRegistryImpl);\n\n    _defineProperty(this, \"types\", new Map());\n\n    _defineProperty(this, \"dragSources\", new Map());\n\n    _defineProperty(this, \"dropTargets\", new Map());\n\n    _defineProperty(this, \"pinnedSourceId\", null);\n\n    _defineProperty(this, \"pinnedSource\", null);\n\n    _defineProperty(this, \"store\", void 0);\n\n    this.store = store;\n  }\n\n  _createClass(HandlerRegistryImpl, [{\n    key: \"addSource\",\n    value: function addSource(type, source) {\n      validateType(type);\n      validateSourceContract(source);\n      var sourceId = this.addHandler(HandlerRole.SOURCE, type, source);\n      this.store.dispatch(_addSource(sourceId));\n      return sourceId;\n    }\n  }, {\n    key: \"addTarget\",\n    value: function addTarget(type, target) {\n      validateType(type, true);\n      validateTargetContract(target);\n      var targetId = this.addHandler(HandlerRole.TARGET, type, target);\n      this.store.dispatch(_addTarget(targetId));\n      return targetId;\n    }\n  }, {\n    key: \"containsHandler\",\n    value: function containsHandler(handler) {\n      return mapContainsValue(this.dragSources, handler) || mapContainsValue(this.dropTargets, handler);\n    }\n  }, {\n    key: \"getSource\",\n    value: function getSource(sourceId) {\n      var includePinned = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      var isPinned = includePinned && sourceId === this.pinnedSourceId;\n      var source = isPinned ? this.pinnedSource : this.dragSources.get(sourceId);\n      return source;\n    }\n  }, {\n    key: \"getTarget\",\n    value: function getTarget(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.dropTargets.get(targetId);\n    }\n  }, {\n    key: \"getSourceType\",\n    value: function getSourceType(sourceId) {\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      return this.types.get(sourceId);\n    }\n  }, {\n    key: \"getTargetType\",\n    value: function getTargetType(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.types.get(targetId);\n    }\n  }, {\n    key: \"isSourceId\",\n    value: function isSourceId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.SOURCE;\n    }\n  }, {\n    key: \"isTargetId\",\n    value: function isTargetId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.TARGET;\n    }\n  }, {\n    key: \"removeSource\",\n    value: function removeSource(sourceId) {\n      var _this = this;\n\n      invariant(this.getSource(sourceId), 'Expected an existing source.');\n      this.store.dispatch(_removeSource(sourceId));\n      asap(function () {\n        _this.dragSources.delete(sourceId);\n\n        _this.types.delete(sourceId);\n      });\n    }\n  }, {\n    key: \"removeTarget\",\n    value: function removeTarget(targetId) {\n      invariant(this.getTarget(targetId), 'Expected an existing target.');\n      this.store.dispatch(_removeTarget(targetId));\n      this.dropTargets.delete(targetId);\n      this.types.delete(targetId);\n    }\n  }, {\n    key: \"pinSource\",\n    value: function pinSource(sourceId) {\n      var source = this.getSource(sourceId);\n      invariant(source, 'Expected an existing source.');\n      this.pinnedSourceId = sourceId;\n      this.pinnedSource = source;\n    }\n  }, {\n    key: \"unpinSource\",\n    value: function unpinSource() {\n      invariant(this.pinnedSource, 'No source is pinned at the time.');\n      this.pinnedSourceId = null;\n      this.pinnedSource = null;\n    }\n  }, {\n    key: \"addHandler\",\n    value: function addHandler(role, type, handler) {\n      var id = getNextHandlerId(role);\n      this.types.set(id, type);\n\n      if (role === HandlerRole.SOURCE) {\n        this.dragSources.set(id, handler);\n      } else if (role === HandlerRole.TARGET) {\n        this.dropTargets.set(id, handler);\n      }\n\n      return id;\n    }\n  }]);\n\n  return HandlerRegistryImpl;\n}();", "import { DragDropManagerImpl } from './classes/DragDropManagerImpl';\nimport { createStore } from 'redux';\nimport { reduce } from './reducers';\nimport { DragDropMonitorImpl } from './classes/DragDropMonitorImpl';\nimport { HandlerRegistryImpl } from './classes/HandlerRegistryImpl';\nexport function createDragDropManager(backendFactory) {\n  var globalContext = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n  var backendOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var debugMode = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var store = makeStoreInstance(debugMode);\n  var monitor = new DragDropMonitorImpl(store, new HandlerRegistryImpl(store));\n  var manager = new DragDropManagerImpl(store, monitor);\n  var backend = backendFactory(manager, globalContext, backendOptions);\n  manager.receiveBackend(backend);\n  return manager;\n}\n\nfunction makeStoreInstance(debugMode) {\n  // TODO: if we ever make a react-native version of this,\n  // we'll need to consider how to pull off dev-tooling\n  var reduxDevTools = typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__;\n  return createStore(reduce, debugMode && reduxDevTools && reduxDevTools({\n    name: 'dnd-core',\n    instanceId: 'dnd-core'\n  }));\n}", "import { useEffect, memo } from 'react';\n/**\n * A utility for rendering a drag preview image\n */\n\nexport var DragPreviewImage = memo(function DragPreviewImage(_ref) {\n  var connect = _ref.connect,\n      src = _ref.src;\n  useEffect(function () {\n    if (typeof Image === 'undefined') return;\n    var connected = false;\n    var img = new Image();\n    img.src = src;\n\n    img.onload = function () {\n      connect(img);\n      connected = true;\n    };\n\n    return function () {\n      if (connected) {\n        connect(null);\n      }\n    };\n  });\n  return null;\n});", "function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrag = false;\nvar isCallingIsDragging = false;\nexport var DragSourceMonitorImpl = /*#__PURE__*/function () {\n  function DragSourceMonitorImpl(manager) {\n    _classCallCheck(this, DragSourceMonitorImpl);\n\n    _defineProperty(this, \"internalMonitor\", void 0);\n\n    _defineProperty(this, \"sourceId\", null);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DragSourceMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(sourceId) {\n      this.sourceId = sourceId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.sourceId;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingCanDrag = true;\n        return this.internalMonitor.canDragSource(this.sourceId);\n      } finally {\n        isCallingCanDrag = false;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      if (!this.sourceId) {\n        return false;\n      }\n\n      invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingIsDragging = true;\n        return this.internalMonitor.isDraggingSource(this.sourceId);\n      } finally {\n        isCallingIsDragging = false;\n      }\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      return this.internalMonitor.isDraggingSource(sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId, options) {\n      return this.internalMonitor.isOverTarget(targetId, options);\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.internalMonitor.getTargetIds();\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.internalMonitor.isSourcePublic();\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.internalMonitor.getSourceId();\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      return this.internalMonitor.subscribeToOffsetChange(listener);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      return this.internalMonitor.canDragSource(sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      return this.internalMonitor.canDropOnTarget(targetId);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DragSourceMonitorImpl;\n}();", "function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrop = false;\nexport var DropTargetMonitorImpl = /*#__PURE__*/function () {\n  function DropTargetMonitorImpl(manager) {\n    _classCallCheck(this, DropTargetMonitorImpl);\n\n    _defineProperty(this, \"internalMonitor\", void 0);\n\n    _defineProperty(this, \"targetId\", null);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DropTargetMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(targetId) {\n      this.targetId = targetId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.targetId;\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      // Cut out early if the target id has not been set. This should prevent errors\n      // where the user has an older version of dnd-core like in\n      // https://github.com/react-dnd/react-dnd/issues/1310\n      if (!this.targetId) {\n        return false;\n      }\n\n      invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');\n\n      try {\n        isCallingCanDrop = true;\n        return this.internalMonitor.canDropOnTarget(this.targetId);\n      } finally {\n        isCallingCanDrop = false;\n      }\n    }\n  }, {\n    key: \"isOver\",\n    value: function isOver(options) {\n      if (!this.targetId) {\n        return false;\n      }\n\n      return this.internalMonitor.isOverTarget(this.targetId, options);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DropTargetMonitorImpl;\n}();", "import { invariant } from '@react-dnd/invariant';\nimport { cloneElement, isValidElement } from 'react';\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  var displayName = element.type.displayName || element.type.name || 'the component';\n  throw new Error('Only native element nodes can now be passed to React DnD connectors.' + \"You can either wrap \".concat(displayName, \" into a <div>, or turn it into a \") + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return function () {\n    var elementOrNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    // When passed a node, call the hook straight away.\n    if (!isValidElement(elementOrNode)) {\n      var node = elementOrNode;\n      hook(node, options); // return the node so it can be chained (e.g. when within callback refs\n      // <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\n      return node;\n    } // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n\n\n    var element = elementOrNode;\n    throwIfCompositeComponentElement(element); // When no options are passed, use the hook directly\n\n    var ref = options ? function (node) {\n      return hook(node, options);\n    } : hook;\n    return cloneWithRef(element, ref);\n  };\n}\n\nexport function wrapConnectorHooks(hooks) {\n  var wrappedHooks = {};\n  Object.keys(hooks).forEach(function (key) {\n    var hook = hooks[key]; // ref objects should be passed straight through without wrapping\n\n    if (key.endsWith('Ref')) {\n      wrappedHooks[key] = hooks[key];\n    } else {\n      var wrappedHook = wrapHookToRecognizeElement(hook);\n\n      wrappedHooks[key] = function () {\n        return wrappedHook;\n      };\n    }\n  });\n  return wrappedHooks;\n}\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nfunction cloneWithRef(element, newRef) {\n  var previousRef = element.ref;\n  invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return cloneElement(element, {\n      ref: newRef\n    });\n  } else {\n    return cloneElement(element, {\n      ref: function ref(node) {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}", "function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isRef(obj) {\n  return (// eslint-disable-next-line no-prototype-builtins\n    obj !== null && _typeof(obj) === 'object' && Object.prototype.hasOwnProperty.call(obj, 'current')\n  );\n}", "export function shallowEqual<T>(\n  objA: T,\n  objB: T,\n  compare?: (a: T, b: T, key?: string) => boolean | void,\n  compareContext?: any\n) {\n  var compareResult = compare\n    ? compare.call(compareContext, objA, objB)\n    : void 0;\n  if (compareResult !== void 0) {\n    return !!compareResult;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = (objA as any)[key];\n    var valueB = (objB as any)[key];\n\n    compareResult = compare\n      ? compare.call(compareContext, valueA, valueB, key)\n      : void 0;\n\n    if (\n      compareResult === false ||\n      (compareResult === void 0 && valueA !== valueB)\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n", "function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from './isRef';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nexport var SourceConnector = /*#__PURE__*/function () {\n  // The drop target may either be attached via ref or connect function\n  // The drag preview may either be attached via ref or connect function\n  function SourceConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, SourceConnector);\n\n    _defineProperty(this, \"hooks\", wrapConnectorHooks({\n      dragSource: function dragSource(node, options) {\n        _this.clearDragSource();\n\n        _this.dragSourceOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragSourceRef = node;\n        } else {\n          _this.dragSourceNode = node;\n        }\n\n        _this.reconnectDragSource();\n      },\n      dragPreview: function dragPreview(node, options) {\n        _this.clearDragPreview();\n\n        _this.dragPreviewOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragPreviewRef = node;\n        } else {\n          _this.dragPreviewNode = node;\n        }\n\n        _this.reconnectDragPreview();\n      }\n    }));\n\n    _defineProperty(this, \"handlerId\", null);\n\n    _defineProperty(this, \"dragSourceRef\", null);\n\n    _defineProperty(this, \"dragSourceNode\", void 0);\n\n    _defineProperty(this, \"dragSourceOptionsInternal\", null);\n\n    _defineProperty(this, \"dragSourceUnsubscribe\", void 0);\n\n    _defineProperty(this, \"dragPreviewRef\", null);\n\n    _defineProperty(this, \"dragPreviewNode\", void 0);\n\n    _defineProperty(this, \"dragPreviewOptionsInternal\", null);\n\n    _defineProperty(this, \"dragPreviewUnsubscribe\", void 0);\n\n    _defineProperty(this, \"lastConnectedHandlerId\", null);\n\n    _defineProperty(this, \"lastConnectedDragSource\", null);\n\n    _defineProperty(this, \"lastConnectedDragSourceOptions\", null);\n\n    _defineProperty(this, \"lastConnectedDragPreview\", null);\n\n    _defineProperty(this, \"lastConnectedDragPreviewOptions\", null);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    this.backend = backend;\n  }\n\n  _createClass(SourceConnector, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (this.handlerId === newHandlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dragSource;\n    }\n  }, {\n    key: \"dragSourceOptions\",\n    get: function get() {\n      return this.dragSourceOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragSourceOptionsInternal = options;\n    }\n  }, {\n    key: \"dragPreviewOptions\",\n    get: function get() {\n      return this.dragPreviewOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragPreviewOptionsInternal = options;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      this.reconnectDragSource();\n      this.reconnectDragPreview();\n    }\n  }, {\n    key: \"reconnectDragSource\",\n    value: function reconnectDragSource() {\n      var dragSource = this.dragSource; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragSourceChange() || this.didDragSourceOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragSource();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragSource) {\n        this.lastConnectedDragSource = dragSource;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragSource = dragSource;\n        this.lastConnectedDragSourceOptions = this.dragSourceOptions;\n        this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);\n      }\n    }\n  }, {\n    key: \"reconnectDragPreview\",\n    value: function reconnectDragPreview() {\n      var dragPreview = this.dragPreview; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragPreviewChange() || this.didDragPreviewOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragPreview();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragPreview) {\n        this.lastConnectedDragPreview = dragPreview;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragPreview = dragPreview;\n        this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;\n        this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);\n      }\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didConnectedDragSourceChange\",\n    value: function didConnectedDragSourceChange() {\n      return this.lastConnectedDragSource !== this.dragSource;\n    }\n  }, {\n    key: \"didConnectedDragPreviewChange\",\n    value: function didConnectedDragPreviewChange() {\n      return this.lastConnectedDragPreview !== this.dragPreview;\n    }\n  }, {\n    key: \"didDragSourceOptionsChange\",\n    value: function didDragSourceOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragSourceOptions, this.dragSourceOptions);\n    }\n  }, {\n    key: \"didDragPreviewOptionsChange\",\n    value: function didDragPreviewOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);\n    }\n  }, {\n    key: \"disconnectDragSource\",\n    value: function disconnectDragSource() {\n      if (this.dragSourceUnsubscribe) {\n        this.dragSourceUnsubscribe();\n        this.dragSourceUnsubscribe = undefined;\n      }\n    }\n  }, {\n    key: \"disconnectDragPreview\",\n    value: function disconnectDragPreview() {\n      if (this.dragPreviewUnsubscribe) {\n        this.dragPreviewUnsubscribe();\n        this.dragPreviewUnsubscribe = undefined;\n        this.dragPreviewNode = null;\n        this.dragPreviewRef = null;\n      }\n    }\n  }, {\n    key: \"dragSource\",\n    get: function get() {\n      return this.dragSourceNode || this.dragSourceRef && this.dragSourceRef.current;\n    }\n  }, {\n    key: \"dragPreview\",\n    get: function get() {\n      return this.dragPreviewNode || this.dragPreviewRef && this.dragPreviewRef.current;\n    }\n  }, {\n    key: \"clearDragSource\",\n    value: function clearDragSource() {\n      this.dragSourceNode = null;\n      this.dragSourceRef = null;\n    }\n  }, {\n    key: \"clearDragPreview\",\n    value: function clearDragPreview() {\n      this.dragPreviewNode = null;\n      this.dragPreviewRef = null;\n    }\n  }]);\n\n  return SourceConnector;\n}();", "function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from './isRef';\nexport var TargetConnector = /*#__PURE__*/function () {\n  // The drop target may either be attached via ref or connect function\n  function TargetConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, TargetConnector);\n\n    _defineProperty(this, \"hooks\", wrapConnectorHooks({\n      dropTarget: function dropTarget(node, options) {\n        _this.clearDropTarget();\n\n        _this.dropTargetOptions = options;\n\n        if (isRef(node)) {\n          _this.dropTargetRef = node;\n        } else {\n          _this.dropTargetNode = node;\n        }\n\n        _this.reconnect();\n      }\n    }));\n\n    _defineProperty(this, \"handlerId\", null);\n\n    _defineProperty(this, \"dropTargetRef\", null);\n\n    _defineProperty(this, \"dropTargetNode\", void 0);\n\n    _defineProperty(this, \"dropTargetOptionsInternal\", null);\n\n    _defineProperty(this, \"unsubscribeDropTarget\", void 0);\n\n    _defineProperty(this, \"lastConnectedHandlerId\", null);\n\n    _defineProperty(this, \"lastConnectedDropTarget\", null);\n\n    _defineProperty(this, \"lastConnectedDropTargetOptions\", null);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    this.backend = backend;\n  }\n\n  _createClass(TargetConnector, [{\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dropTarget;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      // if nothing has changed then don't resubscribe\n      var didChange = this.didHandlerIdChange() || this.didDropTargetChange() || this.didOptionsChange();\n\n      if (didChange) {\n        this.disconnectDropTarget();\n      }\n\n      var dropTarget = this.dropTarget;\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dropTarget) {\n        this.lastConnectedDropTarget = dropTarget;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDropTarget = dropTarget;\n        this.lastConnectedDropTargetOptions = this.dropTargetOptions;\n        this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);\n      }\n    }\n  }, {\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (newHandlerId === this.handlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"dropTargetOptions\",\n    get: function get() {\n      return this.dropTargetOptionsInternal;\n    },\n    set: function set(options) {\n      this.dropTargetOptionsInternal = options;\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didDropTargetChange\",\n    value: function didDropTargetChange() {\n      return this.lastConnectedDropTarget !== this.dropTarget;\n    }\n  }, {\n    key: \"didOptionsChange\",\n    value: function didOptionsChange() {\n      return !shallowEqual(this.lastConnectedDropTargetOptions, this.dropTargetOptions);\n    }\n  }, {\n    key: \"disconnectDropTarget\",\n    value: function disconnectDropTarget() {\n      if (this.unsubscribeDropTarget) {\n        this.unsubscribeDropTarget();\n        this.unsubscribeDropTarget = undefined;\n      }\n    }\n  }, {\n    key: \"dropTarget\",\n    get: function get() {\n      return this.dropTargetNode || this.dropTargetRef && this.dropTargetRef.current;\n    }\n  }, {\n    key: \"clearDropTarget\",\n    value: function clearDropTarget() {\n      this.dropTargetRef = null;\n      this.dropTargetNode = null;\n    }\n  }]);\n\n  return TargetConnector;\n}();", "export function registerTarget(type, target, manager) {\n  var registry = manager.getRegistry();\n  var targetId = registry.addTarget(type, target);\n  return [targetId, function () {\n    return registry.removeTarget(targetId);\n  }];\n}\nexport function registerSource(type, source, manager) {\n  var registry = manager.getRegistry();\n  var sourceId = registry.addSource(type, source);\n  return [sourceId, function () {\n    return registry.removeSource(sourceId);\n  }];\n}", "function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function getDecoratedComponent(instanceRef) {\n  var currentRef = instanceRef.current;\n\n  if (currentRef == null) {\n    return null;\n  } else if (currentRef.decoratedRef) {\n    // go through the private field in decorateHandler to avoid the invariant hit\n    return currentRef.decoratedRef.current;\n  } else {\n    return currentRef;\n  }\n}\nexport function isClassComponent(Component) {\n  return Component && Component.prototype && typeof Component.prototype.render === 'function';\n}\nexport function isRefForwardingComponent(C) {\n  var _item$$$typeof;\n\n  var item = C;\n  return (item === null || item === void 0 ? void 0 : (_item$$$typeof = item.$$typeof) === null || _item$$$typeof === void 0 ? void 0 : _item$$$typeof.toString()) === 'Symbol(react.forward_ref)';\n}\nexport function isRefable(C) {\n  return isClassComponent(C) || isRefForwardingComponent(C);\n}\nexport function checkDecoratorArguments(functionName, signature) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var i = 0; i < (arguments.length <= 2 ? 0 : arguments.length - 2); i++) {\n      var arg = i + 2 < 2 || arguments.length <= i + 2 ? undefined : arguments[i + 2];\n\n      if (arg && arg.prototype && arg.prototype.render) {\n        // eslint-disable-next-line no-console\n        console.error('You seem to be applying the arguments in the wrong order. ' + \"It should be \".concat(functionName, \"(\").concat(signature, \")(Component), not the other way around. \") + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#you-seem-to-be-applying-the-arguments-in-the-wrong-order');\n        return;\n      }\n    }\n  }\n}\nexport function isFunction(input) {\n  return typeof input === 'function';\n}\nexport function noop() {// noop\n}\n\nfunction isObjectLike(input) {\n  return _typeof(input) === 'object' && input !== null;\n}\n\nexport function isPlainObject(input) {\n  if (!isObjectLike(input)) {\n    return false;\n  }\n\n  if (Object.getPrototypeOf(input) === null) {\n    return true;\n  }\n\n  var proto = input;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(input) === proto;\n}\nexport function isValidType(type, allowArray) {\n  return typeof type === 'string' || _typeof(type) === 'symbol' || !!allowArray && Array.isArray(type) && type.every(function (t) {\n    return isValidType(t, false);\n  });\n}", "function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { createRef, Component } from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../core';\nimport { isPlainObject } from './utils';\nimport { Disposable, CompositeDisposable, SerialDisposable } from './disposables';\nimport { isRefable } from './utils';\nimport hoistStatics from 'hoist-non-react-statics';\nexport function decorateHandler(_ref) {\n  var DecoratedComponent = _ref.DecoratedComponent,\n      createHandler = _ref.createHandler,\n      createMonitor = _ref.createMonitor,\n      createConnector = _ref.createConnector,\n      registerHandler = _ref.registerHandler,\n      containerDisplayName = _ref.containerDisplayName,\n      getType = _ref.getType,\n      collect = _ref.collect,\n      options = _ref.options;\n  var _options$arePropsEqua = options.arePropsEqual,\n      arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n  var Decorated = DecoratedComponent;\n  var displayName = DecoratedComponent.displayName || DecoratedComponent.name || 'Component';\n\n  var DragDropContainer = /*#__PURE__*/function (_Component) {\n    _inherits(DragDropContainer, _Component);\n\n    var _super = _createSuper(DragDropContainer);\n\n    function DragDropContainer(props) {\n      var _this;\n\n      _classCallCheck(this, DragDropContainer);\n\n      _this = _super.call(this, props);\n\n      _defineProperty(_assertThisInitialized(_this), \"decoratedRef\", createRef());\n\n      _defineProperty(_assertThisInitialized(_this), \"handlerId\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"manager\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"handlerMonitor\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"handlerConnector\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"handler\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"disposable\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"currentType\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"handleChange\", function () {\n        var nextState = _this.getCurrentState();\n\n        if (!shallowEqual(nextState, _this.state)) {\n          _this.setState(nextState);\n        }\n      });\n\n      _this.disposable = new SerialDisposable();\n\n      _this.receiveProps(props);\n\n      _this.dispose();\n\n      return _this;\n    }\n\n    _createClass(DragDropContainer, [{\n      key: \"getHandlerId\",\n      value: function getHandlerId() {\n        return this.handlerId;\n      }\n    }, {\n      key: \"getDecoratedComponentInstance\",\n      value: function getDecoratedComponentInstance() {\n        invariant(this.decoratedRef.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n        return this.decoratedRef.current;\n      }\n    }, {\n      key: \"shouldComponentUpdate\",\n      value: function shouldComponentUpdate(nextProps, nextState) {\n        return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.disposable = new SerialDisposable();\n        this.currentType = undefined;\n        this.receiveProps(this.props);\n        this.handleChange();\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        if (!arePropsEqual(this.props, prevProps)) {\n          this.receiveProps(this.props);\n          this.handleChange();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.dispose();\n      }\n    }, {\n      key: \"receiveProps\",\n      value: function receiveProps(props) {\n        if (!this.handler) {\n          return;\n        }\n\n        this.handler.receiveProps(props);\n        this.receiveType(getType(props));\n      }\n    }, {\n      key: \"receiveType\",\n      value: function receiveType(type) {\n        if (!this.handlerMonitor || !this.manager || !this.handlerConnector) {\n          return;\n        }\n\n        if (type === this.currentType) {\n          return;\n        }\n\n        this.currentType = type;\n\n        var _registerHandler = registerHandler(type, this.handler, this.manager),\n            _registerHandler2 = _slicedToArray(_registerHandler, 2),\n            handlerId = _registerHandler2[0],\n            unregister = _registerHandler2[1];\n\n        this.handlerId = handlerId;\n        this.handlerMonitor.receiveHandlerId(handlerId);\n        this.handlerConnector.receiveHandlerId(handlerId);\n        var globalMonitor = this.manager.getMonitor();\n        var unsubscribe = globalMonitor.subscribeToStateChange(this.handleChange, {\n          handlerIds: [handlerId]\n        });\n        this.disposable.setDisposable(new CompositeDisposable(new Disposable(unsubscribe), new Disposable(unregister)));\n      }\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        this.disposable.dispose();\n\n        if (this.handlerConnector) {\n          this.handlerConnector.receiveHandlerId(null);\n        }\n      }\n    }, {\n      key: \"getCurrentState\",\n      value: function getCurrentState() {\n        if (!this.handlerConnector) {\n          return {};\n        }\n\n        var nextState = collect(this.handlerConnector.hooks, this.handlerMonitor, this.props);\n\n        if (process.env.NODE_ENV !== 'production') {\n          invariant(isPlainObject(nextState), 'Expected `collect` specified as the second argument to ' + '%s for %s to return a plain object of props to inject. ' + 'Instead, received %s.', containerDisplayName, displayName, nextState);\n        }\n\n        return nextState;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        return _jsx(DndContext.Consumer, {\n          children: function children(_ref2) {\n            var dragDropManager = _ref2.dragDropManager;\n\n            _this2.receiveDragDropManager(dragDropManager);\n\n            if (typeof requestAnimationFrame !== 'undefined') {\n              requestAnimationFrame(function () {\n                var _this2$handlerConnect;\n\n                return (_this2$handlerConnect = _this2.handlerConnector) === null || _this2$handlerConnect === void 0 ? void 0 : _this2$handlerConnect.reconnect();\n              });\n            }\n\n            return _jsx(Decorated, Object.assign({}, _this2.props, _this2.getCurrentState(), {\n              // NOTE: if Decorated is a Function Component, decoratedRef will not be populated unless it's a refforwarding component.\n              ref: isRefable(Decorated) ? _this2.decoratedRef : null\n            }), void 0);\n          }\n        }, void 0);\n      }\n    }, {\n      key: \"receiveDragDropManager\",\n      value: function receiveDragDropManager(dragDropManager) {\n        if (this.manager !== undefined) {\n          return;\n        }\n\n        invariant(dragDropManager !== undefined, 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n\n        if (dragDropManager === undefined) {\n          return;\n        }\n\n        this.manager = dragDropManager;\n        this.handlerMonitor = createMonitor(dragDropManager);\n        this.handlerConnector = createConnector(dragDropManager.getBackend());\n        this.handler = createHandler(this.handlerMonitor, this.decoratedRef);\n      }\n    }]);\n\n    return DragDropContainer;\n  }(Component);\n\n  _defineProperty(DragDropContainer, \"DecoratedComponent\", DecoratedComponent);\n\n  _defineProperty(DragDropContainer, \"displayName\", \"\".concat(containerDisplayName, \"(\").concat(displayName, \")\"));\n\n  return hoistStatics(DragDropContainer, DecoratedComponent);\n}", "function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { isFunction, noop } from './utils';\n/**\n * Provides a set of static methods for creating Disposables.\n * @param {Function} action Action to run during the first call to dispose.\n * The action is guaranteed to be run at most once.\n */\n\nexport var Disposable = /*#__PURE__*/function () {\n  function Disposable(action) {\n    _classCallCheck(this, Disposable);\n\n    _defineProperty(this, \"isDisposed\", false);\n\n    _defineProperty(this, \"action\", void 0);\n\n    this.action = isFunction(action) ? action : noop;\n  }\n  /** Performs the task of cleaning up resources. */\n\n\n  _createClass(Disposable, [{\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.action();\n        this.isDisposed = true;\n      }\n    }\n  }], [{\n    key: \"isDisposable\",\n    value:\n    /**\n     * Gets the disposable that does nothing when disposed.\n     */\n\n    /**\n     * Validates whether the given object is a disposable\n     * @param {Object} Object to test whether it has a dispose method\n     * @returns {Boolean} true if a disposable object, else false.\n     */\n    function isDisposable(d) {\n      return Boolean(d && isFunction(d.dispose));\n    }\n  }, {\n    key: \"_fixup\",\n    value: function _fixup(result) {\n      return Disposable.isDisposable(result) ? result : Disposable.empty;\n    }\n    /**\n     * Creates a disposable object that invokes the specified action when disposed.\n     * @param {Function} dispose Action to run during the first call to dispose.\n     * The action is guaranteed to be run at most once.\n     * @return {Disposable} The disposable object that runs the given action upon disposal.\n     */\n\n  }, {\n    key: \"create\",\n    value: function create(action) {\n      return new Disposable(action);\n    }\n  }]);\n\n  return Disposable;\n}();\n/**\n * Represents a group of disposable resources that are disposed together.\n * @constructor\n */\n\n_defineProperty(Disposable, \"empty\", {\n  dispose: noop\n});\n\nexport var CompositeDisposable = /*#__PURE__*/function () {\n  function CompositeDisposable() {\n    _classCallCheck(this, CompositeDisposable);\n\n    _defineProperty(this, \"isDisposed\", false);\n\n    _defineProperty(this, \"disposables\", void 0);\n\n    for (var _len = arguments.length, disposables = new Array(_len), _key = 0; _key < _len; _key++) {\n      disposables[_key] = arguments[_key];\n    }\n\n    this.disposables = disposables;\n  }\n  /**\n   * Adds a disposable to the CompositeDisposable or disposes the disposable if the CompositeDisposable is disposed.\n   * @param {Any} item Disposable to add.\n   */\n\n\n  _createClass(CompositeDisposable, [{\n    key: \"add\",\n    value: function add(item) {\n      if (this.isDisposed) {\n        item.dispose();\n      } else {\n        this.disposables.push(item);\n      }\n    }\n    /**\n     * Removes and disposes the first occurrence of a disposable from the CompositeDisposable.\n     * @param {Any} item Disposable to remove.\n     * @returns {Boolean} true if found; false otherwise.\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(item) {\n      var shouldDispose = false;\n\n      if (!this.isDisposed) {\n        var idx = this.disposables.indexOf(item);\n\n        if (idx !== -1) {\n          shouldDispose = true;\n          this.disposables.splice(idx, 1);\n          item.dispose();\n        }\n      }\n\n      return shouldDispose;\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group but\n     *  does not dispose the CompositeDisposable.\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (!this.isDisposed) {\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i = 0; _i < len; _i++) {\n          currentDisposables[_i].dispose();\n        }\n      }\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group.\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i2 = 0; _i2 < len; _i2++) {\n          currentDisposables[_i2].dispose();\n        }\n      }\n    }\n  }]);\n\n  return CompositeDisposable;\n}();\n/**\n * Represents a disposable resource whose underlying disposable resource can\n * be replaced by another disposable resource, causing automatic disposal of\n * the previous underlying disposable resource.\n */\n\nexport var SerialDisposable = /*#__PURE__*/function () {\n  function SerialDisposable() {\n    _classCallCheck(this, SerialDisposable);\n\n    _defineProperty(this, \"isDisposed\", false);\n\n    _defineProperty(this, \"current\", void 0);\n  }\n\n  _createClass(SerialDisposable, [{\n    key: \"getDisposable\",\n    value:\n    /**\n     * Gets the underlying disposable.\n     * @returns {Any} the underlying disposable.\n     */\n    function getDisposable() {\n      return this.current;\n    }\n  }, {\n    key: \"setDisposable\",\n    value: function setDisposable(value) {\n      var shouldDispose = this.isDisposed;\n\n      if (!shouldDispose) {\n        var old = this.current;\n        this.current = value;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n\n      if (shouldDispose && value) {\n        value.dispose();\n      }\n    }\n    /** Performs the task of cleaning up resources. */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var old = this.current;\n        this.current = undefined;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n    }\n  }]);\n\n  return SerialDisposable;\n}();", "function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject, getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrag', 'beginDrag', 'isDragging', 'endDrag'];\nvar REQUIRED_SPEC_METHODS = ['beginDrag'];\n\nvar SourceImpl = /*#__PURE__*/function () {\n  function SourceImpl(spec, monitor, ref) {\n    var _this = this;\n\n    _classCallCheck(this, SourceImpl);\n\n    _defineProperty(this, \"props\", null);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"ref\", void 0);\n\n    _defineProperty(this, \"beginDrag\", function () {\n      if (!_this.props) {\n        return;\n      }\n\n      var item = _this.spec.beginDrag(_this.props, _this.monitor, _this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(isPlainObject(item), 'beginDrag() must return a plain object that represents the dragged item. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', item);\n      }\n\n      return item;\n    });\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(SourceImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.canDrag) {\n        return true;\n      }\n\n      return this.spec.canDrag(this.props, this.monitor);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, sourceId) {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.isDragging) {\n        return sourceId === globalMonitor.getSourceId();\n      }\n\n      return this.spec.isDragging(this.props, this.monitor);\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      if (!this.props) {\n        return;\n      }\n\n      if (!this.spec.endDrag) {\n        return;\n      }\n\n      this.spec.endDrag(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }]);\n\n  return SourceImpl;\n}();\n\nexport function createSourceFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drag source specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  REQUIRED_SPEC_METHODS.forEach(function (key) {\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  return function createSource(monitor, ref) {\n    return new SourceImpl(spec, monitor, ref);\n  };\n}", "function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject, getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrop', 'hover', 'drop'];\n\nvar TargetImpl = /*#__PURE__*/function () {\n  function TargetImpl(spec, monitor, ref) {\n    _classCallCheck(this, TargetImpl);\n\n    _defineProperty(this, \"props\", null);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"ref\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(TargetImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"receiveMonitor\",\n    value: function receiveMonitor(monitor) {\n      this.monitor = monitor;\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      if (!this.spec.canDrop) {\n        return true;\n      }\n\n      return this.spec.canDrop(this.props, this.monitor);\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      if (!this.spec.hover || !this.props) {\n        return;\n      }\n\n      this.spec.hover(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      if (!this.spec.drop) {\n        return undefined;\n      }\n\n      var dropResult = this.spec.drop(this.props, this.monitor, this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(typeof dropResult === 'undefined' || isPlainObject(dropResult), 'drop() must either return undefined, or an object that represents the drop result. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', dropResult);\n      }\n\n      return dropResult;\n    }\n  }]);\n\n  return TargetImpl;\n}();\n\nexport function createTargetFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drop target specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drop target specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', key, key, spec[key]);\n  });\n  return function createTarget(monitor, ref) {\n    return new TargetImpl(spec, monitor, ref);\n  };\n}", "function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { createRef, Component } from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { invariant } from '@react-dnd/invariant';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { DndContext } from '../core';\nimport { isRefable, checkDecoratorArguments, isPlainObject } from './utils';\n/**\n * @param collect The props collector function\n * @param options The DnD options\n */\n\nexport function DragLayer(collect) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  checkDecoratorArguments('DragLayer', 'collect[, options]', collect, options);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ', 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the second argument to DragLayer to be a plain object when specified. ' + 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', options);\n  return function decorateLayer(DecoratedComponent) {\n    var Decorated = DecoratedComponent;\n    var _options$arePropsEqua = options.arePropsEqual,\n        arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n    var displayName = Decorated.displayName || Decorated.name || 'Component';\n\n    var DragLayerContainer = /*#__PURE__*/function (_Component) {\n      _inherits(DragLayerContainer, _Component);\n\n      var _super = _createSuper(DragLayerContainer);\n\n      function DragLayerContainer() {\n        var _this;\n\n        _classCallCheck(this, DragLayerContainer);\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this = _super.call.apply(_super, [this].concat(args));\n\n        _defineProperty(_assertThisInitialized(_this), \"manager\", void 0);\n\n        _defineProperty(_assertThisInitialized(_this), \"isCurrentlyMounted\", false);\n\n        _defineProperty(_assertThisInitialized(_this), \"unsubscribeFromOffsetChange\", void 0);\n\n        _defineProperty(_assertThisInitialized(_this), \"unsubscribeFromStateChange\", void 0);\n\n        _defineProperty(_assertThisInitialized(_this), \"ref\", createRef());\n\n        _defineProperty(_assertThisInitialized(_this), \"handleChange\", function () {\n          if (!_this.isCurrentlyMounted) {\n            return;\n          }\n\n          var nextState = _this.getCurrentState();\n\n          if (!shallowEqual(nextState, _this.state)) {\n            _this.setState(nextState);\n          }\n        });\n\n        return _this;\n      }\n\n      _createClass(DragLayerContainer, [{\n        key: \"getDecoratedComponentInstance\",\n        value: function getDecoratedComponentInstance() {\n          invariant(this.ref.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n          return this.ref.current;\n        }\n      }, {\n        key: \"shouldComponentUpdate\",\n        value: function shouldComponentUpdate(nextProps, nextState) {\n          return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n        }\n      }, {\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          this.isCurrentlyMounted = true;\n          this.handleChange();\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          this.isCurrentlyMounted = false;\n\n          if (this.unsubscribeFromOffsetChange) {\n            this.unsubscribeFromOffsetChange();\n            this.unsubscribeFromOffsetChange = undefined;\n          }\n\n          if (this.unsubscribeFromStateChange) {\n            this.unsubscribeFromStateChange();\n            this.unsubscribeFromStateChange = undefined;\n          }\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var _this2 = this;\n\n          return _jsx(DndContext.Consumer, {\n            children: function children(_ref) {\n              var dragDropManager = _ref.dragDropManager;\n\n              if (dragDropManager === undefined) {\n                return null;\n              }\n\n              _this2.receiveDragDropManager(dragDropManager); // Let componentDidMount fire to initialize the collected state\n\n\n              if (!_this2.isCurrentlyMounted) {\n                return null;\n              }\n\n              return _jsx(Decorated, Object.assign({}, _this2.props, _this2.state, {\n                ref: isRefable(Decorated) ? _this2.ref : null\n              }), void 0);\n            }\n          }, void 0);\n        }\n      }, {\n        key: \"receiveDragDropManager\",\n        value: function receiveDragDropManager(dragDropManager) {\n          if (this.manager !== undefined) {\n            return;\n          }\n\n          this.manager = dragDropManager;\n          invariant(_typeof(dragDropManager) === 'object', 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n          var monitor = this.manager.getMonitor();\n          this.unsubscribeFromOffsetChange = monitor.subscribeToOffsetChange(this.handleChange);\n          this.unsubscribeFromStateChange = monitor.subscribeToStateChange(this.handleChange);\n        }\n      }, {\n        key: \"getCurrentState\",\n        value: function getCurrentState() {\n          if (!this.manager) {\n            return {};\n          }\n\n          var monitor = this.manager.getMonitor();\n          return collect(monitor, this.props);\n        }\n      }]);\n\n      return DragLayerContainer;\n    }(Component);\n\n    _defineProperty(DragLayerContainer, \"displayName\", \"DragLayer(\".concat(displayName, \")\"));\n\n    _defineProperty(DragLayerContainer, \"DecoratedComponent\", DecoratedComponent);\n\n    return hoistStatics(DragLayerContainer, DecoratedComponent);\n  };\n}", "import { useLayoutEffect, useEffect } from 'react'; // suppress the useLayoutEffect warning on server side.\n\nexport var useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;", "import { useEffect, useMemo } from 'react';\nimport { DragSourceImpl } from './DragSourceImpl';\nexport function useDragSource(spec, monitor, connector) {\n  var handler = useMemo(function () {\n    return new DragSourceImpl(spec, monitor, connector);\n  }, [monitor, connector]);\n  useEffect(function () {\n    handler.spec = spec;\n  }, [spec]);\n  return handler;\n}", "function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var DragSourceImpl = /*#__PURE__*/function () {\n  function DragSourceImpl(spec, monitor, connector) {\n    _classCallCheck(this, DragSourceImpl);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"connector\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.connector = connector;\n  }\n\n  _createClass(DragSourceImpl, [{\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      var _result;\n\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var result = null;\n\n      if (_typeof(spec.item) === 'object') {\n        result = spec.item;\n      } else if (typeof spec.item === 'function') {\n        result = spec.item(monitor);\n      } else {\n        result = {};\n      }\n\n      return (_result = result) !== null && _result !== void 0 ? _result : null;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (typeof spec.canDrag === 'boolean') {\n        return spec.canDrag;\n      } else if (typeof spec.canDrag === 'function') {\n        return spec.canDrag(monitor);\n      } else {\n        return true;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, target) {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var isDragging = spec.isDragging;\n      return isDragging ? isDragging(monitor) : target === globalMonitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var connector = this.connector;\n      var end = spec.end;\n\n      if (end) {\n        end(monitor.getItem(), monitor);\n      }\n\n      connector.reconnect();\n    }\n  }]);\n\n  return DragSourceImpl;\n}();", "import { useContext } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../core';\n/**\n * A hook to retrieve the DragDropManager from Context\n */\n\nexport function useDragDropManager() {\n  var _useContext = useContext(DndContext),\n      dragDropManager = _useContext.dragDropManager;\n\n  invariant(dragDropManager != null, 'Expected drag drop context');\n  return dragDropManager;\n}", "import { invariant } from '@react-dnd/invariant';\nimport { useMemo } from 'react';\nexport function useDragType(spec) {\n  return useMemo(function () {\n    var result = spec.type;\n    invariant(result != null, 'spec.type must be defined');\n    return result;\n  }, [spec]);\n}", "function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { registerSource } from '../../internals';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nimport { useDragSource } from './useDragSource';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useDragType } from './useDragType';\nexport function useRegisteredDragSource(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var handler = useDragSource(spec, monitor, connector);\n  var itemType = useDragType(spec);\n  useIsomorphicLayoutEffect(function registerDragSource() {\n    if (itemType != null) {\n      var _registerSource = registerSource(itemType, handler, manager),\n          _registerSource2 = _slicedToArray(_registerSource, 2),\n          handlerId = _registerSource2[0],\n          unregister = _registerSource2[1];\n\n      monitor.receiveHandlerId(handlerId);\n      connector.receiveHandlerId(handlerId);\n      return unregister;\n    }\n  }, [manager, monitor, connector, handler, itemType]);\n}", "function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { useMemo } from 'react';\nexport function useOptionalFactory(arg, deps) {\n  var memoDeps = _toConsumableArray(deps || []);\n\n  if (deps == null && typeof arg !== 'function') {\n    memoDeps.push(arg);\n  }\n\n  return useMemo(function () {\n    return typeof arg === 'function' ? arg() : arg;\n  }, memoDeps);\n}", "import { useMemo } from 'react';\nimport { DragSourceMonitorImpl } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nexport function useDragSourceMonitor() {\n  var manager = useDragDropManager();\n  return useMemo(function () {\n    return new DragSourceMonitorImpl(manager);\n  }, [manager]);\n}", "import { useMemo } from 'react';\nimport { SourceConnector } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nexport function useDragSourceConnector(dragSourceOptions, dragPreviewOptions) {\n  var manager = useDragDropManager();\n  var connector = useMemo(function () {\n    return new SourceConnector(manager.getBackend());\n  }, [manager]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragSourceOptions = dragSourceOptions || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDragSource();\n    };\n  }, [connector, dragSourceOptions]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragPreviewOptions = dragPreviewOptions || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDragPreview();\n    };\n  }, [connector, dragPreviewOptions]);\n  return connector;\n}", "function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport equal from 'fast-deep-equal';\nimport { useState, useCallback } from 'react';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\n/**\n *\n * @param monitor The monitor to collect state from\n * @param collect The collecting function\n * @param onUpdate A method to invoke when updates occur\n */\n\nexport function useCollector(monitor, collect, onUpdate) {\n  var _useState = useState(function () {\n    return collect(monitor);\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      collected = _useState2[0],\n      setCollected = _useState2[1];\n\n  var updateCollected = useCallback(function () {\n    var nextValue = collect(monitor); // This needs to be a deep-equality check because some monitor-collected values\n    // include XYCoord objects that may be equivalent, but do not have instance equality.\n\n    if (!equal(collected, nextValue)) {\n      setCollected(nextValue);\n\n      if (onUpdate) {\n        onUpdate();\n      }\n    }\n  }, [collected, monitor, onUpdate]); // update the collected properties after react renders.\n  // Note that the \"Dustbin Stress Test\" fails if this is not\n  // done when the component updates\n\n  useIsomorphicLayoutEffect(updateCollected);\n  return [collected, updateCollected];\n}", "function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nimport { useCollector } from './useCollector';\nexport function useMonitorOutput(monitor, collect, onCollect) {\n  var _useCollector = useCollector(monitor, collect, onCollect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useIsomorphicLayoutEffect(function subscribeToMonitorStateChange() {\n    var handlerId = monitor.getHandlerId();\n\n    if (handlerId == null) {\n      return;\n    }\n\n    return monitor.subscribeToStateChange(updateCollected, {\n      handlerIds: [handlerId]\n    });\n  }, [monitor, updateCollected]);\n  return collected;\n}", "import { useMonitorOutput } from './useMonitorOutput';\nexport function useCollectedProps(collector, monitor, connector) {\n  return useMonitorOutput(monitor, collector || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n}", "import { useMemo } from 'react';\nexport function useConnectDragSource(connector) {\n  return useMemo(function () {\n    return connector.hooks.dragSource();\n  }, [connector]);\n}\nexport function useConnectDragPreview(connector) {\n  return useMemo(function () {\n    return connector.hooks.dragPreview();\n  }, [connector]);\n}", "import { useRegisteredDragSource } from './useRegisteredDragSource';\nimport { useOptionalFactory } from '../useOptionalFactory';\nimport { useDragSourceMonitor } from './useDragSourceMonitor';\nimport { useDragSourceConnector } from './useDragSourceConnector';\nimport { useCollectedProps } from '../useCollectedProps';\nimport { useConnectDragPreview, useConnectDragSource } from './connectors';\nimport { invariant } from '@react-dnd/invariant';\n/**\n * useDragSource hook\n * @param sourceSpec The drag source specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\n\nexport function useDrag(specArg, deps) {\n  var spec = useOptionalFactory(specArg, deps);\n  invariant(!spec.begin, \"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)\");\n  var monitor = useDragSourceMonitor();\n  var connector = useDragSourceConnector(spec.options, spec.previewOptions);\n  useRegisteredDragSource(spec, monitor, connector);\n  return [useCollectedProps(spec.collect, monitor, connector), useConnectDragSource(connector), useConnectDragPreview(connector)];\n}", "import { invariant } from '@react-dnd/invariant';\nimport { useMemo } from 'react';\n/**\n * Internal utility hook to get an array-version of spec.accept.\n * The main utility here is that we aren't creating a new array on every render if a non-array spec.accept is passed in.\n * @param spec\n */\n\nexport function useAccept(spec) {\n  var accept = spec.accept;\n  return useMemo(function () {\n    invariant(spec.accept != null, 'accept must be defined');\n    return Array.isArray(accept) ? accept : [accept];\n  }, [accept]);\n}", "import { useEffect, useMemo } from 'react';\nimport { DropTargetImpl } from './DropTargetImpl';\nexport function useDropTarget(spec, monitor) {\n  var dropTarget = useMemo(function () {\n    return new DropTargetImpl(spec, monitor);\n  }, [monitor]);\n  useEffect(function () {\n    dropTarget.spec = spec;\n  }, [spec]);\n  return dropTarget;\n}", "function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var DropTargetImpl = /*#__PURE__*/function () {\n  function DropTargetImpl(spec, monitor) {\n    _classCallCheck(this, DropTargetImpl);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n  }\n\n  _createClass(DropTargetImpl, [{\n    key: \"canDrop\",\n    value: function canDrop() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      return spec.canDrop ? spec.canDrop(monitor.getItem(), monitor) : true;\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (spec.hover) {\n        spec.hover(monitor.getItem(), monitor);\n      }\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (spec.drop) {\n        return spec.drop(monitor.getItem(), monitor);\n      }\n    }\n  }]);\n\n  return DropTargetImpl;\n}();", "function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { registerTarget } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nimport { useAccept } from './useAccept';\nimport { useDropTarget } from './useDropTarget';\nexport function useRegisteredDropTarget(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var dropTarget = useDropTarget(spec, monitor);\n  var accept = useAccept(spec);\n  useIsomorphicLayoutEffect(function registerDropTarget() {\n    var _registerTarget = registerTarget(accept, dropTarget, manager),\n        _registerTarget2 = _slicedToArray(_registerTarget, 2),\n        handlerId = _registerTarget2[0],\n        unregister = _registerTarget2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, [manager, monitor, dropTarget, connector, accept.map(function (a) {\n    return a.toString();\n  }).join('|')]);\n}", "import { useMemo } from 'react';\nimport { DropTargetMonitorImpl } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nexport function useDropTargetMonitor() {\n  var manager = useDragDropManager();\n  return useMemo(function () {\n    return new DropTargetMonitorImpl(manager);\n  }, [manager]);\n}", "import { useMemo } from 'react';\nimport { TargetConnector } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nexport function useDropTargetConnector(options) {\n  var manager = useDragDropManager();\n  var connector = useMemo(function () {\n    return new TargetConnector(manager.getBackend());\n  }, [manager]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dropTargetOptions = options || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDropTarget();\n    };\n  }, [options]);\n  return connector;\n}", "import { useMemo } from 'react';\nexport function useConnectDropTarget(connector) {\n  return useMemo(function () {\n    return connector.hooks.dropTarget();\n  }, [connector]);\n}", "import { useRegisteredDropTarget } from './useRegisteredDropTarget';\nimport { useOptionalFactory } from '../useOptionalFactory';\nimport { useDropTargetMonitor } from './useDropTargetMonitor';\nimport { useDropTargetConnector } from './useDropTargetConnector';\nimport { useCollectedProps } from '../useCollectedProps';\nimport { useConnectDropTarget } from './connectors';\n/**\n * useDropTarget Hook\n * @param spec The drop target specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\n\nexport function useDrop(specArg, deps) {\n  var spec = useOptionalFactory(specArg, deps);\n  var monitor = useDropTargetMonitor();\n  var connector = useDropTargetConnector(spec.options);\n  useRegisteredDropTarget(spec, monitor, connector);\n  return [useCollectedProps(spec.collect, monitor, connector), useConnectDropTarget(connector)];\n}", "function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useEffect } from 'react';\nimport { useDragDropManager } from './useDragDropManager';\nimport { useCollector } from './useCollector';\n/**\n * useDragLayer Hook\n * @param collector The property collector\n */\n\nexport function useDragLayer(collect) {\n  var dragDropManager = useDragDropManager();\n  var monitor = dragDropManager.getMonitor();\n\n  var _useCollector = useCollector(monitor, collect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useEffect(function () {\n    return monitor.subscribeToOffsetChange(updateCollected);\n  });\n  useEffect(function () {\n    return monitor.subscribeToStateChange(updateCollected);\n  });\n  return collected;\n}", "// cheap lodash replacements\nexport function memoize(fn) {\n  var result = null;\n\n  var memoized = function memoized() {\n    if (result == null) {\n      result = fn();\n    }\n\n    return result;\n  };\n\n  return memoized;\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\nexport function union(itemsA, itemsB) {\n  var set = new Set();\n\n  var insertItem = function insertItem(item) {\n    return set.add(item);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  set.forEach(function (key) {\n    return result.push(key);\n  });\n  return result;\n}", "function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { union, without } from './utils/js_utils';\nexport var EnterLeaveCounter = /*#__PURE__*/function () {\n  function EnterLeaveCounter(isNodeInDocument) {\n    _classCallCheck(this, EnterLeaveCounter);\n\n    _defineProperty(this, \"entered\", []);\n\n    _defineProperty(this, \"isNodeInDocument\", void 0);\n\n    this.isNodeInDocument = isNodeInDocument;\n  }\n\n  _createClass(EnterLeaveCounter, [{\n    key: \"enter\",\n    value: function enter(enteringNode) {\n      var _this = this;\n\n      var previousLength = this.entered.length;\n\n      var isNodeEntered = function isNodeEntered(node) {\n        return _this.isNodeInDocument(node) && (!node.contains || node.contains(enteringNode));\n      };\n\n      this.entered = union(this.entered.filter(isNodeEntered), [enteringNode]);\n      return previousLength === 0 && this.entered.length > 0;\n    }\n  }, {\n    key: \"leave\",\n    value: function leave(leavingNode) {\n      var previousLength = this.entered.length;\n      this.entered = without(this.entered.filter(this.isNodeInDocument), leavingNode);\n      return previousLength > 0 && this.entered.length === 0;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.entered = [];\n    }\n  }]);\n\n  return EnterLeaveCounter;\n}();", "import { memoize } from './utils/js_utils';\nexport var isFirefox = memoize(function () {\n  return /firefox/i.test(navigator.userAgent);\n});\nexport var isSafari = memoize(function () {\n  return Boolean(window.safari);\n});", "function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var MonotonicInterpolant = /*#__PURE__*/function () {\n  function MonotonicInterpolant(xs, ys) {\n    _classCallCheck(this, MonotonicInterpolant);\n\n    _defineProperty(this, \"xs\", void 0);\n\n    _defineProperty(this, \"ys\", void 0);\n\n    _defineProperty(this, \"c1s\", void 0);\n\n    _defineProperty(this, \"c2s\", void 0);\n\n    _defineProperty(this, \"c3s\", void 0);\n\n    var length = xs.length; // Rearrange xs and ys so that xs is sorted\n\n    var indexes = [];\n\n    for (var i = 0; i < length; i++) {\n      indexes.push(i);\n    }\n\n    indexes.sort(function (a, b) {\n      return xs[a] < xs[b] ? -1 : 1;\n    }); // Get consecutive differences and slopes\n\n    var dys = [];\n    var dxs = [];\n    var ms = [];\n    var dx;\n    var dy;\n\n    for (var _i = 0; _i < length - 1; _i++) {\n      dx = xs[_i + 1] - xs[_i];\n      dy = ys[_i + 1] - ys[_i];\n      dxs.push(dx);\n      dys.push(dy);\n      ms.push(dy / dx);\n    } // Get degree-1 coefficients\n\n\n    var c1s = [ms[0]];\n\n    for (var _i2 = 0; _i2 < dxs.length - 1; _i2++) {\n      var m2 = ms[_i2];\n      var mNext = ms[_i2 + 1];\n\n      if (m2 * mNext <= 0) {\n        c1s.push(0);\n      } else {\n        dx = dxs[_i2];\n        var dxNext = dxs[_i2 + 1];\n        var common = dx + dxNext;\n        c1s.push(3 * common / ((common + dxNext) / m2 + (common + dx) / mNext));\n      }\n    }\n\n    c1s.push(ms[ms.length - 1]); // Get degree-2 and degree-3 coefficients\n\n    var c2s = [];\n    var c3s = [];\n    var m;\n\n    for (var _i3 = 0; _i3 < c1s.length - 1; _i3++) {\n      m = ms[_i3];\n      var c1 = c1s[_i3];\n      var invDx = 1 / dxs[_i3];\n\n      var _common = c1 + c1s[_i3 + 1] - m - m;\n\n      c2s.push((m - c1 - _common) * invDx);\n      c3s.push(_common * invDx * invDx);\n    }\n\n    this.xs = xs;\n    this.ys = ys;\n    this.c1s = c1s;\n    this.c2s = c2s;\n    this.c3s = c3s;\n  }\n\n  _createClass(MonotonicInterpolant, [{\n    key: \"interpolate\",\n    value: function interpolate(x) {\n      var xs = this.xs,\n          ys = this.ys,\n          c1s = this.c1s,\n          c2s = this.c2s,\n          c3s = this.c3s; // The rightmost point in the dataset should give an exact result\n\n      var i = xs.length - 1;\n\n      if (x === xs[i]) {\n        return ys[i];\n      } // Search for the interval x is in, returning the corresponding y if x is one of the original xs\n\n\n      var low = 0;\n      var high = c3s.length - 1;\n      var mid;\n\n      while (low <= high) {\n        mid = Math.floor(0.5 * (low + high));\n        var xHere = xs[mid];\n\n        if (xHere < x) {\n          low = mid + 1;\n        } else if (xHere > x) {\n          high = mid - 1;\n        } else {\n          return ys[mid];\n        }\n      }\n\n      i = Math.max(0, high); // Interpolate\n\n      var diff = x - xs[i];\n      var diffSq = diff * diff;\n      return ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq;\n    }\n  }]);\n\n  return MonotonicInterpolant;\n}();", "import { isSafari, isFirefox } from './BrowserDetector';\nimport { MonotonicInterpolant } from './MonotonicInterpolant';\nvar ELEMENT_NODE = 1;\nexport function getNodeClientOffset(node) {\n  var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n\n  if (!el) {\n    return null;\n  }\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top,\n      left = _el$getBoundingClient.left;\n\n  return {\n    x: left,\n    y: top\n  };\n}\nexport function getEventClientOffset(e) {\n  return {\n    x: e.clientX,\n    y: e.clientY\n  };\n}\n\nfunction isImageNode(node) {\n  var _document$documentEle;\n\n  return node.nodeName === 'IMG' && (isFirefox() || !((_document$documentEle = document.documentElement) !== null && _document$documentEle !== void 0 && _document$documentEle.contains(node)));\n}\n\nfunction getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight) {\n  var dragPreviewWidth = isImage ? dragPreview.width : sourceWidth;\n  var dragPreviewHeight = isImage ? dragPreview.height : sourceHeight; // Work around @2x coordinate discrepancies in browsers\n\n  if (isSafari() && isImage) {\n    dragPreviewHeight /= window.devicePixelRatio;\n    dragPreviewWidth /= window.devicePixelRatio;\n  }\n\n  return {\n    dragPreviewWidth: dragPreviewWidth,\n    dragPreviewHeight: dragPreviewHeight\n  };\n}\n\nexport function getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint) {\n  // The browsers will use the image intrinsic size under different conditions.\n  // Firefox only cares if it's an image, but WebKit also wants it to be detached.\n  var isImage = isImageNode(dragPreview);\n  var dragPreviewNode = isImage ? sourceNode : dragPreview;\n  var dragPreviewNodeOffsetFromClient = getNodeClientOffset(dragPreviewNode);\n  var offsetFromDragPreview = {\n    x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n    y: clientOffset.y - dragPreviewNodeOffsetFromClient.y\n  };\n  var sourceWidth = sourceNode.offsetWidth,\n      sourceHeight = sourceNode.offsetHeight;\n  var anchorX = anchorPoint.anchorX,\n      anchorY = anchorPoint.anchorY;\n\n  var _getDragPreviewSize = getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight),\n      dragPreviewWidth = _getDragPreviewSize.dragPreviewWidth,\n      dragPreviewHeight = _getDragPreviewSize.dragPreviewHeight;\n\n  var calculateYOffset = function calculateYOffset() {\n    var interpolantY = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the top\n    offsetFromDragPreview.y, // Align at the center\n    offsetFromDragPreview.y / sourceHeight * dragPreviewHeight, // Dock to the bottom\n    offsetFromDragPreview.y + dragPreviewHeight - sourceHeight]);\n    var y = interpolantY.interpolate(anchorY); // Work around Safari 8 positioning bug\n\n    if (isSafari() && isImage) {\n      // We'll have to wait for @3x to see if this is entirely correct\n      y += (window.devicePixelRatio - 1) * dragPreviewHeight;\n    }\n\n    return y;\n  };\n\n  var calculateXOffset = function calculateXOffset() {\n    // Interpolate coordinates depending on anchor point\n    // If you know a simpler way to do this, let me know\n    var interpolantX = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the left\n    offsetFromDragPreview.x, // Align at the center\n    offsetFromDragPreview.x / sourceWidth * dragPreviewWidth, // Dock to the right\n    offsetFromDragPreview.x + dragPreviewWidth - sourceWidth]);\n    return interpolantX.interpolate(anchorX);\n  }; // Force offsets if specified in the options.\n\n\n  var offsetX = offsetPoint.offsetX,\n      offsetY = offsetPoint.offsetY;\n  var isManualOffsetX = offsetX === 0 || offsetX;\n  var isManualOffsetY = offsetY === 0 || offsetY;\n  return {\n    x: isManualOffsetX ? offsetX : calculateXOffset(),\n    y: isManualOffsetY ? offsetY : calculateYOffset()\n  };\n}", "export var FILE = '__NATIVE_FILE__';\nexport var URL = '__NATIVE_URL__';\nexport var TEXT = '__NATIVE_TEXT__';\nexport var HTML = '__NATIVE_HTML__';", "export function getDataFromDataTransfer(dataTransfer, typesToTry, defaultValue) {\n  var result = typesToTry.reduce(function (resultSoFar, typeToTry) {\n    return resultSoFar || dataTransfer.getData(typeToTry);\n  }, '');\n  return result != null ? result : defaultValue;\n}", "var _nativeTypesConfig;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as NativeTypes from '../NativeTypes';\nimport { getDataFromDataTransfer } from './getDataFromDataTransfer';\nexport var nativeTypesConfig = (_nativeTypesConfig = {}, _defineProperty(_nativeTypesConfig, NativeTypes.FILE, {\n  exposeProperties: {\n    files: function files(dataTransfer) {\n      return Array.prototype.slice.call(dataTransfer.files);\n    },\n    items: function items(dataTransfer) {\n      return dataTransfer.items;\n    },\n    dataTransfer: function dataTransfer(_dataTransfer) {\n      return _dataTransfer;\n    }\n  },\n  matchesTypes: ['Files']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.HTML, {\n  exposeProperties: {\n    html: function html(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    },\n    dataTransfer: function dataTransfer(_dataTransfer2) {\n      return _dataTransfer2;\n    }\n  },\n  matchesTypes: ['Html', 'text/html']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.URL, {\n  exposeProperties: {\n    urls: function urls(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n');\n    },\n    dataTransfer: function dataTransfer(_dataTransfer3) {\n      return _dataTransfer3;\n    }\n  },\n  matchesTypes: ['Url', 'text/uri-list']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.TEXT, {\n  exposeProperties: {\n    text: function text(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    },\n    dataTransfer: function dataTransfer(_dataTransfer4) {\n      return _dataTransfer4;\n    }\n  },\n  matchesTypes: ['Text', 'text/plain']\n}), _nativeTypesConfig);", "function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var NativeDragSource = /*#__PURE__*/function () {\n  function NativeDragSource(config) {\n    _classCallCheck(this, NativeDragSource);\n\n    _defineProperty(this, \"item\", void 0);\n\n    _defineProperty(this, \"config\", void 0);\n\n    this.config = config;\n    this.item = {};\n    this.initializeExposedProperties();\n  }\n\n  _createClass(NativeDragSource, [{\n    key: \"initializeExposedProperties\",\n    value: function initializeExposedProperties() {\n      var _this = this;\n\n      Object.keys(this.config.exposeProperties).forEach(function (property) {\n        Object.defineProperty(_this.item, property, {\n          configurable: true,\n          enumerable: true,\n          get: function get() {\n            // eslint-disable-next-line no-console\n            console.warn(\"Browser doesn't allow reading \\\"\".concat(property, \"\\\" until the drop event.\"));\n            return null;\n          }\n        });\n      });\n    }\n  }, {\n    key: \"loadDataTransfer\",\n    value: function loadDataTransfer(dataTransfer) {\n      var _this2 = this;\n\n      if (dataTransfer) {\n        var newProperties = {};\n        Object.keys(this.config.exposeProperties).forEach(function (property) {\n          newProperties[property] = {\n            value: _this2.config.exposeProperties[property](dataTransfer, _this2.config.matchesTypes),\n            configurable: true,\n            enumerable: true\n          };\n        });\n        Object.defineProperties(this.item, newProperties);\n      }\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      return true;\n    }\n  }, {\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      return this.item;\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(monitor, handle) {\n      return handle === monitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {// empty\n    }\n  }]);\n\n  return NativeDragSource;\n}();", "import { nativeTypesConfig } from './nativeTypesConfig';\nimport { NativeDragSource } from './NativeDragSource';\nexport function createNativeDragSource(type, dataTransfer) {\n  var result = new NativeDragSource(nativeTypesConfig[type]);\n  result.loadDataTransfer(dataTransfer);\n  return result;\n}\nexport function matchNativeItemType(dataTransfer) {\n  if (!dataTransfer) {\n    return null;\n  }\n\n  var dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || []);\n  return Object.keys(nativeTypesConfig).filter(function (nativeItemType) {\n    var matchesTypes = nativeTypesConfig[nativeItemType].matchesTypes;\n    return matchesTypes.some(function (t) {\n      return dataTransferTypes.indexOf(t) > -1;\n    });\n  })[0] || null;\n}", "function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var OptionsReader = /*#__PURE__*/function () {\n  function OptionsReader(globalContext, options) {\n    _classCallCheck(this, OptionsReader);\n\n    _defineProperty(this, \"ownerDocument\", null);\n\n    _defineProperty(this, \"globalContext\", void 0);\n\n    _defineProperty(this, \"optionsArgs\", void 0);\n\n    this.globalContext = globalContext;\n    this.optionsArgs = options;\n  }\n\n  _createClass(OptionsReader, [{\n    key: \"window\",\n    get: function get() {\n      if (this.globalContext) {\n        return this.globalContext;\n      } else if (typeof window !== 'undefined') {\n        return window;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      var _this$globalContext;\n\n      if ((_this$globalContext = this.globalContext) !== null && _this$globalContext !== void 0 && _this$globalContext.document) {\n        return this.globalContext.document;\n      } else if (this.window) {\n        return this.window.document;\n      } else {\n        return undefined;\n      }\n    }\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      var _this$optionsArgs;\n\n      return ((_this$optionsArgs = this.optionsArgs) === null || _this$optionsArgs === void 0 ? void 0 : _this$optionsArgs.rootElement) || this.window;\n    }\n  }]);\n\n  return OptionsReader;\n}();", "function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { EnterLeaveCounter } from './EnterLeaveCounter';\nimport { getNodeClientOffset, getEventClientOffset, getDragPreviewOffset } from './OffsetUtils';\nimport { createNativeDragSource, matchNativeItemType } from './NativeDragSources';\nimport * as NativeTypes from './NativeTypes';\nimport { OptionsReader } from './OptionsReader';\nexport var HTML5BackendImpl = /*#__PURE__*/function () {\n  // React-Dnd Components\n  // Internal State\n  function HTML5BackendImpl(manager, globalContext, options) {\n    var _this = this;\n\n    _classCallCheck(this, HTML5BackendImpl);\n\n    _defineProperty(this, \"options\", void 0);\n\n    _defineProperty(this, \"actions\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"registry\", void 0);\n\n    _defineProperty(this, \"enterLeaveCounter\", void 0);\n\n    _defineProperty(this, \"sourcePreviewNodes\", new Map());\n\n    _defineProperty(this, \"sourcePreviewNodeOptions\", new Map());\n\n    _defineProperty(this, \"sourceNodes\", new Map());\n\n    _defineProperty(this, \"sourceNodeOptions\", new Map());\n\n    _defineProperty(this, \"dragStartSourceIds\", null);\n\n    _defineProperty(this, \"dropTargetIds\", []);\n\n    _defineProperty(this, \"dragEnterTargetIds\", []);\n\n    _defineProperty(this, \"currentNativeSource\", null);\n\n    _defineProperty(this, \"currentNativeHandle\", null);\n\n    _defineProperty(this, \"currentDragSourceNode\", null);\n\n    _defineProperty(this, \"altKeyPressed\", false);\n\n    _defineProperty(this, \"mouseMoveTimeoutTimer\", null);\n\n    _defineProperty(this, \"asyncEndDragFrameId\", null);\n\n    _defineProperty(this, \"dragOverTargetIds\", null);\n\n    _defineProperty(this, \"lastClientOffset\", null);\n\n    _defineProperty(this, \"hoverRafId\", null);\n\n    _defineProperty(this, \"getSourceClientOffset\", function (sourceId) {\n      var source = _this.sourceNodes.get(sourceId);\n\n      return source && getNodeClientOffset(source) || null;\n    });\n\n    _defineProperty(this, \"endDragNativeItem\", function () {\n      if (!_this.isDraggingNativeItem()) {\n        return;\n      }\n\n      _this.actions.endDrag();\n\n      if (_this.currentNativeHandle) {\n        _this.registry.removeSource(_this.currentNativeHandle);\n      }\n\n      _this.currentNativeHandle = null;\n      _this.currentNativeSource = null;\n    });\n\n    _defineProperty(this, \"isNodeInDocument\", function (node) {\n      // Check the node either in the main document or in the current context\n      return Boolean(node && _this.document && _this.document.body && _this.document.body.contains(node));\n    });\n\n    _defineProperty(this, \"endDragIfSourceWasRemovedFromDOM\", function () {\n      var node = _this.currentDragSourceNode;\n\n      if (node == null || _this.isNodeInDocument(node)) {\n        return;\n      }\n\n      if (_this.clearCurrentDragSourceNode() && _this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragStartCapture\", function () {\n      _this.clearCurrentDragSourceNode();\n\n      _this.dragStartSourceIds = [];\n    });\n\n    _defineProperty(this, \"handleTopDragStart\", function (e) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      var dragStartSourceIds = _this.dragStartSourceIds;\n      _this.dragStartSourceIds = null;\n      var clientOffset = getEventClientOffset(e); // Avoid crashing if we missed a drop event or our previous drag died\n\n      if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      } // Don't publish the source just yet (see why below)\n\n\n      _this.actions.beginDrag(dragStartSourceIds || [], {\n        publishSource: false,\n        getSourceClientOffset: _this.getSourceClientOffset,\n        clientOffset: clientOffset\n      });\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (_this.monitor.isDragging()) {\n        if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n          // Use custom drag image if user specifies it.\n          // If child drag source refuses drag but parent agrees,\n          // use parent's node as drag image. Neither works in IE though.\n          var sourceId = _this.monitor.getSourceId();\n\n          var sourceNode = _this.sourceNodes.get(sourceId);\n\n          var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;\n\n          if (dragPreview) {\n            var _this$getCurrentSourc = _this.getCurrentSourcePreviewNodeOptions(),\n                anchorX = _this$getCurrentSourc.anchorX,\n                anchorY = _this$getCurrentSourc.anchorY,\n                offsetX = _this$getCurrentSourc.offsetX,\n                offsetY = _this$getCurrentSourc.offsetY;\n\n            var anchorPoint = {\n              anchorX: anchorX,\n              anchorY: anchorY\n            };\n            var offsetPoint = {\n              offsetX: offsetX,\n              offsetY: offsetY\n            };\n            var dragPreviewOffset = getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n            dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n          }\n        }\n\n        try {\n          // Firefox won't drag without setting data\n          dataTransfer === null || dataTransfer === void 0 ? void 0 : dataTransfer.setData('application/json', {});\n        } catch (err) {// IE doesn't support MIME types in setData\n        } // Store drag source node so we can check whether\n        // it is removed from DOM and trigger endDrag manually.\n\n\n        _this.setCurrentDragSourceNode(e.target); // Now we are ready to publish the drag source.. or are we not?\n\n\n        var _this$getCurrentSourc2 = _this.getCurrentSourcePreviewNodeOptions(),\n            captureDraggingState = _this$getCurrentSourc2.captureDraggingState;\n\n        if (!captureDraggingState) {\n          // Usually we want to publish it in the next tick so that browser\n          // is able to screenshot the current (not yet dragging) state.\n          //\n          // It also neatly avoids a situation where render() returns null\n          // in the same tick for the source element, and browser freaks out.\n          setTimeout(function () {\n            return _this.actions.publishDragSource();\n          }, 0);\n        } else {\n          // In some cases the user may want to override this behavior, e.g.\n          // to work around IE not supporting custom drag previews.\n          //\n          // When using a custom drag layer, the only way to prevent\n          // the default drag preview from drawing in IE is to screenshot\n          // the dragging state in which the node itself has zero opacity\n          // and height. In this case, though, returning null from render()\n          // will abruptly end the dragging, which is not obvious.\n          //\n          // This is the reason such behavior is strictly opt-in.\n          _this.actions.publishDragSource();\n        }\n      } else if (nativeType) {\n        // A native item (such as URL) dragged from inside the document\n        _this.beginDragNativeItem(nativeType);\n      } else if (dataTransfer && !dataTransfer.types && (e.target && !e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n        // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n        // Just let it drag. It's a native type (URL or text) and will be picked up in\n        // dragenter handler.\n        return;\n      } else {\n        // If by this time no drag source reacted, tell browser not to drag.\n        e.preventDefault();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEndCapture\", function () {\n      if (_this.clearCurrentDragSourceNode() && _this.monitor.isDragging()) {\n        // Firefox can dispatch this event in an infinite loop\n        // if dragend handler does something like showing an alert.\n        // Only proceed if we have not handled it already.\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEnterCapture\", function (e) {\n      _this.dragEnterTargetIds = [];\n\n      var isFirstEnter = _this.enterLeaveCounter.enter(e.target);\n\n      if (!isFirstEnter || _this.monitor.isDragging()) {\n        return;\n      }\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (nativeType) {\n        // A native item (such as file or URL) dragged from outside the document\n        _this.beginDragNativeItem(nativeType, dataTransfer);\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEnter\", function (e) {\n      var dragEnterTargetIds = _this.dragEnterTargetIds;\n      _this.dragEnterTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey; // If the target changes position as the result of `dragenter`, `dragover` might still\n      // get dispatched despite target being no longer there. The easy solution is to check\n      // whether there actually is a target before firing `hover`.\n\n      if (dragEnterTargetIds.length > 0) {\n        _this.actions.hover(dragEnterTargetIds, {\n          clientOffset: getEventClientOffset(e)\n        });\n      }\n\n      var canDrop = dragEnterTargetIds.some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // IE requires this to fire dragover events\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragOverCapture\", function () {\n      _this.dragOverTargetIds = [];\n    });\n\n    _defineProperty(this, \"handleTopDragOver\", function (e) {\n      var dragOverTargetIds = _this.dragOverTargetIds;\n      _this.dragOverTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        // Prevent default \"drop and blow away the whole document\" action.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n      _this.lastClientOffset = getEventClientOffset(e);\n\n      if (_this.hoverRafId === null && typeof requestAnimationFrame !== 'undefined') {\n        _this.hoverRafId = requestAnimationFrame(function () {\n          if (_this.monitor.isDragging()) {\n            _this.actions.hover(dragOverTargetIds || [], {\n              clientOffset: _this.lastClientOffset\n            });\n          }\n\n          _this.hoverRafId = null;\n        });\n      }\n\n      var canDrop = (dragOverTargetIds || []).some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // Show user-specified drop effect.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      } else if (_this.isDraggingNativeItem()) {\n        // Don't show a nice cursor but still prevent default\n        // \"drop and blow away the whole document\" action.\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragLeaveCapture\", function (e) {\n      if (_this.isDraggingNativeItem()) {\n        e.preventDefault();\n      }\n\n      var isLastLeave = _this.enterLeaveCounter.leave(e.target);\n\n      if (!isLastLeave) {\n        return;\n      }\n\n      if (_this.isDraggingNativeItem()) {\n        setTimeout(function () {\n          return _this.endDragNativeItem();\n        }, 0);\n      }\n    });\n\n    _defineProperty(this, \"handleTopDropCapture\", function (e) {\n      _this.dropTargetIds = [];\n\n      if (_this.isDraggingNativeItem()) {\n        var _this$currentNativeSo;\n\n        e.preventDefault();\n        (_this$currentNativeSo = _this.currentNativeSource) === null || _this$currentNativeSo === void 0 ? void 0 : _this$currentNativeSo.loadDataTransfer(e.dataTransfer);\n      } else if (matchNativeItemType(e.dataTransfer)) {\n        // Dragging some elements, like <a> and <img> may still behave like a native drag event,\n        // even if the current drag event matches a user-defined type.\n        // Stop the default behavior when we're not expecting a native item to be dropped.\n        e.preventDefault();\n      }\n\n      _this.enterLeaveCounter.reset();\n    });\n\n    _defineProperty(this, \"handleTopDrop\", function (e) {\n      var dropTargetIds = _this.dropTargetIds;\n      _this.dropTargetIds = [];\n\n      _this.actions.hover(dropTargetIds, {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      _this.actions.drop({\n        dropEffect: _this.getCurrentDropEffect()\n      });\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      } else if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleSelectStart\", function (e) {\n      var target = e.target; // Only IE requires us to explicitly say\n      // we want drag drop operation to start\n\n      if (typeof target.dragDrop !== 'function') {\n        return;\n      } // Inputs and textareas should be selectable\n\n\n      if (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n        return;\n      } // For other targets, ask IE\n      // to enable drag and drop\n\n\n      e.preventDefault();\n      target.dragDrop();\n    });\n\n    this.options = new OptionsReader(globalContext, options);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.registry = manager.getRegistry();\n    this.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument);\n  }\n  /**\n   * Generate profiling statistics for the HTML5Backend.\n   */\n\n\n  _createClass(HTML5BackendImpl, [{\n    key: \"profile\",\n    value: function profile() {\n      var _this$dragStartSource, _this$dragOverTargetI;\n\n      return {\n        sourcePreviewNodes: this.sourcePreviewNodes.size,\n        sourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n        sourceNodeOptions: this.sourceNodeOptions.size,\n        sourceNodes: this.sourceNodes.size,\n        dragStartSourceIds: ((_this$dragStartSource = this.dragStartSourceIds) === null || _this$dragStartSource === void 0 ? void 0 : _this$dragStartSource.length) || 0,\n        dropTargetIds: this.dropTargetIds.length,\n        dragEnterTargetIds: this.dragEnterTargetIds.length,\n        dragOverTargetIds: ((_this$dragOverTargetI = this.dragOverTargetIds) === null || _this$dragOverTargetI === void 0 ? void 0 : _this$dragOverTargetI.length) || 0\n      };\n    } // public for test\n\n  }, {\n    key: \"window\",\n    get: function get() {\n      return this.options.window;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n    /**\n     * Get the root element to use for event subscriptions\n     */\n\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      return this.options.rootElement;\n    }\n  }, {\n    key: \"setup\",\n    value: function setup() {\n      var root = this.rootElement;\n\n      if (root === undefined) {\n        return;\n      }\n\n      if (root.__isReactDndBackendSetUp) {\n        throw new Error('Cannot have two HTML5 backends at the same time.');\n      }\n\n      root.__isReactDndBackendSetUp = true;\n      this.addEventListeners(root);\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      var root = this.rootElement;\n\n      if (root === undefined) {\n        return;\n      }\n\n      root.__isReactDndBackendSetUp = false;\n      this.removeEventListeners(this.rootElement);\n      this.clearCurrentDragSourceNode();\n\n      if (this.asyncEndDragFrameId) {\n        var _this$window;\n\n        (_this$window = this.window) === null || _this$window === void 0 ? void 0 : _this$window.cancelAnimationFrame(this.asyncEndDragFrameId);\n      }\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this2 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this2.sourcePreviewNodes.delete(sourceId);\n\n        _this2.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourceNodes.set(sourceId, node);\n      this.sourceNodeOptions.set(sourceId, options);\n\n      var handleDragStart = function handleDragStart(e) {\n        return _this3.handleDragStart(e, sourceId);\n      };\n\n      var handleSelectStart = function handleSelectStart(e) {\n        return _this3.handleSelectStart(e);\n      };\n\n      node.setAttribute('draggable', 'true');\n      node.addEventListener('dragstart', handleDragStart);\n      node.addEventListener('selectstart', handleSelectStart);\n      return function () {\n        _this3.sourceNodes.delete(sourceId);\n\n        _this3.sourceNodeOptions.delete(sourceId);\n\n        node.removeEventListener('dragstart', handleDragStart);\n        node.removeEventListener('selectstart', handleSelectStart);\n        node.setAttribute('draggable', 'false');\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      var handleDragEnter = function handleDragEnter(e) {\n        return _this4.handleDragEnter(e, targetId);\n      };\n\n      var handleDragOver = function handleDragOver(e) {\n        return _this4.handleDragOver(e, targetId);\n      };\n\n      var handleDrop = function handleDrop(e) {\n        return _this4.handleDrop(e, targetId);\n      };\n\n      node.addEventListener('dragenter', handleDragEnter);\n      node.addEventListener('dragover', handleDragOver);\n      node.addEventListener('drop', handleDrop);\n      return function () {\n        node.removeEventListener('dragenter', handleDragEnter);\n        node.removeEventListener('dragover', handleDragOver);\n        node.removeEventListener('drop', handleDrop);\n      };\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.addEventListener) {\n        return;\n      }\n\n      target.addEventListener('dragstart', this.handleTopDragStart);\n      target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.addEventListener('dragenter', this.handleTopDragEnter);\n      target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.addEventListener('dragover', this.handleTopDragOver);\n      target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.addEventListener('drop', this.handleTopDrop);\n      target.addEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.removeEventListener) {\n        return;\n      }\n\n      target.removeEventListener('dragstart', this.handleTopDragStart);\n      target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.removeEventListener('dragenter', this.handleTopDragEnter);\n      target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.removeEventListener('dragover', this.handleTopDragOver);\n      target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.removeEventListener('drop', this.handleTopDrop);\n      target.removeEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"getCurrentSourceNodeOptions\",\n    value: function getCurrentSourceNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n      return _objectSpread({\n        dropEffect: this.altKeyPressed ? 'copy' : 'move'\n      }, sourceNodeOptions || {});\n    }\n  }, {\n    key: \"getCurrentDropEffect\",\n    value: function getCurrentDropEffect() {\n      if (this.isDraggingNativeItem()) {\n        // It makes more sense to default to 'copy' for native resources\n        return 'copy';\n      }\n\n      return this.getCurrentSourceNodeOptions().dropEffect;\n    }\n  }, {\n    key: \"getCurrentSourcePreviewNodeOptions\",\n    value: function getCurrentSourcePreviewNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n      return _objectSpread({\n        anchorX: 0.5,\n        anchorY: 0.5,\n        captureDraggingState: false\n      }, sourcePreviewNodeOptions || {});\n    }\n  }, {\n    key: \"isDraggingNativeItem\",\n    value: function isDraggingNativeItem() {\n      var itemType = this.monitor.getItemType();\n      return Object.keys(NativeTypes).some(function (key) {\n        return NativeTypes[key] === itemType;\n      });\n    }\n  }, {\n    key: \"beginDragNativeItem\",\n    value: function beginDragNativeItem(type, dataTransfer) {\n      this.clearCurrentDragSourceNode();\n      this.currentNativeSource = createNativeDragSource(type, dataTransfer);\n      this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n      this.actions.beginDrag([this.currentNativeHandle]);\n    }\n  }, {\n    key: \"setCurrentDragSourceNode\",\n    value: function setCurrentDragSourceNode(node) {\n      var _this5 = this;\n\n      this.clearCurrentDragSourceNode();\n      this.currentDragSourceNode = node; // A timeout of > 0 is necessary to resolve Firefox issue referenced\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n\n      var MOUSE_MOVE_TIMEOUT = 1000; // Receiving a mouse event in the middle of a dragging operation\n      // means it has ended and the drag source node disappeared from DOM,\n      // so the browser didn't dispatch the dragend event.\n      //\n      // We need to wait before we start listening for mousemove events.\n      // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n      // immediately in some browsers.\n      //\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n      //\n\n      this.mouseMoveTimeoutTimer = setTimeout(function () {\n        var _this5$rootElement;\n\n        return (_this5$rootElement = _this5.rootElement) === null || _this5$rootElement === void 0 ? void 0 : _this5$rootElement.addEventListener('mousemove', _this5.endDragIfSourceWasRemovedFromDOM, true);\n      }, MOUSE_MOVE_TIMEOUT);\n    }\n  }, {\n    key: \"clearCurrentDragSourceNode\",\n    value: function clearCurrentDragSourceNode() {\n      if (this.currentDragSourceNode) {\n        this.currentDragSourceNode = null;\n\n        if (this.rootElement) {\n          var _this$window2;\n\n          (_this$window2 = this.window) === null || _this$window2 === void 0 ? void 0 : _this$window2.clearTimeout(this.mouseMoveTimeoutTimer || undefined);\n          this.rootElement.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n        }\n\n        this.mouseMoveTimeoutTimer = null;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"handleDragStart\",\n    value: function handleDragStart(e, sourceId) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      if (!this.dragStartSourceIds) {\n        this.dragStartSourceIds = [];\n      }\n\n      this.dragStartSourceIds.unshift(sourceId);\n    }\n  }, {\n    key: \"handleDragEnter\",\n    value: function handleDragEnter(e, targetId) {\n      this.dragEnterTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDragOver\",\n    value: function handleDragOver(e, targetId) {\n      if (this.dragOverTargetIds === null) {\n        this.dragOverTargetIds = [];\n      }\n\n      this.dragOverTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(e, targetId) {\n      this.dropTargetIds.unshift(targetId);\n    }\n  }]);\n\n  return HTML5BackendImpl;\n}();", "var emptyImage;\nexport function getEmptyImage() {\n  if (!emptyImage) {\n    emptyImage = new Image();\n    emptyImage.src = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n  }\n\n  return emptyImage;\n}", "import { HTML5BackendImpl } from './HTML5BackendImpl';\nimport * as NativeTypes from './NativeTypes';\nexport { getEmptyImage } from './getEmptyImage';\nexport { NativeTypes };\nexport var HTML5Backend = function createBackend(manager, context, options) {\n  return new HTML5BackendImpl(manager, context, options);\n};", "import { bound, indexOf, isClosed, isItem, isOpenWithEmptyChildren, } from \"../utils\";\nfunction measureHover(el, offset) {\n    const rect = el.getBoundingClientRect();\n    const x = offset.x - Math.round(rect.x);\n    const y = offset.y - Math.round(rect.y);\n    const height = rect.height;\n    const inTopHalf = y < height / 2;\n    const inBottomHalf = !inTopHalf;\n    const pad = height / 4;\n    const inMiddle = y > pad && y < height - pad;\n    const atTop = !inMiddle && inTopHalf;\n    const atBottom = !inMiddle && inBottomHalf;\n    return { x, inTopHalf, inBottomHalf, inMiddle, atTop, atBottom };\n}\nfunction getNodesAroundCursor(node, prev, next, hover) {\n    if (!node) {\n        // We're hovering over the empty part of the list, not over an item,\n        // Put the cursor below the last item which is \"prev\"\n        return [prev, null];\n    }\n    if (node.isInternal) {\n        if (hover.atTop) {\n            return [prev, node];\n        }\n        else if (hover.inMiddle) {\n            return [node, node];\n        }\n        else {\n            return [node, next];\n        }\n    }\n    else {\n        if (hover.inTopHalf) {\n            return [prev, node];\n        }\n        else {\n            return [node, next];\n        }\n    }\n}\nfunction dropAt(parentId, index) {\n    return { parentId: parentId || null, index };\n}\nfunction lineCursor(index, level) {\n    return {\n        type: \"line\",\n        index,\n        level,\n    };\n}\nfunction noCursor() {\n    return {\n        type: \"none\",\n    };\n}\nfunction highlightCursor(id) {\n    return {\n        type: \"highlight\",\n        id,\n    };\n}\nfunction walkUpFrom(node, level) {\n    var _a;\n    let drop = node;\n    while (drop.parent && drop.level > level) {\n        drop = drop.parent;\n    }\n    const parentId = ((_a = drop.parent) === null || _a === void 0 ? void 0 : _a.id) || null;\n    const index = indexOf(drop) + 1;\n    return { parentId, index };\n}\n/**\n * This is the most complex, tricky function in the whole repo.\n */\nexport function computeDrop(args) {\n    var _a;\n    const hover = measureHover(args.element, args.offset);\n    const indent = args.indent;\n    const hoverLevel = Math.round(Math.max(0, hover.x - indent) / indent);\n    const { node, nextNode, prevNode } = args;\n    const [above, below] = getNodesAroundCursor(node, prevNode, nextNode, hover);\n    /* Hovering over the middle of a folder */\n    if (node && node.isInternal && hover.inMiddle) {\n        return {\n            drop: dropAt(node.id, null),\n            cursor: highlightCursor(node.id),\n        };\n    }\n    /*\n     * Now we only need to care about the node above the cursor\n     * -----------                            -------\n     */\n    /* There is no node above the cursor line */\n    if (!above) {\n        return {\n            drop: dropAt((_a = below === null || below === void 0 ? void 0 : below.parent) === null || _a === void 0 ? void 0 : _a.id, 0),\n            cursor: lineCursor(0, 0),\n        };\n    }\n    /* The node above the cursor line is an item */\n    if (isItem(above)) {\n        const level = bound(hoverLevel, (below === null || below === void 0 ? void 0 : below.level) || 0, above.level);\n        return {\n            drop: walkUpFrom(above, level),\n            cursor: lineCursor(above.rowIndex + 1, level),\n        };\n    }\n    /* The node above the cursor line is a closed folder */\n    if (isClosed(above)) {\n        const level = bound(hoverLevel, (below === null || below === void 0 ? void 0 : below.level) || 0, above.level);\n        return {\n            drop: walkUpFrom(above, level),\n            cursor: lineCursor(above.rowIndex + 1, level),\n        };\n    }\n    /* The node above the cursor line is an open folder with no children */\n    if (isOpenWithEmptyChildren(above)) {\n        const level = bound(hoverLevel, 0, above.level + 1);\n        if (level > above.level) {\n            /* Will be the first child of the empty folder */\n            return {\n                drop: dropAt(above.id, 0),\n                cursor: lineCursor(above.rowIndex + 1, level),\n            };\n        }\n        else {\n            /* Will be a sibling or grandsibling of the empty folder */\n            return {\n                drop: walkUpFrom(above, level),\n                cursor: lineCursor(above.rowIndex + 1, level),\n            };\n        }\n    }\n    /* The node above the cursor is a an open folder with children */\n    return {\n        drop: dropAt(above === null || above === void 0 ? void 0 : above.id, 0),\n        cursor: lineCursor(above.rowIndex + 1, above.level + 1),\n    };\n}\n", "import { useDrop } from \"react-dnd\";\nimport { useTreeApi } from \"../context\";\nimport { computeDrop } from \"./compute-drop\";\nimport { actions as dnd } from \"../state/dnd-slice\";\nexport function useDropHook(el, node) {\n    const tree = useTreeApi();\n    const [_, dropRef] = useDrop(() => ({\n        accept: \"NODE\",\n        canDrop: () => tree.canDrop(),\n        hover: (_item, m) => {\n            const offset = m.getClientOffset();\n            if (!el.current || !offset)\n                return;\n            const { cursor, drop } = computeDrop({\n                element: el.current,\n                offset: offset,\n                indent: tree.indent,\n                node: node,\n                prevNode: node.prev,\n                nextNode: node.next,\n            });\n            if (drop)\n                tree.dispatch(dnd.hovering(drop.parentId, drop.index));\n            if (m.canDrop()) {\n                if (cursor)\n                    tree.showCursor(cursor);\n            }\n            else {\n                tree.hideCursor();\n            }\n        },\n        drop: (_, m) => {\n            if (!m.canDrop())\n                return null;\n        },\n    }), [node, el.current, tree.props]);\n    return dropRef;\n}\n", "import { useMemo } from \"react\";\nimport { useTreeApi } from \"../context\";\nexport function useFreshNode(index) {\n    const tree = useTreeApi();\n    const original = tree.at(index);\n    if (!original)\n        throw new Error(`Could not find node for index: ${index}`);\n    return useMemo(() => {\n        const fresh = original.clone();\n        tree.visibleNodes[index] = fresh; // sneaky\n        return fresh;\n        // Return a fresh instance if the state values change\n    }, [...Object.values(original.state), original]);\n}\n", "export function createList(tree) {\n    if (tree.isFiltered) {\n        return flattenAndFilterTree(tree.root, tree.isMatch.bind(tree));\n    }\n    else {\n        return flattenTree(tree.root);\n    }\n}\nfunction flattenTree(root) {\n    const list = [];\n    function collect(node) {\n        var _a;\n        if (node.level >= 0) {\n            list.push(node);\n        }\n        if (node.isOpen) {\n            (_a = node.children) === null || _a === void 0 ? void 0 : _a.forEach(collect);\n        }\n    }\n    collect(root);\n    list.forEach(assignRowIndex);\n    return list;\n}\nfunction flattenAndFilterTree(root, isMatch) {\n    const matches = {};\n    const list = [];\n    function markMatch(node) {\n        const yes = !node.isRoot && isMatch(node);\n        if (yes) {\n            matches[node.id] = true;\n            let parent = node.parent;\n            while (parent) {\n                matches[parent.id] = true;\n                parent = parent.parent;\n            }\n        }\n        if (node.children) {\n            for (let child of node.children)\n                markMatch(child);\n        }\n    }\n    function collect(node) {\n        var _a;\n        if (node.level >= 0 && matches[node.id]) {\n            list.push(node);\n        }\n        if (node.isOpen) {\n            (_a = node.children) === null || _a === void 0 ? void 0 : _a.forEach(collect);\n        }\n    }\n    markMatch(root);\n    collect(root);\n    list.forEach(assignRowIndex);\n    return list;\n}\nfunction assignRowIndex(node, index) {\n    node.rowIndex = index;\n}\n", "export const createIndex = (nodes) => {\n    return nodes.reduce((map, node, index) => {\n        map[node.id] = index;\n        return map;\n    }, {});\n};\n", "var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as utils from \"../utils\";\nimport { DefaultCursor } from \"../components/default-cursor\";\nimport { DefaultRow } from \"../components/default-row\";\nimport { DefaultNode } from \"../components/default-node\";\nimport { edit } from \"../state/edit-slice\";\nimport { focus, treeBlur } from \"../state/focus-slice\";\nimport { createRoot, ROOT_ID } from \"../data/create-root\";\nimport { actions as visibility } from \"../state/open-slice\";\nimport { actions as selection } from \"../state/selection-slice\";\nimport { actions as dnd } from \"../state/dnd-slice\";\nimport { DefaultDragPreview } from \"../components/default-drag-preview\";\nimport { DefaultContainer } from \"../components/default-container\";\nimport { createList } from \"../data/create-list\";\nimport { createIndex } from \"../data/create-index\";\nconst { safeRun, identify, identifyNull } = utils;\nexport class TreeApi {\n    constructor(store, props, list, listEl) {\n        this.store = store;\n        this.props = props;\n        this.list = list;\n        this.listEl = listEl;\n        this.visibleStartIndex = 0;\n        this.visibleStopIndex = 0;\n        /* Changes here must also be made in update() */\n        this.root = createRoot(this);\n        this.visibleNodes = createList(this);\n        this.idToIndex = createIndex(this.visibleNodes);\n    }\n    /* Changes here must also be made in constructor() */\n    update(props) {\n        this.props = props;\n        this.root = createRoot(this);\n        this.visibleNodes = createList(this);\n        this.idToIndex = createIndex(this.visibleNodes);\n    }\n    /* Store helpers */\n    dispatch(action) {\n        return this.store.dispatch(action);\n    }\n    get state() {\n        return this.store.getState();\n    }\n    get openState() {\n        return this.state.nodes.open.unfiltered;\n    }\n    /* Tree Props */\n    get width() {\n        var _a;\n        return (_a = this.props.width) !== null && _a !== void 0 ? _a : 300;\n    }\n    get height() {\n        var _a;\n        return (_a = this.props.height) !== null && _a !== void 0 ? _a : 500;\n    }\n    get indent() {\n        var _a;\n        return (_a = this.props.indent) !== null && _a !== void 0 ? _a : 24;\n    }\n    get rowHeight() {\n        var _a;\n        return (_a = this.props.rowHeight) !== null && _a !== void 0 ? _a : 24;\n    }\n    get overscanCount() {\n        var _a;\n        return (_a = this.props.overscanCount) !== null && _a !== void 0 ? _a : 1;\n    }\n    get searchTerm() {\n        return (this.props.searchTerm || \"\").trim();\n    }\n    get matchFn() {\n        var _a;\n        const match = (_a = this.props.searchMatch) !== null && _a !== void 0 ? _a : ((node, term) => {\n            const string = JSON.stringify(Object.values(node.data));\n            return string.toLocaleLowerCase().includes(term.toLocaleLowerCase());\n        });\n        return (node) => match(node, this.searchTerm);\n    }\n    accessChildren(data) {\n        var _a;\n        const get = this.props.childrenAccessor || \"children\";\n        return (_a = utils.access(data, get)) !== null && _a !== void 0 ? _a : null;\n    }\n    accessId(data) {\n        const get = this.props.idAccessor || \"id\";\n        const id = utils.access(data, get);\n        if (!id)\n            throw new Error(\"Data must contain an 'id' property or props.idAccessor must return a string\");\n        return id;\n    }\n    /* Node Access */\n    get firstNode() {\n        var _a;\n        return (_a = this.visibleNodes[0]) !== null && _a !== void 0 ? _a : null;\n    }\n    get lastNode() {\n        var _a;\n        return (_a = this.visibleNodes[this.visibleNodes.length - 1]) !== null && _a !== void 0 ? _a : null;\n    }\n    get focusedNode() {\n        var _a;\n        return (_a = this.get(this.state.nodes.focus.id)) !== null && _a !== void 0 ? _a : null;\n    }\n    get mostRecentNode() {\n        var _a;\n        return (_a = this.get(this.state.nodes.selection.mostRecent)) !== null && _a !== void 0 ? _a : null;\n    }\n    get nextNode() {\n        const index = this.indexOf(this.focusedNode);\n        if (index === null)\n            return null;\n        else\n            return this.at(index + 1);\n    }\n    get prevNode() {\n        const index = this.indexOf(this.focusedNode);\n        if (index === null)\n            return null;\n        else\n            return this.at(index - 1);\n    }\n    get(id) {\n        if (!id)\n            return null;\n        if (id in this.idToIndex)\n            return this.visibleNodes[this.idToIndex[id]] || null;\n        else\n            return null;\n    }\n    at(index) {\n        return this.visibleNodes[index] || null;\n    }\n    nodesBetween(startId, endId) {\n        var _a;\n        if (startId === null || endId === null)\n            return [];\n        const index1 = (_a = this.indexOf(startId)) !== null && _a !== void 0 ? _a : 0;\n        const index2 = this.indexOf(endId);\n        if (index2 === null)\n            return [];\n        const start = Math.min(index1, index2);\n        const end = Math.max(index1, index2);\n        return this.visibleNodes.slice(start, end + 1);\n    }\n    indexOf(id) {\n        const key = utils.identifyNull(id);\n        if (!key)\n            return null;\n        return this.idToIndex[key];\n    }\n    /* Data Operations */\n    get editingId() {\n        return this.state.nodes.edit.id;\n    }\n    createInternal() {\n        return this.create({ type: \"internal\" });\n    }\n    createLeaf() {\n        return this.create({ type: \"leaf\" });\n    }\n    create(opts = {}) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            const parentId = opts.parentId === undefined\n                ? utils.getInsertParentId(this)\n                : opts.parentId;\n            const index = (_a = opts.index) !== null && _a !== void 0 ? _a : utils.getInsertIndex(this);\n            const type = (_b = opts.type) !== null && _b !== void 0 ? _b : \"leaf\";\n            const data = yield safeRun(this.props.onCreate, {\n                type,\n                parentId,\n                index,\n                parentNode: this.get(parentId),\n            });\n            if (data) {\n                this.focus(data);\n                setTimeout(() => {\n                    this.edit(data).then(() => {\n                        this.select(data);\n                        this.activate(data);\n                    });\n                });\n            }\n        });\n    }\n    delete(node) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!node)\n                return;\n            const idents = Array.isArray(node) ? node : [node];\n            const ids = idents.map(identify);\n            const nodes = ids.map((id) => this.get(id)).filter((n) => !!n);\n            yield safeRun(this.props.onDelete, { nodes, ids });\n        });\n    }\n    edit(node) {\n        const id = identify(node);\n        this.resolveEdit({ cancelled: true });\n        this.scrollTo(id);\n        this.dispatch(edit(id));\n        return new Promise((resolve) => {\n            TreeApi.editPromise = resolve;\n        });\n    }\n    submit(identity, value) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!identity)\n                return;\n            const id = identify(identity);\n            yield safeRun(this.props.onRename, {\n                id,\n                name: value,\n                node: this.get(id),\n            });\n            this.dispatch(edit(null));\n            this.resolveEdit({ cancelled: false, value });\n            setTimeout(() => this.onFocus()); // Return focus to element;\n        });\n    }\n    reset() {\n        this.dispatch(edit(null));\n        this.resolveEdit({ cancelled: true });\n        setTimeout(() => this.onFocus()); // Return focus to element;\n    }\n    activate(id) {\n        const node = this.get(identifyNull(id));\n        if (!node)\n            return;\n        safeRun(this.props.onActivate, node);\n    }\n    resolveEdit(value) {\n        const resolve = TreeApi.editPromise;\n        if (resolve)\n            resolve(value);\n        TreeApi.editPromise = null;\n    }\n    /* Focus and Selection */\n    get selectedIds() {\n        return this.state.nodes.selection.ids;\n    }\n    get selectedNodes() {\n        let nodes = [];\n        for (let id of Array.from(this.selectedIds)) {\n            const node = this.get(id);\n            if (node)\n                nodes.push(node);\n        }\n        return nodes;\n    }\n    focus(node, opts = {}) {\n        if (!node)\n            return;\n        /* Focus is responsible for scrolling, while selection is\n         * responsible for focus. If selectionFollowsFocus, then\n         * just select it. */\n        if (this.props.selectionFollowsFocus) {\n            this.select(node);\n        }\n        else {\n            this.dispatch(focus(identify(node)));\n            if (opts.scroll !== false)\n                this.scrollTo(node);\n            if (this.focusedNode)\n                safeRun(this.props.onFocus, this.focusedNode);\n        }\n    }\n    pageUp() {\n        var _a, _b;\n        const start = this.visibleStartIndex;\n        const stop = this.visibleStopIndex;\n        const page = stop - start;\n        let index = (_b = (_a = this.focusedNode) === null || _a === void 0 ? void 0 : _a.rowIndex) !== null && _b !== void 0 ? _b : 0;\n        if (index > start) {\n            index = start;\n        }\n        else {\n            index = Math.max(start - page, 0);\n        }\n        this.focus(this.at(index));\n    }\n    pageDown() {\n        var _a, _b;\n        const start = this.visibleStartIndex;\n        const stop = this.visibleStopIndex;\n        const page = stop - start;\n        let index = (_b = (_a = this.focusedNode) === null || _a === void 0 ? void 0 : _a.rowIndex) !== null && _b !== void 0 ? _b : 0;\n        if (index < stop) {\n            index = stop;\n        }\n        else {\n            index = Math.min(index + page, this.visibleNodes.length - 1);\n        }\n        this.focus(this.at(index));\n    }\n    select(node, opts = {}) {\n        if (!node)\n            return;\n        const changeFocus = opts.focus !== false;\n        const id = identify(node);\n        if (changeFocus)\n            this.dispatch(focus(id));\n        this.dispatch(selection.only(id));\n        this.dispatch(selection.anchor(id));\n        this.dispatch(selection.mostRecent(id));\n        this.scrollTo(id, opts.align);\n        if (this.focusedNode && changeFocus) {\n            safeRun(this.props.onFocus, this.focusedNode);\n        }\n        safeRun(this.props.onSelect, this.selectedNodes);\n    }\n    deselect(node) {\n        if (!node)\n            return;\n        const id = identify(node);\n        this.dispatch(selection.remove(id));\n    }\n    selectMulti(identity) {\n        const node = this.get(identifyNull(identity));\n        if (!node)\n            return;\n        this.dispatch(focus(node.id));\n        this.dispatch(selection.add(node.id));\n        this.dispatch(selection.anchor(node.id));\n        this.dispatch(selection.mostRecent(node.id));\n        this.scrollTo(node);\n        if (this.focusedNode)\n            safeRun(this.props.onFocus, this.focusedNode);\n        safeRun(this.props.onSelect, this.selectedNodes);\n    }\n    selectContiguous(identity) {\n        if (!identity)\n            return;\n        const id = identify(identity);\n        const { anchor, mostRecent } = this.state.nodes.selection;\n        this.dispatch(focus(id));\n        this.dispatch(selection.remove(this.nodesBetween(anchor, mostRecent)));\n        this.dispatch(selection.add(this.nodesBetween(anchor, identifyNull(id))));\n        this.dispatch(selection.mostRecent(id));\n        this.scrollTo(id);\n        if (this.focusedNode)\n            safeRun(this.props.onFocus, this.focusedNode);\n        safeRun(this.props.onSelect, this.selectedNodes);\n    }\n    deselectAll() {\n        this.setSelection({ ids: [], anchor: null, mostRecent: null });\n        safeRun(this.props.onSelect, this.selectedNodes);\n    }\n    selectAll() {\n        var _a;\n        this.setSelection({\n            ids: Object.keys(this.idToIndex),\n            anchor: this.firstNode,\n            mostRecent: this.lastNode,\n        });\n        this.dispatch(focus((_a = this.lastNode) === null || _a === void 0 ? void 0 : _a.id));\n        if (this.focusedNode)\n            safeRun(this.props.onFocus, this.focusedNode);\n        safeRun(this.props.onSelect, this.selectedNodes);\n    }\n    setSelection(args) {\n        var _a;\n        const ids = new Set((_a = args.ids) === null || _a === void 0 ? void 0 : _a.map(identify));\n        const anchor = identifyNull(args.anchor);\n        const mostRecent = identifyNull(args.mostRecent);\n        this.dispatch(selection.set({ ids, anchor, mostRecent }));\n        safeRun(this.props.onSelect, this.selectedNodes);\n    }\n    /* Drag and Drop */\n    get cursorParentId() {\n        const { cursor } = this.state.dnd;\n        switch (cursor.type) {\n            case \"highlight\":\n                return cursor.id;\n            default:\n                return null;\n        }\n    }\n    get cursorOverFolder() {\n        return this.state.dnd.cursor.type === \"highlight\";\n    }\n    get dragNodes() {\n        return this.state.dnd.dragIds\n            .map((id) => this.get(id))\n            .filter((n) => !!n);\n    }\n    get dragNode() {\n        return this.get(this.state.nodes.drag.id);\n    }\n    get dragDestinationParent() {\n        return this.get(this.state.nodes.drag.destinationParentId);\n    }\n    get dragDestinationIndex() {\n        return this.state.nodes.drag.destinationIndex;\n    }\n    canDrop() {\n        var _a;\n        if (this.isFiltered)\n            return false;\n        const parentNode = (_a = this.get(this.state.dnd.parentId)) !== null && _a !== void 0 ? _a : this.root;\n        const dragNodes = this.dragNodes;\n        const isDisabled = this.props.disableDrop;\n        for (const drag of dragNodes) {\n            if (!drag)\n                return false;\n            if (!parentNode)\n                return false;\n            if (drag.isInternal && utils.isDescendant(parentNode, drag))\n                return false;\n        }\n        // Allow the user to insert their own logic\n        if (typeof isDisabled == \"function\") {\n            return !isDisabled({\n                parentNode,\n                dragNodes: this.dragNodes,\n                index: this.state.dnd.index || 0,\n            });\n        }\n        else if (typeof isDisabled == \"string\") {\n            // @ts-ignore\n            return !parentNode.data[isDisabled];\n        }\n        else if (typeof isDisabled === \"boolean\") {\n            return !isDisabled;\n        }\n        else {\n            return true;\n        }\n    }\n    hideCursor() {\n        this.dispatch(dnd.cursor({ type: \"none\" }));\n    }\n    showCursor(cursor) {\n        this.dispatch(dnd.cursor(cursor));\n    }\n    /* Visibility */\n    open(identity) {\n        const id = identifyNull(identity);\n        if (!id)\n            return;\n        if (this.isOpen(id))\n            return;\n        this.dispatch(visibility.open(id, this.isFiltered));\n        safeRun(this.props.onToggle, id);\n    }\n    close(identity) {\n        const id = identifyNull(identity);\n        if (!id)\n            return;\n        if (!this.isOpen(id))\n            return;\n        this.dispatch(visibility.close(id, this.isFiltered));\n        safeRun(this.props.onToggle, id);\n    }\n    toggle(identity) {\n        const id = identifyNull(identity);\n        if (!id)\n            return;\n        return this.isOpen(id) ? this.close(id) : this.open(id);\n    }\n    openParents(identity) {\n        const id = identifyNull(identity);\n        if (!id)\n            return;\n        const node = utils.dfs(this.root, id);\n        let parent = node === null || node === void 0 ? void 0 : node.parent;\n        while (parent) {\n            this.open(parent.id);\n            parent = parent.parent;\n        }\n    }\n    openSiblings(node) {\n        const parent = node.parent;\n        if (!parent) {\n            this.toggle(node.id);\n        }\n        else if (parent.children) {\n            const isOpen = node.isOpen;\n            for (let sibling of parent.children) {\n                if (sibling.isInternal) {\n                    isOpen ? this.close(sibling.id) : this.open(sibling.id);\n                }\n            }\n            this.scrollTo(this.focusedNode);\n        }\n    }\n    openAll() {\n        utils.walk(this.root, (node) => {\n            if (node.isInternal)\n                node.open();\n        });\n    }\n    closeAll() {\n        utils.walk(this.root, (node) => {\n            if (node.isInternal)\n                node.close();\n        });\n    }\n    /* Scrolling */\n    scrollTo(identity, align = \"smart\") {\n        if (!identity)\n            return;\n        const id = identify(identity);\n        this.openParents(id);\n        return utils\n            .waitFor(() => id in this.idToIndex)\n            .then(() => {\n            var _a;\n            const index = this.idToIndex[id];\n            if (index === undefined)\n                return;\n            (_a = this.list.current) === null || _a === void 0 ? void 0 : _a.scrollToItem(index, align);\n        })\n            .catch(() => {\n            // Id: ${id} never appeared in the list.\n        });\n    }\n    /* State Checks */\n    get isEditing() {\n        return this.state.nodes.edit.id !== null;\n    }\n    get isFiltered() {\n        var _a;\n        return !!((_a = this.props.searchTerm) === null || _a === void 0 ? void 0 : _a.trim());\n    }\n    get hasFocus() {\n        return this.state.nodes.focus.treeFocused;\n    }\n    get hasNoSelection() {\n        return this.state.nodes.selection.ids.size === 0;\n    }\n    get hasOneSelection() {\n        return this.state.nodes.selection.ids.size === 1;\n    }\n    get hasMultipleSelections() {\n        return this.state.nodes.selection.ids.size > 1;\n    }\n    isSelected(id) {\n        if (!id)\n            return false;\n        return this.state.nodes.selection.ids.has(id);\n    }\n    isOpen(id) {\n        var _a, _b, _c;\n        if (!id)\n            return false;\n        if (id === ROOT_ID)\n            return true;\n        const def = (_a = this.props.openByDefault) !== null && _a !== void 0 ? _a : true;\n        if (this.isFiltered) {\n            return (_b = this.state.nodes.open.filtered[id]) !== null && _b !== void 0 ? _b : true; // Filtered folders are always opened by default\n        }\n        else {\n            return (_c = this.state.nodes.open.unfiltered[id]) !== null && _c !== void 0 ? _c : def;\n        }\n    }\n    isEditable(data) {\n        var _a;\n        const check = this.props.disableEdit || (() => false);\n        return (_a = !utils.access(data, check)) !== null && _a !== void 0 ? _a : true;\n    }\n    isDraggable(data) {\n        var _a;\n        const check = this.props.disableDrag || (() => false);\n        return (_a = !utils.access(data, check)) !== null && _a !== void 0 ? _a : true;\n    }\n    isDragging(node) {\n        const id = identifyNull(node);\n        if (!id)\n            return false;\n        return this.state.nodes.drag.id === id;\n    }\n    isFocused(id) {\n        return this.hasFocus && this.state.nodes.focus.id === id;\n    }\n    isMatch(node) {\n        return this.matchFn(node);\n    }\n    willReceiveDrop(node) {\n        const id = identifyNull(node);\n        if (!id)\n            return false;\n        const { destinationParentId, destinationIndex } = this.state.nodes.drag;\n        return id === destinationParentId && destinationIndex === null;\n    }\n    /* Tree Event Handlers */\n    onFocus() {\n        const node = this.focusedNode || this.firstNode;\n        if (node)\n            this.dispatch(focus(node.id));\n    }\n    onBlur() {\n        this.dispatch(treeBlur());\n    }\n    onItemsRendered(args) {\n        this.visibleStartIndex = args.visibleStartIndex;\n        this.visibleStopIndex = args.visibleStopIndex;\n    }\n    /* Get Renderers */\n    get renderContainer() {\n        return this.props.renderContainer || DefaultContainer;\n    }\n    get renderRow() {\n        return this.props.renderRow || DefaultRow;\n    }\n    get renderNode() {\n        return this.props.children || DefaultNode;\n    }\n    get renderDragPreview() {\n        return this.props.renderDragPreview || DefaultDragPreview;\n    }\n    get renderCursor() {\n        return this.props.renderCursor || DefaultCursor;\n    }\n}\n", "/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nexport function formatProdErrorMessage(code: number) {\n  return `Minified Redux error #${code}; visit https://redux.js.org/Errors?code=${code} for the full message or ` + 'use the non-minified dev environment for full errors. ';\n}", "declare global {\n  interface SymbolConstructor {\n    readonly observable: symbol;\n  }\n}\nconst $$observable = /* #__PURE__ */(() => typeof Symbol === 'function' && Symbol.observable || '@@observable')();\nexport default $$observable;", "/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\n\nconst randomString = () => Math.random().toString(36).substring(7).split('').join('.');\nconst ActionTypes = {\n  INIT: `@@redux/INIT${/* #__PURE__ */randomString()}`,\n  REPLACE: `@@redux/REPLACE${/* #__PURE__ */randomString()}`,\n  PROBE_UNKNOWN_ACTION: () => `@@redux/PROBE_UNKNOWN_ACTION${randomString()}`\n};\nexport default ActionTypes;", "/**\n * @param obj The object to inspect.\n * @returns True if the argument appears to be a plain object.\n */\nexport default function isPlainObject(obj: any): obj is object {\n  if (typeof obj !== 'object' || obj === null) return false;\n  let proto = obj;\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Object.getPrototypeOf(obj) === proto || Object.getPrototypeOf(obj) === null;\n}", "// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nexport function miniKindOf(val: any): string {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  const type = typeof val;\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  const constructorName = ctorName(val);\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  }\n\n  // other\n  return Object.prototype.toString.call(val).slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\nfunction ctorName(val: any): string | null {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\nfunction isError(val: any) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\nfunction isDate(val: any) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\nexport function kindOf(val: any) {\n  let typeOfVal: string = typeof val;\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n  return typeOfVal;\n}", "import { formatProdErrorMessage as _formatProdErrorMessage13 } from \"src/utils/formatProdErrorMessage\";\nimport { formatProdErrorMessage as _formatProdErrorMessage12 } from \"src/utils/formatProdErrorMessage\";\nimport { formatProdErrorMessage as _formatProdErrorMessage11 } from \"src/utils/formatProdErrorMessage\";\nimport { formatProdErrorMessage as _formatProdErrorMessage10 } from \"src/utils/formatProdErrorMessage\";\nimport { formatProdErrorMessage as _formatProdErrorMessage9 } from \"src/utils/formatProdErrorMessage\";\nimport { formatProdErrorMessage as _formatProdErrorMessage8 } from \"src/utils/formatProdErrorMessage\";\nimport { formatProdErrorMessage as _formatProdErrorMessage7 } from \"src/utils/formatProdErrorMessage\";\nimport { formatProdErrorMessage as _formatProdErrorMessage6 } from \"src/utils/formatProdErrorMessage\";\nimport { formatProdErrorMessage as _formatProdErrorMessage5 } from \"src/utils/formatProdErrorMessage\";\nimport { formatProdErrorMessage as _formatProdErrorMessage4 } from \"src/utils/formatProdErrorMessage\";\nimport { formatProdErrorMessage as _formatProdErrorMessage3 } from \"src/utils/formatProdErrorMessage\";\nimport { formatProdErrorMessage as _formatProdErrorMessage2 } from \"src/utils/formatProdErrorMessage\";\nimport { formatProdErrorMessage as _formatProdErrorMessage } from \"src/utils/formatProdErrorMessage\";\nimport $$observable from './utils/symbol-observable';\nimport { Store, StoreEnhancer, Dispatch, Observer, ListenerCallback, UnknownIfNonSpecific } from './types/store';\nimport { Action } from './types/actions';\nimport { Reducer } from './types/reducers';\nimport ActionTypes from './utils/actionTypes';\nimport isPlainObject from './utils/isPlainObject';\nimport { kindOf } from './utils/kindOf';\n\n/**\n * @deprecated\n *\n * **We recommend using the `configureStore` method\n * of the `@reduxjs/toolkit` package**, which replaces `createStore`.\n *\n * Redux Toolkit is our recommended approach for writing Redux logic today,\n * including store setup, reducers, data fetching, and more.\n *\n * **For more details, please read this Redux docs page:**\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * `configureStore` from Redux Toolkit is an improved version of `createStore` that\n * simplifies setup and helps avoid common bugs.\n *\n * You should not be using the `redux` core package by itself today, except for learning purposes.\n * The `createStore` method from the core `redux` package will not be removed, but we encourage\n * all users to migrate to using Redux Toolkit for all Redux code.\n *\n * If you want to use `createStore` without this visual deprecation warning, use\n * the `legacy_createStore` import instead:\n *\n * `import { legacy_createStore as createStore} from 'redux'`\n *\n */\nexport function createStore<S, A extends Action, Ext extends {} = {}, StateExt extends {} = {}>(reducer: Reducer<S, A>, enhancer?: StoreEnhancer<Ext, StateExt>): Store<S, A, UnknownIfNonSpecific<StateExt>> & Ext;\n/**\n * @deprecated\n *\n * **We recommend using the `configureStore` method\n * of the `@reduxjs/toolkit` package**, which replaces `createStore`.\n *\n * Redux Toolkit is our recommended approach for writing Redux logic today,\n * including store setup, reducers, data fetching, and more.\n *\n * **For more details, please read this Redux docs page:**\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * `configureStore` from Redux Toolkit is an improved version of `createStore` that\n * simplifies setup and helps avoid common bugs.\n *\n * You should not be using the `redux` core package by itself today, except for learning purposes.\n * The `createStore` method from the core `redux` package will not be removed, but we encourage\n * all users to migrate to using Redux Toolkit for all Redux code.\n *\n * If you want to use `createStore` without this visual deprecation warning, use\n * the `legacy_createStore` import instead:\n *\n * `import { legacy_createStore as createStore} from 'redux'`\n *\n */\nexport function createStore<S, A extends Action, Ext extends {} = {}, StateExt extends {} = {}, PreloadedState = S>(reducer: Reducer<S, A, PreloadedState>, preloadedState?: PreloadedState | undefined, enhancer?: StoreEnhancer<Ext, StateExt>): Store<S, A, UnknownIfNonSpecific<StateExt>> & Ext;\nexport function createStore<S, A extends Action, Ext extends {} = {}, StateExt extends {} = {}, PreloadedState = S>(reducer: Reducer<S, A, PreloadedState>, preloadedState?: PreloadedState | StoreEnhancer<Ext, StateExt> | undefined, enhancer?: StoreEnhancer<Ext, StateExt>): Store<S, A, UnknownIfNonSpecific<StateExt>> & Ext {\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage(2) : `Expected the root reducer to be a function. Instead, received: '${kindOf(reducer)}'`);\n  }\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage2(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = (preloadedState as StoreEnhancer<Ext, StateExt>);\n    preloadedState = undefined;\n  }\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage3(1) : `Expected the enhancer to be a function. Instead, received: '${kindOf(enhancer)}'`);\n    }\n    return enhancer(createStore)(reducer, (preloadedState as PreloadedState | undefined));\n  }\n  let currentReducer = reducer;\n  let currentState: S | PreloadedState | undefined = (preloadedState as PreloadedState | undefined);\n  let currentListeners: Map<number, ListenerCallback> | null = new Map();\n  let nextListeners = currentListeners;\n  let listenerIdCounter = 0;\n  let isDispatching = false;\n\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = new Map();\n      currentListeners.forEach((listener, key) => {\n        nextListeners.set(key, listener);\n      });\n    }\n  }\n\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns The current state tree of your application.\n   */\n  function getState(): S {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage4(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n    return (currentState as S);\n  }\n\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param listener A callback to be invoked on every dispatch.\n   * @returns A function to remove this change listener.\n   */\n  function subscribe(listener: () => void) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage5(4) : `Expected the listener to be a function. Instead, received: '${kindOf(listener)}'`);\n    }\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage6(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n    let isSubscribed = true;\n    ensureCanMutateNextListeners();\n    const listenerId = listenerIdCounter++;\n    nextListeners.set(listenerId, listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage7(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      nextListeners.delete(listenerId);\n      currentListeners = null;\n    };\n  }\n\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param action A plain object representing â€œwhat changedâ€. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n  function dispatch(action: A) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage8(7) : `Actions must be plain objects. Instead, the actual type was: '${kindOf(action)}'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.`);\n    }\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage9(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n    if (typeof action.type !== 'string') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage10(17) : `Action \"type\" property must be a string. Instead, the actual type was: '${kindOf(action.type)}'. Value was: '${action.type}' (stringified)`);\n    }\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage11(9) : 'Reducers may not dispatch actions.');\n    }\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n    const listeners = currentListeners = nextListeners;\n    listeners.forEach(listener => {\n      listener();\n    });\n    return action;\n  }\n\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param nextReducer The reducer for the store to use instead.\n   */\n  function replaceReducer(nextReducer: Reducer<S, A>): void {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage12(10) : `Expected the nextReducer to be a function. Instead, received: '${kindOf(nextReducer)}`);\n    }\n    currentReducer = ((nextReducer as unknown) as Reducer<S, A, PreloadedState>);\n\n    // This action has a similar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n    dispatch(({\n      type: ActionTypes.REPLACE\n    } as A));\n  }\n\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n  function observable() {\n    const outerSubscribe = subscribe;\n    return {\n      /**\n       * The minimal observable subscription method.\n       * @param observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe(observer: unknown) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage13(11) : `Expected the observer to be an object. Instead, received: '${kindOf(observer)}'`);\n        }\n        function observeState() {\n          const observerAsObserver = (observer as Observer<S>);\n          if (observerAsObserver.next) {\n            observerAsObserver.next(getState());\n          }\n        }\n        observeState();\n        const unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe\n        };\n      },\n      [$$observable]() {\n        return this;\n      }\n    };\n  }\n\n  // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n  dispatch(({\n    type: ActionTypes.INIT\n  } as A));\n  const store = (({\n    dispatch: (dispatch as Dispatch<A>),\n    subscribe,\n    getState,\n    replaceReducer,\n    [$$observable]: observable\n  } as unknown) as Store<S, A, StateExt> & Ext);\n  return store;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n *\n * **We recommend using `configureStore` from the\n * `@reduxjs/toolkit` package**, which replaces `createStore`:\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\nexport function legacy_createStore<S, A extends Action, Ext extends {} = {}, StateExt extends {} = {}>(reducer: Reducer<S, A>, enhancer?: StoreEnhancer<Ext, StateExt>): Store<S, A, UnknownIfNonSpecific<StateExt>> & Ext;\n/**\n * Creates a Redux store that holds the state tree.\n *\n * **We recommend using `configureStore` from the\n * `@reduxjs/toolkit` package**, which replaces `createStore`:\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\nexport function legacy_createStore<S, A extends Action, Ext extends {} = {}, StateExt extends {} = {}, PreloadedState = S>(reducer: Reducer<S, A, PreloadedState>, preloadedState?: PreloadedState | undefined, enhancer?: StoreEnhancer<Ext, StateExt>): Store<S, A, UnknownIfNonSpecific<StateExt>> & Ext;\nexport function legacy_createStore<S, A extends Action, Ext extends {} = {}, StateExt extends {} = {}, PreloadedState = S>(reducer: Reducer<S, A>, preloadedState?: PreloadedState | StoreEnhancer<Ext, StateExt> | undefined, enhancer?: StoreEnhancer<Ext, StateExt>): Store<S, A, UnknownIfNonSpecific<StateExt>> & Ext {\n  return createStore(reducer, (preloadedState as any), enhancer);\n}", "/**\n * Prints a warning in the console if it exists.\n *\n * @param message The warning message.\n */\nexport default function warning(message: string): void {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n}", "import { formatProdErrorMessage as _formatProdErrorMessage3 } from \"src/utils/formatProdErrorMessage\";\nimport { formatProdErrorMessage as _formatProdErrorMessage2 } from \"src/utils/formatProdErrorMessage\";\nimport { formatProdErrorMessage as _formatProdErrorMessage } from \"src/utils/formatProdErrorMessage\";\nimport { Action } from './types/actions';\nimport { ActionFromReducersMapObject, PreloadedStateShapeFromReducersMapObject, Reducer, StateFromReducersMapObject } from './types/reducers';\nimport ActionTypes from './utils/actionTypes';\nimport isPlainObject from './utils/isPlainObject';\nimport warning from './utils/warning';\nimport { kindOf } from './utils/kindOf';\nfunction getUnexpectedStateShapeWarningMessage(inputState: object, reducers: {\n  [key: string]: Reducer<any, any, any>;\n}, action: Action, unexpectedKeyCache: {\n  [key: string]: true;\n}) {\n  const reducerKeys = Object.keys(reducers);\n  const argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n  if (!isPlainObject(inputState)) {\n    return `The ${argumentName} has unexpected type of \"${kindOf(inputState)}\". Expected argument to be an object with the following ` + `keys: \"${reducerKeys.join('\", \"')}\"`;\n  }\n  const unexpectedKeys = Object.keys(inputState).filter(key => !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key]);\n  unexpectedKeys.forEach(key => {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n  if (unexpectedKeys.length > 0) {\n    return `Unexpected ${unexpectedKeys.length > 1 ? 'keys' : 'key'} ` + `\"${unexpectedKeys.join('\", \"')}\" found in ${argumentName}. ` + `Expected to find one of the known reducer keys instead: ` + `\"${reducerKeys.join('\", \"')}\". Unexpected keys will be ignored.`;\n  }\n}\nfunction assertReducerShape(reducers: {\n  [key: string]: Reducer<any, any, any>;\n}) {\n  Object.keys(reducers).forEach(key => {\n    const reducer = reducers[key];\n    const initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n    if (typeof initialState === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage(12) : `The slice reducer for key \"${key}\" returned undefined during initialization. ` + `If the state passed to the reducer is undefined, you must ` + `explicitly return the initial state. The initial state may ` + `not be undefined. If you don't want to set a value for this reducer, ` + `you can use null instead of undefined.`);\n    }\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage2(13) : `The slice reducer for key \"${key}\" returned undefined when probed with a random type. ` + `Don't try to handle '${ActionTypes.INIT}' or other actions in \"redux/*\" ` + `namespace. They are considered private. Instead, you must return the ` + `current state for any unknown actions, unless it is undefined, ` + `in which case you must return the initial state, regardless of the ` + `action type. The initial state may not be undefined, but can be null.`);\n    }\n  });\n}\n\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @template S Combined state object type.\n *\n * @param reducers An object whose values correspond to different reducer\n *   functions that need to be combined into one. One handy way to obtain it\n *   is to use `import * as reducers` syntax. The reducers may never\n *   return undefined for any action. Instead, they should return their\n *   initial state if the state passed to them was undefined, and the current\n *   state for any unrecognized action.\n *\n * @returns A reducer function that invokes every reducer inside the passed\n *   object, and builds a state object with the same shape.\n */\nexport default function combineReducers<M>(reducers: M): M[keyof M] extends Reducer<any, any, any> | undefined ? Reducer<StateFromReducersMapObject<M>, ActionFromReducersMapObject<M>, Partial<PreloadedStateShapeFromReducersMapObject<M>>> : never;\nexport default function combineReducers(reducers: {\n  [key: string]: Reducer<any, any, any>;\n}) {\n  const reducerKeys = Object.keys(reducers);\n  const finalReducers: {\n    [key: string]: Reducer<any, any, any>;\n  } = {};\n  for (let i = 0; i < reducerKeys.length; i++) {\n    const key = reducerKeys[i];\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(`No reducer provided for key \"${key}\"`);\n      }\n    }\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n  const finalReducerKeys = Object.keys(finalReducers);\n\n  // This is used to make sure we don't warn about the same\n  // keys multiple times.\n  let unexpectedKeyCache: {\n    [key: string]: true;\n  };\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n  let shapeAssertionError: unknown;\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n  return function combination(state: StateFromReducersMapObject<typeof reducers> = {}, action: Action) {\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      const warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n    let hasChanged = false;\n    const nextState: StateFromReducersMapObject<typeof reducers> = {};\n    for (let i = 0; i < finalReducerKeys.length; i++) {\n      const key = finalReducerKeys[i];\n      const reducer = finalReducers[key];\n      const previousStateForKey = state[key];\n      const nextStateForKey = reducer(previousStateForKey, action);\n      if (typeof nextStateForKey === 'undefined') {\n        const actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage3(14) : `When called with an action of type ${actionType ? `\"${String(actionType)}\"` : '(unknown type)'}, the slice reducer for key \"${key}\" returned undefined. ` + `To ignore an action, you must explicitly return the previous state. ` + `If you want this reducer to hold no value, you can return null instead of undefined.`);\n      }\n      nextState[key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}", "import { formatProdErrorMessage as _formatProdErrorMessage } from \"src/utils/formatProdErrorMessage\";\nimport { Dispatch } from './types/store';\nimport { ActionCreator, ActionCreatorsMapObject, Action } from './types/actions';\nimport { kindOf } from './utils/kindOf';\nfunction bindActionCreator<A extends Action>(actionCreator: ActionCreator<A>, dispatch: Dispatch<A>) {\n  return function (this: any, ...args: any[]) {\n    return dispatch(actionCreator.apply(this, args));\n  };\n}\n\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use `import * as`\n * syntax. You may also pass a single function.\n *\n * @param dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\nexport default function bindActionCreators<A, C extends ActionCreator<A>>(actionCreator: C, dispatch: Dispatch): C;\nexport default function bindActionCreators<A extends ActionCreator<any>, B extends ActionCreator<any>>(actionCreator: A, dispatch: Dispatch): B;\nexport default function bindActionCreators<A, M extends ActionCreatorsMapObject<A>>(actionCreators: M, dispatch: Dispatch): M;\nexport default function bindActionCreators<M extends ActionCreatorsMapObject, N extends ActionCreatorsMapObject>(actionCreators: M, dispatch: Dispatch): N;\nexport default function bindActionCreators(actionCreators: ActionCreator<any> | ActionCreatorsMapObject, dispatch: Dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage(16) : `bindActionCreators expected an object or a function, but instead received: '${kindOf(actionCreators)}'. ` + `Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?`);\n  }\n  const boundActionCreators: ActionCreatorsMapObject = {};\n  for (const key in actionCreators) {\n    const actionCreator = actionCreators[key];\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n  return boundActionCreators;\n}", "type Func<T extends any[], R> = (...a: T) => R;\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for the\n * resulting composite function.\n *\n * @param funcs The functions to compose.\n * @returns A function obtained by composing the argument functions from right\n *   to left. For example, `compose(f, g, h)` is identical to doing\n *   `(...args) => f(g(h(...args)))`.\n */\nexport default function compose(): <R>(a: R) => R;\nexport default function compose<F extends Function>(f: F): F;\n\n/* two functions */\nexport default function compose<A, T extends any[], R>(f1: (a: A) => R, f2: Func<T, A>): Func<T, R>;\n\n/* three functions */\nexport default function compose<A, B, T extends any[], R>(f1: (b: B) => R, f2: (a: A) => B, f3: Func<T, A>): Func<T, R>;\n\n/* four functions */\nexport default function compose<A, B, C, T extends any[], R>(f1: (c: C) => R, f2: (b: B) => C, f3: (a: A) => B, f4: Func<T, A>): Func<T, R>;\n\n/* rest */\nexport default function compose<R>(f1: (a: any) => R, ...funcs: Function[]): (...args: any[]) => R;\nexport default function compose<R>(...funcs: Function[]): (...args: any[]) => R;\nexport default function compose(...funcs: Function[]) {\n  if (funcs.length === 0) {\n    // infer the argument type so it is usable in inference down the line\n    return <T,>(arg: T) => arg;\n  }\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n  return funcs.reduce((a, b) => (...args: any) => a(b(...args)));\n}", "import { formatProdErrorMessage as _formatProdErrorMessage } from \"src/utils/formatProdErrorMessage\";\nimport compose from './compose';\nimport { Middleware, MiddlewareAPI } from './types/middleware';\nimport { StoreEnhancer, Dispatch } from './types/store';\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param middlewares The middleware chain to be applied.\n * @returns A store enhancer applying the middleware.\n *\n * @template Ext Dispatch signature added by a middleware.\n * @template S The type of the state supported by a middleware.\n */\nexport default function applyMiddleware(): StoreEnhancer;\nexport default function applyMiddleware<Ext1, S>(middleware1: Middleware<Ext1, S, any>): StoreEnhancer<{\n  dispatch: Ext1;\n}>;\nexport default function applyMiddleware<Ext1, Ext2, S>(middleware1: Middleware<Ext1, S, any>, middleware2: Middleware<Ext2, S, any>): StoreEnhancer<{\n  dispatch: Ext1 & Ext2;\n}>;\nexport default function applyMiddleware<Ext1, Ext2, Ext3, S>(middleware1: Middleware<Ext1, S, any>, middleware2: Middleware<Ext2, S, any>, middleware3: Middleware<Ext3, S, any>): StoreEnhancer<{\n  dispatch: Ext1 & Ext2 & Ext3;\n}>;\nexport default function applyMiddleware<Ext1, Ext2, Ext3, Ext4, S>(middleware1: Middleware<Ext1, S, any>, middleware2: Middleware<Ext2, S, any>, middleware3: Middleware<Ext3, S, any>, middleware4: Middleware<Ext4, S, any>): StoreEnhancer<{\n  dispatch: Ext1 & Ext2 & Ext3 & Ext4;\n}>;\nexport default function applyMiddleware<Ext1, Ext2, Ext3, Ext4, Ext5, S>(middleware1: Middleware<Ext1, S, any>, middleware2: Middleware<Ext2, S, any>, middleware3: Middleware<Ext3, S, any>, middleware4: Middleware<Ext4, S, any>, middleware5: Middleware<Ext5, S, any>): StoreEnhancer<{\n  dispatch: Ext1 & Ext2 & Ext3 & Ext4 & Ext5;\n}>;\nexport default function applyMiddleware<Ext, S = any>(...middlewares: Middleware<any, S, any>[]): StoreEnhancer<{\n  dispatch: Ext;\n}>;\nexport default function applyMiddleware(...middlewares: Middleware[]): StoreEnhancer<any> {\n  return createStore => (reducer, preloadedState) => {\n    const store = createStore(reducer, preloadedState);\n    let dispatch: Dispatch = () => {\n      throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage(15) : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n    };\n    const middlewareAPI: MiddlewareAPI = {\n      getState: store.getState,\n      dispatch: (action, ...args) => dispatch(action, ...args)\n    };\n    const chain = middlewares.map(middleware => middleware(middlewareAPI));\n    dispatch = compose<typeof dispatch>(...chain)(store.dispatch);\n    return {\n      ...store,\n      dispatch\n    };\n  };\n}", "import { Action } from '../types/actions';\nimport isPlainObject from './isPlainObject';\nexport default function isAction(action: unknown): action is Action<string> {\n  return isPlainObject(action) && 'type' in action && typeof (action as Record<'type', unknown>).type === 'string';\n}", "import { initialState } from \"./initial\";\n/* Reducer */\nexport function reducer(state = initialState().nodes.drag, action) {\n    switch (action.type) {\n        case \"DND_DRAG_START\":\n            return Object.assign(Object.assign({}, state), { id: action.id, selectedIds: action.dragIds });\n        case \"DND_DRAG_END\":\n            return Object.assign(Object.assign({}, state), { id: null, destinationParentId: null, destinationIndex: null, selectedIds: [] });\n        case \"DND_HOVERING\":\n            if (action.parentId !== state.destinationParentId ||\n                action.index != state.destinationIndex) {\n                return Object.assign(Object.assign({}, state), { destinationParentId: action.parentId, destinationIndex: action.index });\n            }\n            else {\n                return state;\n            }\n        default:\n            return state;\n    }\n}\n", "import { combineReducers } from \"redux\";\nimport { reducer as focus } from \"./focus-slice\";\nimport { reducer as edit } from \"./edit-slice\";\nimport { reducer as dnd } from \"./dnd-slice\";\nimport { reducer as selection } from \"./selection-slice\";\nimport { reducer as open } from \"./open-slice\";\nimport { reducer as drag } from \"./drag-slice\";\nexport const rootReducer = combineReducers({\n    nodes: combineReducers({\n        focus,\n        edit,\n        open,\n        selection,\n        drag,\n    }),\n    dnd,\n});\n", "import { useDrop } from \"react-dnd\";\nimport { useTreeApi } from \"../context\";\nimport { computeDrop } from \"./compute-drop\";\nimport { actions as dnd } from \"../state/dnd-slice\";\nexport function useOuterDrop() {\n    const tree = useTreeApi();\n    // In case we drop an item at the bottom of the list\n    const [, drop] = useDrop(() => ({\n        accept: \"NODE\",\n        canDrop: (_item, m) => {\n            if (!m.isOver({ shallow: true }))\n                return false;\n            return tree.canDrop();\n        },\n        hover: (_item, m) => {\n            if (!m.isOver({ shallow: true }))\n                return;\n            const offset = m.getClientOffset();\n            if (!tree.listEl.current || !offset)\n                return;\n            const { cursor, drop } = computeDrop({\n                element: tree.listEl.current,\n                offset: offset,\n                indent: tree.indent,\n                node: null,\n                prevNode: tree.visibleNodes[tree.visibleNodes.length - 1],\n                nextNode: null,\n            });\n            if (drop)\n                tree.dispatch(dnd.hovering(drop.parentId, drop.index));\n            if (m.canDrop()) {\n                if (cursor)\n                    tree.showCursor(cursor);\n            }\n            else {\n                tree.hideCursor();\n            }\n        },\n    }), [tree]);\n    drop(tree.listEl);\n}\n", "import { useOuterDrop } from \"../dnd/outer-drop-hook\";\nexport function OuterDrop(props) {\n    useOuterDrop();\n    return props.children;\n}\n", "import { jsx as _jsx, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { useTreeApi } from \"../context\";\nimport { DefaultContainer } from \"./default-container\";\nexport function TreeContainer() {\n    const tree = useTreeApi();\n    const Container = tree.props.renderContainer || DefaultContainer;\n    return (_jsx(_Fragment, { children: _jsx(Container, {}) }));\n}\n", "import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useDragLayer } from \"react-dnd\";\nimport { useTreeApi } from \"../context\";\nimport { DefaultDragPreview } from \"./default-drag-preview\";\nexport function DragPreviewContainer() {\n    const tree = useTreeApi();\n    const { offset, mouse, item, isDragging } = useDragLayer((m) => {\n        return {\n            offset: m.getSourceClientOffset(),\n            mouse: m.getClientOffset(),\n            item: m.getItem(),\n            isDragging: m.isDragging(),\n        };\n    });\n    const DragPreview = tree.props.renderDragPreview || DefaultDragPreview;\n    return (_jsx(DragPreview, { offset: offset, mouse: mouse, id: (item === null || item === void 0 ? void 0 : item.id) || null, dragIds: (item === null || item === void 0 ? void 0 : item.dragIds) || [], isDragging: isDragging }));\n}\n", "import { useMemo, useState } from \"react\";\nimport { SimpleTree } from \"../data/simple-tree\";\nlet nextId = 0;\nexport function useSimpleTree(initialData) {\n    const [data, setData] = useState(initialData);\n    const tree = useMemo(() => new SimpleTree(data), [data]);\n    const onMove = (args) => {\n        for (const id of args.dragIds) {\n            tree.move({ id, parentId: args.parentId, index: args.index });\n        }\n        setData(tree.data);\n    };\n    const onRename = ({ name, id }) => {\n        tree.update({ id, changes: { name } });\n        setData(tree.data);\n    };\n    const onCreate = ({ parentId, index, type }) => {\n        const data = { id: `simple-tree-id-${nextId++}`, name: \"\" };\n        if (type === \"internal\")\n            data.children = [];\n        tree.create({ parentId, index, data });\n        setData(tree.data);\n        return data;\n    };\n    const onDelete = (args) => {\n        args.ids.forEach((id) => tree.drop({ id }));\n        setData(tree.data);\n    };\n    const controller = { onMove, onRename, onCreate, onDelete };\n    return [data, controller];\n}\n", "export class SimpleTree {\n    constructor(data) {\n        this.root = createRoot(data);\n    }\n    get data() {\n        var _a, _b;\n        return (_b = (_a = this.root.children) === null || _a === void 0 ? void 0 : _a.map((node) => node.data)) !== null && _b !== void 0 ? _b : [];\n    }\n    create(args) {\n        const parent = args.parentId ? this.find(args.parentId) : this.root;\n        if (!parent)\n            return null;\n        parent.addChild(args.data, args.index);\n    }\n    move(args) {\n        const src = this.find(args.id);\n        const parent = args.parentId ? this.find(args.parentId) : this.root;\n        if (!src || !parent)\n            return;\n        parent.addChild(src.data, args.index);\n        src.drop();\n    }\n    update(args) {\n        const node = this.find(args.id);\n        if (node)\n            node.update(args.changes);\n    }\n    drop(args) {\n        const node = this.find(args.id);\n        if (node)\n            node.drop();\n    }\n    find(id, node = this.root) {\n        if (!node)\n            return null;\n        if (node.id === id)\n            return node;\n        if (node.children) {\n            for (let child of node.children) {\n                const found = this.find(id, child);\n                if (found)\n                    return found;\n            }\n            return null;\n        }\n        return null;\n    }\n}\nfunction createRoot(data) {\n    const root = new SimpleNode({ id: \"ROOT\" }, null);\n    root.children = data.map((d) => createNode(d, root));\n    return root;\n}\nfunction createNode(data, parent) {\n    const node = new SimpleNode(data, parent);\n    if (data.children)\n        node.children = data.children.map((d) => createNode(d, node));\n    return node;\n}\nclass SimpleNode {\n    constructor(data, parent) {\n        this.data = data;\n        this.parent = parent;\n        this.id = data.id;\n    }\n    hasParent() {\n        return !!this.parent;\n    }\n    get childIndex() {\n        return this.hasParent() ? this.parent.children.indexOf(this) : -1;\n    }\n    addChild(data, index) {\n        var _a, _b;\n        const node = createNode(data, this);\n        this.children = (_a = this.children) !== null && _a !== void 0 ? _a : [];\n        this.children.splice(index, 0, node);\n        this.data.children = (_b = this.data.children) !== null && _b !== void 0 ? _b : [];\n        this.data.children.splice(index, 0, data);\n    }\n    removeChild(index) {\n        var _a, _b;\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.splice(index, 1);\n        (_b = this.data.children) === null || _b === void 0 ? void 0 : _b.splice(index, 1);\n    }\n    update(changes) {\n        if (this.hasParent()) {\n            const i = this.childIndex;\n            this.parent.addChild(Object.assign(Object.assign({}, this.data), changes), i);\n            this.drop();\n        }\n    }\n    drop() {\n        if (this.hasParent())\n            this.parent.removeChild(this.childIndex);\n    }\n}\n", "import { useSimpleTree } from \"./use-simple-tree\";\nexport function useValidatedProps(props) {\n    if (props.initialData && props.data) {\n        throw new Error(`React Arborist Tree => Provide either a data or initialData prop, but not both.`);\n    }\n    if (props.initialData &&\n        (props.onCreate || props.onDelete || props.onMove || props.onRename)) {\n        throw new Error(`React Arborist Tree => You passed the initialData prop along with a data handler.\nUse the data prop if you want to provide your own handlers.`);\n    }\n    if (props.initialData) {\n        /**\n         * Let's break the rules of hooks here. If the initialData prop\n         * is provided, we will assume it will not change for the life of\n         * the component.\n         *\n         * We will provide the real data and the handlers to update it.\n         *   */\n        const [data, controller] = useSimpleTree(props.initialData);\n        return Object.assign(Object.assign(Object.assign({}, props), controller), { data });\n    }\n    else {\n        return props;\n    }\n}\n"],
  "mappings": "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",
  "names": ["React", "useState", "useEffect", "useLayoutEffect", "useSyncExternalStore", "error", "equal", "import_jsx_runtime", "import_react", "import_jsx_runtime", "import_react", "focus", "import_react", "React", "DefaultCursor", "_jsxs", "_jsx", "import_jsx_runtime", "_jsx", "import_jsx_runtime", "import_react", "_jsxs", "_jsx", "_Fragment", "reducer", "data", "reducer", "actions", "reducer", "actions", "reducer", "import_jsx_runtime", "import_react", "_jsxs", "_jsx", "Overlay", "PreviewNode", "import_jsx_runtime", "t", "e", "isEqual", "hasNativePerformanceNow", "performance", "now", "Date", "cancelTimeout", "timeoutID", "cancelAnimationFrame", "id", "requestTimeout", "callback", "delay", "start", "tick", "call", "requestAnimationFrame", "size", "getScrollbarSize", "recalculate", "div", "document", "createElement", "style", "width", "height", "overflow", "body", "appendChild", "offsetWidth", "clientWidth", "removeChild", "cachedRTLResult", "getRTLOffsetType", "outerDiv", "outerStyle", "direction", "innerDiv", "innerStyle", "scrollLeft", "IS_SCROLLING_DEBOUNCE_INTERVAL", "defaultItemKey", "columnIndex", "data", "rowIndex", "devWarningsOverscanCount", "devWarningsOverscanRowsColumnsCount", "devWarningsTagName", "process", "window", "WeakSet", "createGridComponent", "getColumnOffset", "getColumnStartIndexForOffset", "getColumnStopIndexForStartIndex", "getColumnWidth", "getEstimatedTotalHeight", "getEstimatedTotalWidth", "getOffsetForColumnAndAlignment", "getOffsetForRowAndAlignment", "getRowHeight", "getRowOffset", "getRowStartIndexForOffset", "getRowStopIndexForStartIndex", "initInstanceProps", "shouldResetStyleCacheOnItemSizeChange", "validateProps", "props", "_instanceProps", "_resetIsScrollingTimeoutId", "_outerRef", "state", "instance", "isScrolling", "horizontalScrollDirection", "initialScrollLeft", "scrollTop", "initialScrollTop", "scrollUpdateWasRequested", "verticalScrollDirection", "_callOnItemsRendered", "memoizeOne", "overscanColumnStartIndex", "overscanColumnStopIndex", "overscanRowStartIndex", "overscanRowStopIndex", "visibleColumnStartIndex", "visibleColumnStopIndex", "visibleRowStartIndex", "visibleRowStopIndex", "onItemsRendered", "_callOnScroll", "onScroll", "_getItemStyle", "columnWidth", "rowHeight", "itemStyleCache", "_getItemStyleCache", "key", "hasOwnProperty", "offset", "isRtl", "position", "left", "undefined", "right", "top", "_", "__", "___", "_onScroll", "event", "currentTarget", "clientHeight", "scrollHeight", "scrollWidth", "setState", "prevState", "calculatedScrollLeft", "Math", "max", "min", "calculatedScrollTop", "_resetIsScrollingDebounced", "_outerRefSetter", "ref", "outerRef", "current", "_resetIsScrolling", "getDerivedStateFromProps", "nextProps", "validateSharedProps", "scrollTo", "scrollToItem", "align", "columnCount", "rowCount", "scrollbarSize", "estimatedTotalHeight", "estimatedTotalWidth", "horizontalScrollbarSize", "verticalScrollbarSize", "componentDidMount", "_callPropsCallbacks", "componentDidUpdate", "componentWillUnmount", "render", "children", "className", "innerRef", "innerElementType", "innerTagName", "itemData", "itemKey", "outerElementType", "outerTagName", "useIsScrolling", "_getHorizontalRangeToRender", "columnStartIndex", "columnStopIndex", "_getVerticalRangeToRender", "rowStartIndex", "rowStopIndex", "items", "push", "WebkitOverflowScrolling", "willChange", "pointerEvents", "overscanColumnCount", "overscanColumnsCount", "overscanCount", "overscanCountResolved", "startIndex", "stopIndex", "overscanBackward", "overscanForward", "overscanRowCount", "overscanRowsCount", "PureComponent", "defaultProps", "has", "add", "console", "warn", "Error", "DEFAULT_ESTIMATED_ITEM_SIZE", "rowMetadataMap", "estimatedRowHeight", "lastMeasuredRowIndex", "totalSizeOfMeasuredRows", "itemMetadata", "numUnmeasuredItems", "totalSizeOfUnmeasuredItems", "columnMetadataMap", "estimatedColumnWidth", "lastMeasuredColumnIndex", "getItemMetadata", "itemType", "index", "instanceProps", "itemMetadataMap", "itemSize", "lastMeasuredIndex", "i", "findNearestItem", "lastMeasuredItemOffset", "findNearestItemBinarySearch", "findNearestItemExponentialSearch", "high", "low", "middle", "floor", "currentOffset", "itemCount", "interval", "getOffsetForIndexAndAlignment", "scrollOffset", "estimatedTotalSize", "maxOffset", "minOffset", "round", "VariableSizeGrid", "resetAfterColumnIndex", "shouldForceUpdate", "resetAfterIndices", "resetAfterRowIndex", "forceUpdate", "devWarningsDirection", "createListComponent", "getItemOffset", "getEstimatedTotalSize", "getItemSize", "getStartIndexForOffset", "getStopIndexForStartIndex", "scrollDirection", "initialScrollOffset", "overscanStartIndex", "overscanStopIndex", "visibleStartIndex", "visibleStopIndex", "layout", "isHorizontal", "offsetHorizontal", "_onScrollHorizontal", "_onScrollVertical", "_getRangeToRender", "estimatedItemSize", "totalSizeOfMeasuredItems", "VariableSizeList", "resetAfterIndex", "FixedSizeGrid", "lastColumnOffset", "middleOffset", "ceil", "lastRowOffset", "numVisibleColumns", "numVisibleRows", "FixedSizeList", "lastItemOffset", "numVisibleItems", "import_jsx_runtime", "import_react", "import_jsx_runtime", "Cursor", "_jsx", "_jsxs", "_jsx", "import_jsx_runtime", "import_react", "__rest", "_jsx", "import_jsx_runtime", "import_react", "import_react", "import_react", "DndContext", "import_jsx_runtime", "import_react", "HandlerRole", "invariant", "condition", "format", "args", "process", "undefined", "Error", "error", "argIndex", "replace", "name", "framesToPop", "_typeof", "obj", "items", "insertItem", "getSourceClientOffset", "verifyInvariants", "_defineProperty", "DragDropManagerImpl", "actions", "randomString", "reducer", "subscribe", "strictEquality", "isEqual", "ownKeys", "_objectSpread", "_defineProperty", "initialState", "ownKeys", "_objectSpread", "_defineProperty", "initialState", "reduce", "reduce", "reduce", "reduce", "ownKeys", "_objectSpread", "_defineProperty", "reduce", "_classCallCheck", "_defineProperties", "_createClass", "_defineProperty", "DragDropMonitorImpl", "handleChange", "getSourceClientOffset", "getDifferenceFromInitialOffset", "_typeof", "obj", "scope", "global", "self", "BrowserMutationObserver", "MutationObserver", "WebKitMutationObserver", "makeRequestCallFromTimer", "callback", "requestCall", "timeoutHandle", "setTimeout", "handleTimer", "intervalHandle", "setInterval", "clearTimeout", "clearInterval", "makeRequestCallFromMutationObserver", "toggle", "observer", "node", "document", "createTextNode", "observe", "characterData", "data", "makeRequestCall", "AsapQueue", "enqueueTask", "task", "queue", "q", "requestFlush", "length", "flushing", "pendingErrors", "index", "capacity", "flush", "currentIndex", "call", "scan", "newLength", "registerPendingError", "err", "push", "requestErrorThrow", "makeRequestCall", "makeRequestCallFromTimer", "shift", "RawTask", "call", "task", "error", "onError", "release", "TaskFactory", "create", "task", "tasks", "freeTasks", "t", "length", "pop", "RawTask", "onError", "asapQueue", "AsapQueue", "taskFactory", "TaskFactory", "registerPendingError", "asap", "task", "enqueueTask", "create", "_classCallCheck", "_defineProperties", "_createClass", "_defineProperty", "HandlerRegistryImpl", "addSource", "addTarget", "removeSource", "removeTarget", "reduce", "_slicedToArray", "_arrayWithHoles", "_iterableToArrayLimit", "_unsupportedIterableToArray", "_nonIterableRest", "_arrayLikeToArray", "_objectWithoutPropertiesLoose", "DndProvider", "_jsx", "DndContext", "import_react", "DragPreviewImage", "_classCallCheck", "_defineProperties", "_createClass", "_defineProperty", "DragSourceMonitorImpl", "getSourceClientOffset", "getDifferenceFromInitialOffset", "_classCallCheck", "_defineProperties", "_createClass", "_defineProperty", "DropTargetMonitorImpl", "getSourceClientOffset", "getDifferenceFromInitialOffset", "import_react", "node", "_typeof", "obj", "shallowEqual", "objA", "objB", "compare", "compareContext", "compareResult", "call", "keysA", "Object", "keys", "keysB", "length", "bHasOwnProperty", "prototype", "hasOwnProperty", "bind", "idx", "key", "valueA", "valueB", "_classCallCheck", "_defineProperties", "_createClass", "_defineProperty", "SourceConnector", "get", "_classCallCheck", "_defineProperties", "_createClass", "_defineProperty", "TargetConnector", "get", "_typeof", "obj", "noop", "_typeof", "isPlainObject", "import_jsx_runtime", "import_react", "_classCallCheck", "_defineProperties", "_createClass", "_defineProperty", "Disposable", "noop", "CompositeDisposable", "add", "SerialDisposable", "_classCallCheck", "_defineProperties", "_createClass", "_defineProperty", "SourceImpl", "_classCallCheck", "_defineProperty", "isPlainObject", "_createClass", "_classCallCheck", "_defineProperties", "_createClass", "_defineProperty", "TargetImpl", "_classCallCheck", "_defineProperty", "_createClass", "isPlainObject", "import_jsx_runtime", "import_react", "import_hoist_non_react_statics", "import_react", "import_react", "_typeof", "obj", "_classCallCheck", "_defineProperties", "_createClass", "_defineProperty", "DragSourceImpl", "isDragging", "import_react", "DndContext", "import_react", "_slicedToArray", "_arrayWithHoles", "_iterableToArrayLimit", "_unsupportedIterableToArray", "_nonIterableRest", "_arrayLikeToArray", "import_react", "_unsupportedIterableToArray", "_arrayLikeToArray", "import_react", "import_react", "import_react", "_slicedToArray", "_arrayWithHoles", "_iterableToArrayLimit", "_unsupportedIterableToArray", "_nonIterableRest", "_arrayLikeToArray", "equal", "_slicedToArray", "_arrayWithHoles", "_iterableToArrayLimit", "_unsupportedIterableToArray", "_nonIterableRest", "_arrayLikeToArray", "import_react", "import_react", "import_react", "_classCallCheck", "_defineProperties", "_createClass", "_defineProperty", "DropTargetImpl", "_slicedToArray", "_arrayWithHoles", "_iterableToArrayLimit", "_unsupportedIterableToArray", "_nonIterableRest", "_arrayLikeToArray", "import_react", "import_react", "import_react", "import_react", "_slicedToArray", "_arrayWithHoles", "_iterableToArrayLimit", "_unsupportedIterableToArray", "_nonIterableRest", "_arrayLikeToArray", "memoized", "without", "items", "insertItem", "_classCallCheck", "_defineProperties", "_createClass", "_defineProperty", "EnterLeaveCounter", "isNodeEntered", "without", "_classCallCheck", "_defineProperties", "_createClass", "_defineProperty", "MonotonicInterpolant", "calculateYOffset", "calculateXOffset", "dataTransfer", "_defineProperty", "dataTransfer", "_classCallCheck", "_defineProperties", "_createClass", "_defineProperty", "NativeDragSource", "get", "dataTransfer", "dataTransfer", "_classCallCheck", "_defineProperties", "_createClass", "_defineProperty", "OptionsReader", "get", "ownKeys", "_objectSpread", "_defineProperty", "_classCallCheck", "_defineProperties", "_createClass", "HTML5BackendImpl", "dataTransfer", "get", "handleDragStart", "handleSelectStart", "handleDragEnter", "handleDragOver", "handleDrop", "actions", "actions", "_", "import_react", "React", "RowContainer", "_jsx", "_jsx", "node", "safeRun", "identify", "identifyNull", "get", "actions", "$$observable", "randomString", "ActionTypes", "isPlainObject", "miniKindOf", "isDate", "isError", "ctorName", "kindOf", "createStore", "reducer", "isPlainObject", "kindOf", "reducer", "initialState", "reducer", "reducer", "createStore", "_jsx", "drop", "actions", "import_jsx_runtime", "_jsx", "_Fragment", "import_jsx_runtime", "_jsx", "import_react", "createRoot", "data", "_jsxs", "_jsx"]
}
